(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{162:function(e,t,a){},300:function(e,t,a){"use strict";a.r(t);var r=a(1),n=a.n(r),i=a(31),s=a.n(i),o=a(7),c=a(8),l=a(11),d=a(10),j=a(51),h=a.n(j);var u=function(e,t){h()({method:"get",url:"/api/users/validate",headers:{"Content-Type":"application/json",Authorization:"Bearer "+e},timeout:5e3}).then((function(e){t(null,e)})).catch((function(e){t(e,null)}))};var b=function(e,t,a){h()({method:"get",url:"/api/"+e,headers:{"Content-Type":"application/json",Authorization:"Bearer "+t},timeout:5e3}).then((function(e){a(null,e)})).catch((function(e){a(e,null)}))},p=a(24);var O=function(e,t){h()({method:"post",url:"/api/users/login",headers:{"Content-Type":"application/json"},data:JSON.stringify(e),timeout:5e3}).then((function(e){t(null,e)})).catch((function(e){t(e.response,null)}))};var m=function(e,t){h()({method:"post",url:"https://weccc.dev/api/users/login",headers:{"Content-Type":"application/json"},data:JSON.stringify(e),timeout:5e3}).then((function(e){t(null,e)})).catch((function(e){t(e,null)}))};var x=function(e,t,a){h()({method:"post",url:"/api/users/wecc",headers:{"Content-Type":"application/json"},data:JSON.stringify(t),timeout:5e3}).then((function(e){a(null,e)})).catch((function(e){a(e,null)}))},f=a(83),g=a(0),y=function(e){var t=e.children,a=e.color;return Object(g.jsx)(f.a,{component:"p",className:a,children:t})},v=a(390),C=a(302),S=a(347),w=a(344),k=a(345),D=a(346),_=a(391),P=a(199),I=a(9),A=a(221),B=a.n(A),N=a(109),L=a.n(N),E=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var r;return Object(o.a)(this,a),(r=t.call(this,e)).handleEmailChange=function(e){r.setState({email:e.target.value})},r.handlePasswordChange=function(e){r.setState({password:e.target.value})},r.handleLogin=function(){var e=r.state,t=e.email,a=e.password;if(""!==t)if(r.setState({loginValidText:""}),""!==a){r.setState({loginValidText:""});var n={email:t,password:a};r.setState({authenticating:!0}),O(n,(function(e,t){e?401===e.status||400===e.status?r.setState({loginValidText:"Your email or password is incorrect.",authenticating:!1}):(e.status,r.setState({loginValidText:"There was a problem contacting the server.  Please try again later.",authenticating:!1})):200!==t.status&&304!==t.status||!t?r.setState({loginValidText:"Either your email or password is incorrect, or your Account is Disabled.",authenticating:!1}):r.props.Login(t.data.token,t.data.user)}))}else r.setState({loginValidText:"Please enter your password."});else r.setState({loginValidText:"Please enter an email."})},r.handleWECCLogin=function(){var e=r.state,t=e.email,a=e.password;if(""!==t)if(r.setState({loginValidText:""}),""!==a){r.setState({loginValidText:""});var n={email:t,password:a};r.setState({authenticating:!0}),m(n,(function(e,a){if(e)r.setState({loginValidText:"There was a problem contacting the WECC server.  Please try again later.",authenticating:!1});else if(200===a.status||304===a.status)if(a.data.success){var n={token:a.data.token,email:t};x("users/wecc",n,(function(e,t){e?401===e.response.status?r.setState({loginValidText:"Your WECC email does not have an account associated with the Palliative IMS.",authenticating:!1}):r.setState({loginValidText:"There was a problem verifying your WECC email.",authenticating:!1}):200===t.status||304===t.status?r.props.Login(t.data.token,t.data.user):r.setState({loginValidText:"Your WECC email does not have an account associated with the Palliative IMS.",authenticating:!1})}))}else r.setState({loginValidText:"Either your WECC email or password is incorrect.",authenticating:!1});else r.setState({loginValidText:"Either your WECC email or password is incorrect.",authenticating:!1})}))}else r.setState({loginValidText:"Please enter your password."});else r.setState({loginValidText:"Please enter an email/username for WECC."})},r.state={email:"",password:"",loginValidText:"",redirectTo:"",authenticating:!1,redirect:!1},r}return Object(c.a)(a,[{key:"render",value:function(){var e=this.props.classes,t=this.state,a=t.email,r=t.loginValidText,n=t.password,i=t.authenticating;return Object(g.jsxs)("div",{className:e.main,children:[Object(g.jsx)(w.a,{}),Object(g.jsxs)(P.a,{className:e.paper,children:[Object(g.jsx)(v.a,{className:e.avatar,children:Object(g.jsx)(B.a,{})}),Object(g.jsx)(f.a,{component:"h1",variant:"h5",children:"WECCC IMS"}),Object(g.jsxs)("div",{className:e.form,children:[Object(g.jsxs)(k.a,{margin:"normal",required:!0,fullWidth:!0,children:[Object(g.jsx)(_.a,{htmlFor:"email",children:"Email Address"}),Object(g.jsx)(D.a,{id:"email",name:"email",autoComplete:"email",value:a,onChange:this.handleEmailChange,autoFocus:!0})]}),Object(g.jsxs)(k.a,{margin:"normal",required:!0,fullWidth:!0,children:[Object(g.jsx)(_.a,{htmlFor:"password",children:"Password"}),Object(g.jsx)(D.a,{name:"password",type:"password",id:"password",value:n,onChange:this.handlePasswordChange,autoComplete:"current-password"})]}),""!==r&&Object(g.jsx)(y,{color:"",children:r}),Object(g.jsxs)(C.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,disabled:i,onClick:this.handleLogin,children:["Sign in",i&&Object(g.jsx)(S.a,{size:24,className:e.spinner})]})]})]})]})}}]),a}(r.Component),U=Object(I.a)((function(e){return{main:Object(p.a)({width:"auto",display:"block",marginLeft:e.spacing(3),marginRight:e.spacing(3)},e.breakpoints.up(400+e.spacing(6)),{width:400,marginLeft:"auto",marginRight:"auto"}),paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center",padding:"".concat(e.spacing(2),"px ").concat(e.spacing(3),"px ").concat(e.spacing(3),"px")},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{marginTop:e.spacing(3)},spinner:{color:L.a[500],position:"absolute",left:"50%",marginTop:0,marginLeft:-12}}}))(E),T=a(6),M=a(17),F=a(38),W=a(222),R=a.n(W),V=a(355),Q=a(392),z=a(351),H=a(225),J=a.n(H),Y=a(226),q=a.n(Y),G=a(348),$=a(303),Z=a(349),K=a(350),X=a(99),ee=a.n(X),te=a(171),ae=a.n(te),re=a(224),ne=a.n(re),ie=a(136),se=a.n(ie),oe=a(227),ce=a.n(oe),le=a(102),de=a.n(le),je=a(112),he=a.n(je),ue=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var r;return Object(o.a)(this,a),(r=t.call(this,e)).toggleUsersCollapseMenuOpen=function(){r.setState({managementCollapseMenuOpen:!r.state.managementCollapseMenuOpen})},r.toggleChaptersCollapseMenuOpen=function(){r.setState({chaptersCollapseMenuOpen:!r.state.chaptersCollapseMenuOpen})},r.toggleCollectionsCollapseMenuOpen=function(){r.setState({collectionsCollapseMenuOpen:!r.state.collectionsCollapseMenuOpen})},r.toggleReportsCollapseMenuOpen=function(){r.setState({reportsCollapseMenuOpen:!r.state.reportsCollapseMenuOpen})},r.state={managementCollapseMenuOpen:!1,chaptersCollapseMenuOpen:!1,collectionsCollapseMenuOpen:!1,reportsCollapseMenuOpen:!1},r}return Object(c.a)(a,[{key:"render",value:function(){var e=this.props,t=e.appState,a=e.classes;return Object(g.jsxs)("div",{children:[Object(g.jsxs)(G.a,{children:[Object(g.jsxs)($.a,{button:!0,component:M.b,to:"/",children:[Object(g.jsx)(Z.a,{children:Object(g.jsx)(ae.a,{color:"primary"})}),Object(g.jsx)(K.a,{primary:"Dashboard"})]}),"Patient"!==t.role&&Object(g.jsxs)($.a,{button:!0,component:M.b,to:"/reports",children:[Object(g.jsx)(Z.a,{children:Object(g.jsx)(se.a,{color:"primary"})}),Object(g.jsx)(K.a,{primary:"Your Reports"})]}),Object(g.jsxs)($.a,{button:!0,component:M.b,to:"/profile",children:[Object(g.jsx)(Z.a,{children:Object(g.jsx)(de.a,{color:"primary"})}),Object(g.jsx)(K.a,{children:"Your Profile"})]}),"Patient"!==t.role&&Object(g.jsxs)($.a,{button:!0,component:M.b,to:"/members",children:[Object(g.jsx)(Z.a,{children:Object(g.jsx)(he.a,{color:"primary"})}),Object(g.jsx)(K.a,{primary:"Your Members"})]})]}),("Admin"===t.role||"Coordinator"===t.role)&&Object(g.jsxs)(G.a,{children:[Object(g.jsxs)($.a,{button:!0,onClick:this.toggleUsersCollapseMenuOpen,children:[Object(g.jsx)(Z.a,{children:Object(g.jsx)(ne.a,{color:"secondary"})}),Object(g.jsx)(K.a,{primary:"Management"}),this.state.managementCollapseMenuOpen?Object(g.jsx)(J.a,{}):Object(g.jsx)(q.a,{})]}),Object(g.jsx)(z.a,{in:this.state.managementCollapseMenuOpen,timeout:"auto",unmountOnExit:!0,children:Object(g.jsxs)(G.a,{component:"div",disablePadding:!0,children:[Object(g.jsxs)($.a,{button:!0,component:M.b,to:"/administration/users/management",className:a.nested,children:[Object(g.jsx)(Z.a,{children:Object(g.jsx)(he.a,{})}),Object(g.jsx)(K.a,{secondary:"Users"})]}),Object(g.jsxs)($.a,{button:!0,component:M.b,to:"/administration/booklets/management",className:a.nested,children:[Object(g.jsx)(Z.a,{children:Object(g.jsx)(ee.a,{})}),Object(g.jsx)(K.a,{secondary:"Chapters"})]}),Object(g.jsxs)($.a,{button:!0,component:M.b,to:"/administration/collections/management",className:a.nested,children:[Object(g.jsx)(Z.a,{children:Object(g.jsx)(ce.a,{})}),Object(g.jsx)(K.a,{secondary:"Collections"})]}),Object(g.jsxs)($.a,{button:!0,component:M.b,to:"/administration/reports/management",className:a.nested,children:[Object(g.jsx)(Z.a,{children:Object(g.jsx)(se.a,{})}),Object(g.jsx)(K.a,{secondary:"Reports"})]})]})})]})]})}}]),a}(r.Component),be=Object(I.a)((function(e){return{nested:{paddingLeft:e.spacing(4)},usersColors:{color:e.colorGreen},chapterColors:{color:e.colorGreen},collectionColors:{color:e.colorGreen}}}))(ue),pe=a(356),Oe=a(357),me=a(239),xe=a(354),fe=a(304),ge=a(229),ye=a.n(ge),ve=a(121),Ce=a.n(ve),Se=a(137),we=a.n(Se),ke=a(230),De=a.n(ke),_e=a(228),Pe=a.n(_e),Ie=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var r;return Object(o.a)(this,a),(r=t.call(this,e)).handleAccountMenuOpen=function(e){r.setState({accountMenuAnchor:e.currentTarget,accountMenuOpen:!0})},r.handleAccountMenuClose=function(){r.setState({accountMenuAnchor:null,accountMenuOpen:!1})},r.handleMenuClose=function(){r.setState({accountMenuAnchor:null,accountMenuOpen:!1})},r.renderAccountMenu=function(){return Object(g.jsxs)(me.a,{anchorEl:r.state.accountMenuAnchor,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},open:r.state.accountMenuOpen,onClose:r.handleMenuClose,children:[Object(g.jsxs)(xe.a,{component:M.b,to:"/profile/",onClick:r.handleAccountMenuClose,children:[Object(g.jsx)(Z.a,{children:Object(g.jsx)(de.a,{fontSize:"small"})}),Object(g.jsx)(K.a,{primary:"Your Profile"})]}),Object(g.jsxs)(xe.a,{onClick:r.props.Logout,children:[Object(g.jsx)(Z.a,{children:Object(g.jsx)(Pe.a,{fontSize:"small"})}),Object(g.jsx)(K.a,{primary:"Logout"})]}),Object(g.jsx)(V.a,{}),Object(g.jsxs)(xe.a,{onClick:r.handleAccountMenuClose,children:[Object(g.jsx)(Z.a,{children:Object(g.jsx)(Ce.a,{fontSize:"small"})}),Object(g.jsx)(K.a,{secondary:"Close Menu"})]})]})},r.state={accountMenuAnchor:null,accountMenuOpen:!1,token:e.state},r}return Object(c.a)(a,[{key:"render",value:function(){var e=this.props.classes;return Object(g.jsx)(pe.a,{position:"fixed",color:"primary",className:e.appBar,children:Object(g.jsxs)(Oe.a,{children:[Object(g.jsx)(fe.a,{color:"inherit","aria-label":"Open drawer",onClick:this.props.toggleDrawerOpen,className:e.menuButton,children:Object(g.jsx)(ye.a,{})}),Object(g.jsx)("div",{className:e.grow,children:Object(g.jsx)(f.a,{variant:"h6",color:"inherit",noWrap:!0,children:Object(g.jsx)(C.a,{color:"inherit",component:M.b,to:"/",children:"Windsor Essex Community Compassion Care IMS"})})}),Object(g.jsxs)("div",{className:e.sectionDesktop,children:[Object(g.jsx)(fe.a,{color:"inherit",children:Object(g.jsx)(De.a,{})}),Object(g.jsx)(fe.a,{color:"inherit","aria-owns":this.state.accountMenuOpen?"material-appbar":void 0,"aria-haspopup":"true",onClick:this.handleAccountMenuOpen,children:Object(g.jsx)(we.a,{})}),this.renderAccountMenu()]})]})})}}]),a}(r.Component),Ae=Object(I.a)((function(e){return{root:{display:"flex"},appBar:{zIndex:e.zIndex.drawer+1},menuButton:{marginRight:5},grow:{flexGrow:1},sectionDesktop:{display:"flex"}}}))(Ie),Be=a(358),Ne=a(389),Le=a(359),Ee=a(361),Ue=a(360),Te=function(e){return{bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"}}},Me=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var r;return Object(o.a)(this,a),(r=t.call(this,e)).checkAuth=function(){setTimeout((function(){r.props.ToggleDrawerClose(),r.props.CheckAuthenticationValidity((function(e){e&&r.setState({render:!0})}))}),200)},r.componentDidMount=function(){r.props.appState;r.classes={bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"}},r.bull=Object(g.jsx)("span",{className:r.classes.bullet,children:"\u2022"}),r.checkAuth()},r.state={render:!1},r}return Object(c.a)(a,[{key:"render",value:function(){var e=this.props,t=e.appState,a=e.classes;return this.render?Object(g.jsxs)(Be.a,{container:!0,className:a.rootGrid,direction:"row",justifyContent:"flex-start",alignItems:"stretch",spacing:2,children:[Object(g.jsx)(Be.a,{item:!0,xs:3,children:Object(g.jsx)(Ne.a,{mx:1,my:1,children:Object(g.jsxs)(Be.a,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"center",spacing:2,children:[Object(g.jsx)(Be.a,{item:!0,children:Object(g.jsx)(ae.a,{color:"primary"})}),Object(g.jsx)(Be.a,{item:!0,xs:!0,children:Object(g.jsx)(f.a,{variant:"h5",color:"secondary",align:"left",gutterBottom:!1,children:"Dashboard"})})]})})}),Object(g.jsx)(Be.a,{item:!0,xs:9,children:Object(g.jsx)(Ne.a,{mx:1,my:1})}),Object(g.jsx)(Be.a,{item:!0,xs:12,children:Object(g.jsx)(Le.a,{raised:!0,children:Object(g.jsx)(Ue.a,{children:Object(g.jsx)(Ne.a,{mx:1,my:1,boxShadow:0,children:Object(g.jsxs)(Be.a,{container:!0,direction:"column",justifyContent:"flex-start",alignItems:"stretch",spacing:1,children:[Object(g.jsx)(Be.a,{item:!0,xs:12,children:Object(g.jsxs)(f.a,{variant:"subtitle2",component:"h2",children:["Welcome back, ",t.name]})}),Object(g.jsx)(Be.a,{item:!0,xs:12,children:Object(g.jsx)(f.a,{variant:"body2",component:"h2",children:"Looks like there isnt much on the dashboard as of this moment. Please check in later to see changes to your dashboard!"})})]})})})})}),Object(g.jsxs)(Be.a,{item:!0,xs:12,container:!0,direction:"row",justifyContent:"space-evenly",alignItems:"stretch",spacing:2,children:[Object(g.jsx)(Be.a,{item:!0,xs:4,children:Object(g.jsxs)(Le.a,{variant:"outlined",style:{backgroundColor:"aliceblue"},children:[Object(g.jsxs)(Ue.a,{children:[Object(g.jsx)(f.a,{color:"textSecondary",gutterBottom:!0,children:"Word of the Day"}),Object(g.jsxs)(f.a,{variant:"h6",component:"h2",children:["be",this.bull,"nev",this.bull,"o",this.bull,"lent"]}),Object(g.jsx)(f.a,{className:a.pos,color:"textSecondary",children:"adjective"}),Object(g.jsxs)(f.a,{variant:"body2",component:"p",children:["well meaning and kindly.",Object(g.jsx)("br",{}),'"a benevolent smile"']})]}),Object(g.jsx)(Ee.a,{children:Object(g.jsx)(C.a,{size:"small",children:"Learn More"})})]})}),Object(g.jsx)(Be.a,{item:!0,xs:8,children:Object(g.jsxs)(Le.a,{variant:"outlined",style:{backgroundColor:"whitesmoke"},children:[Object(g.jsx)(Ue.a,{children:Object(g.jsx)(f.a,{color:"textSecondary",gutterBottom:!0,children:"Calendar"})}),Object(g.jsx)(Ee.a,{children:Object(g.jsx)(C.a,{size:"small",children:"Learn More"})})]})})]})]}):Object(g.jsx)(S.a,{})}}]),a}(r.Component),Fe=Object(I.a)(Te)(Me);var We=function(e,t,a,r){h()({method:"post",url:"/api/"+e,headers:{"Content-Type":"application/json",Authorization:"Bearer "+t},data:JSON.stringify(a),timeout:5e3}).then((function(e){r(null,e)})).catch((function(e){r(e,null)}))},Re=a(387),Ve=a(393),Qe=a(173),ze=a.n(Qe),He=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var r;return Object(o.a)(this,a),(r=t.call(this,e)).componentDidMount=function(){r.users={},r.users.library={},r.users.length=0,r.booklets={},r.booklets.library={},r.booklets.length=0,r.checkAuth()},r.checkAuth=function(){setTimeout((function(){r.props.ToggleDrawerClose(),r.props.CheckAuthenticationValidity((function(e){e&&r.getAllAssignedPatients()}))}),200)},r.getAllAssignedPatients=function(){var e,t=r.props.appState;t.patients.length<=0&&"Patient"!==t.role?r.setState({loadError:"You do not have any patients assigned.  In order to start a booklet, you must first be assigned a member by an Administrator.",render:!0}):("Patient"===t.role?(r.setState({patientID:t._id}),r.users.length=1,e={_id:{$in:t._id}}):(r.users.length=t.patients.length,e={_id:{$in:t.patients}}),We("users/query",t.token,e,(function(e,t){e?500===e.response.status&&r.setState({loadError:e.message,render:!0}):200===t.status||304===t.status?(r.users.length=t.data.response.count,r.populateUserData(t.data.response)):r.setState({loadError:"You are not authorized to use this page.  If you think this is a mistake, please log out and try again.",render:!0})})))},r.getAllBooklets=function(){var e=r.props.appState;b("surveys/",e.token,(function(e,t){e?r.setState({loadError:e.message,render:!0}):200===t.status?(r.booklets.length=t.data.response.count,r.populateBookletData(t.data.response)):r.setState({loadError:"Unable to retrieve booklets.  Please refresh and try agian.",render:!0})}))},r.populateUserData=function(e){if(0===r.users.length)r.setState({loadError:"You do not have any members assigned.",render:!0});else{for(var t=0;t<e.count;t++)r.users.library[t]={_id:e.users[t]._id,name:e.users[t].info.name,role:e.users[t].role,email:e.users[t].email,createdAt:e.users[t].createdAt};r.getAllBooklets()}},r.populateBookletData=function(e){if(0===r.booklets.length)r.setState({loadError:"No chapters have been created yet.",render:!0});else{for(var t=0;t<e.count;t++)r.booklets.library[t]={_id:e.surveys[t]._id,name:e.surveys[t].name,surveyJSON:e.surveys[t].surveyJSON,createdAt:e.surveys[t].createdAt,updatedAt:e.surveys[t].updatedAt};r.setState({error:"",render:!0})}},r.handleChange=function(e){r.setState(Object(p.a)({},e.target.name,e.target.value))},r.handleStartBooklet=function(){var e=r.props.appState,t=r.state,a=t.bookletIndex,n=t.patientID;if(""!==n)if(""!==a){var i={name:r.booklets.library[a].name,patientId:n,templateId:r.booklets.library[a]._id,surveyJSON:r.booklets.library[a].surveyJSON,responseJSON:"{}",approved:!1,createdBy:e._id,modifiedBy:e._id};r.setState({startError:"",starting:!0}),We("membersurveys/",e.token,i,(function(e,t){if(e)r.setState({startError:e.message,starting:!1});else if(201===t.status){var a=t.data.memberSurvey._id;r.setState({startError:"",starting:!1,redirect:!0,redirectTo:"/booklet/"+a}),r.setState({redirect:r.state.redirectTo})}else r.setState({startError:"Unable to start the chapter. Please try again later.",starting:!1})}))}else r.setState({startError:"Please select a booklet.",render:!0});else r.setState({startError:"Please select a patient.",render:!0})},r.createRow=function(e,t){return{_id:e,name:t}},r.renderSelect=function(){for(var e=r.props.classes,t=r.state,a=t.bookletIndex,n=t.patientID,i=[],s=[],o=0;o<r.users.length;o++)i.push(r.createRow(r.users.library[o]._id,r.users.library[o].name));for(var c=0;c<r.booklets.length;c++)s.push(r.createRow(r.booklets.library[c]._id,r.booklets.library[c].name));return Object(g.jsxs)("form",{className:e.root,autoComplete:"off",children:[Object(g.jsxs)(k.a,{className:e.formControl,fullWidth:!0,children:[Object(g.jsx)(_.a,{htmlFor:"selectPatient",children:"Members"}),Object(g.jsxs)(Re.a,{value:n,onChange:r.handleChange,inputProps:{name:"patientID",id:"selectPatient"},children:[Object(g.jsx)(xe.a,{value:"",children:Object(g.jsx)("em",{children:"Select Member"})}),i.map((function(e,t){return Object(g.jsx)(xe.a,{value:e._id,children:e.name},t)}))]})]}),Object(g.jsxs)(k.a,{className:e.formControl,fullWidth:!0,children:[Object(g.jsx)(_.a,{htmlFor:"selectChapter",children:"Chapters"}),Object(g.jsxs)(Re.a,{value:a,onChange:r.handleChange,inputProps:{name:"bookletIndex",id:"selectChapter"},children:[Object(g.jsx)(xe.a,{value:"",children:Object(g.jsx)("em",{children:"Select Chapters"})}),s.map((function(e,t){return Object(g.jsx)(xe.a,{value:t,children:e.name},t)}))]})]})]})},r.state={patientID:"",bookletIndex:"",loadError:"",startError:"",render:!1,starting:!1,redirect:!1,redirectTo:""},r}return Object(c.a)(a,[{key:"render",value:function(){var e=this.props.classes,t=this.state,a=t.assigning,r=t.loadError,n=t.render,i=t.redirect,s=t.redirectTo,o=t.startError;return i?Object(g.jsx)(F.a,{to:s}):n?0===this.users.length||0===this.booklets.length?Object(g.jsx)(Le.a,{className:e.card,children:Object(g.jsxs)(Ue.a,{children:[Object(g.jsx)(f.a,{component:"p",variant:"h5",className:e.title,children:"Start a Chapter"}),""!==r&&Object(g.jsx)(y,{color:e.error,children:r})]})}):Object(g.jsx)("div",{children:Object(g.jsxs)(Be.a,{container:!0,className:e.rootGrid,direction:"row",justifyContent:"flex-start",alignItems:"stretch",spacing:2,children:[Object(g.jsx)(Be.a,{item:!0,xs:3,children:Object(g.jsx)(Ne.a,{mx:1,my:1,children:Object(g.jsxs)(Be.a,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"center",spacing:2,children:[Object(g.jsx)(Be.a,{item:!0,children:Object(g.jsx)(ee.a,{color:"primary"})}),Object(g.jsx)(Be.a,{item:!0,xs:!0,children:Object(g.jsx)(f.a,{variant:"h5",color:"secondary",align:"left",gutterBottom:!1,children:"Start a Chapter"})})]})})}),Object(g.jsx)(Be.a,{item:!0,xs:9,children:Object(g.jsx)(Ne.a,{mx:1,my:1})}),Object(g.jsx)(Be.a,{item:!0,xs:12,children:Object(g.jsx)(Le.a,{raised:!0,children:Object(g.jsx)(Ue.a,{children:Object(g.jsx)(Ne.a,{mx:1,my:1,boxShadow:0,children:Object(g.jsxs)(Be.a,{container:!0,direction:"column",justifyContent:"flex-start",alignItems:"stretch",spacing:1,children:[Object(g.jsx)(Be.a,{item:!0,xs:12,children:Object(g.jsx)(f.a,{variant:"subtitle2",component:"h2",children:"Start a Chapter"})}),Object(g.jsx)(Be.a,{item:!0,xs:12,children:Object(g.jsx)(f.a,{variant:"body2",component:"h2",children:"Select a member and a chapter to begin conducting your questionairre.  If you wish to continue a chapter that has already been created, navigate to your members, click on the member profile and continue one of the 'In Progress' survey."})})]})})})})}),Object(g.jsx)(Be.a,{item:!0,xs:12,children:Object(g.jsxs)(Le.a,{raised:!0,children:[Object(g.jsx)(Ue.a,{children:Object(g.jsx)(Ne.a,{mx:1,my:1,boxShadow:0,children:Object(g.jsxs)(Be.a,{container:!0,direction:"column",justifyContent:"flex-start",alignItems:"stretch",spacing:1,children:[Object(g.jsx)(Be.a,{item:!0,xs:12,children:Object(g.jsx)(f.a,{variant:"subtitle2",component:"h2",children:"Select your assigned Member & Chapter"})}),Object(g.jsxs)(Be.a,{item:!0,xs:12,children:[this.renderSelect(),""!==o&&Object(g.jsx)(f.a,{variant:"body2",color:"error",component:"h2",children:o})]})]})})}),Object(g.jsx)(Ee.a,{children:Object(g.jsx)("div",{className:e.alignLeftSpacer,children:a?Object(g.jsx)(S.a,{className:e.spinner}):Object(g.jsx)(Ve.a,{title:"Start a Chapter",children:Object(g.jsx)(C.a,{size:"small",color:"primary",variant:"contained",startIcon:Object(g.jsx)(ze.a,{}),onClick:this.handleStartBooklet,children:"Start"})})})})]})})]})}):Object(g.jsx)(S.a,{})}}]),a}(r.Component),Je=(Object(I.a)((function(e){return{title:e.title,card:e.card,buttonIcon:{marginLeft:5},root:{display:"flex",flexWrap:"wrap"},formControl:{margin:e.spacing(1)},alignLeftSpacer:e.alignLeftSpacer,error:e.error,success:e.success}}))(He),function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var r;return Object(o.a)(this,a),(r=t.call(this,e)).componentDidMount=function(){r.users={},r.users.library={},r.users.length=0,r.checkAuth()},r.checkAuth=function(){setTimeout((function(){r.props.ToggleDrawerClose(),r.props.CheckAuthenticationValidity((function(e){e&&r.getAllAssignedPatients()}))}),200)},r.getAllAssignedPatients=function(){var e,t=r.props.appState;t.patients.length<=0&&"Patient"!==t.role?r.setState({loadError:"You do not have any patients assigned.  In order to start a collection, you must first be assigned a member by an Administrator.",render:!0}):("Patient"===t.role?(r.setState({patientID:t._id}),r.users.length=1,e={_id:{$in:t._id}}):(r.users.length=t.patients.length,e={_id:{$in:t.patients}}),We("users/query",t.token,e,(function(e,t){e?r.setState({loadError:e.message,render:!0}):200===t.status||304===t.status?(r.users.length=t.data.response.count,r.populateUserData(t.data.response)):r.setState({loadError:"You are not authorized to use this page.  If you think this is a mistake, please log out and try again.",render:!0})})))},r.populateUserData=function(e){if(0===r.users.length)r.setState({loadError:"You do not have any members assigned.",render:!0});else{for(var t=0;t<e.count;t++)r.users.library[t]={_id:e.users[t]._id,name:e.users[t].info.name,role:e.users[t].role,email:e.users[t].email,createdAt:e.users[t].createdAt};r.getAllCollections()}},r.handleChange=function(e){r.setState(Object(p.a)({},e.target.name,e.target.value))},r.handleStartCollection=function(){var e=r.props.appState,t=r.state.patientID;if(""!==t){var a={createdBy:e._id,modifiedBy:e._id,patientId:t};r.setState({startError:"",starting:!0}),We("collections/",e.token,a,(function(e,t){e?r.setState({startError:e.message,starting:!1}):201===t.status?(r.setState({startError:"",starting:!1,redirect:!0,redirectTo:"/administration/booklets/management"}),r.setState({redirect:r.state.redirectTo})):r.setState({startError:"Unable to start the collection. Please try again later.",starting:!1})}))}else r.setState({startError:"Please select a patient.",render:!0})},r.createRow=function(e,t){return{_id:e,name:t}},r.renderSelect=function(){for(var e=r.props.classes,t=r.state.patientID,a=[],n=0;n<r.users.length;n++)a.push(r.createRow(r.users.library[n]._id,r.users.library[n].name));return Object(g.jsx)("form",{className:e.root,autoComplete:"off",children:Object(g.jsxs)(k.a,{className:e.formControl,fullWidth:!0,children:[Object(g.jsx)(_.a,{htmlFor:"selectPatient",children:"Members"}),Object(g.jsxs)(Re.a,{value:t,onChange:r.handleChange,inputProps:{name:"patientID",id:"selectPatient"},children:[Object(g.jsx)(xe.a,{value:"",children:Object(g.jsx)("em",{children:"Select Member"})}),a.map((function(e,t){return Object(g.jsx)(xe.a,{value:e._id,children:e.name},t)}))]})]})})},r.state={patientID:"",loadError:"",startError:"",render:!1,starting:!1,redirect:!1,redirectTo:""},r}return Object(c.a)(a,[{key:"render",value:function(){var e=this.props.classes,t=this.state,a=t.assigning,r=t.loadError,n=t.render,i=t.redirect,s=t.redirectTo,o=t.startError;return i?Object(g.jsx)(F.a,{to:s}):n?0===this.users.length?Object(g.jsx)(Le.a,{className:e.card,children:Object(g.jsxs)(Ue.a,{children:[Object(g.jsx)(f.a,{component:"p",variant:"h5",className:e.title,children:"Start a Collection"}),""!==r&&Object(g.jsx)(y,{color:e.error,children:r})]})}):Object(g.jsx)("div",{children:Object(g.jsxs)(Be.a,{container:!0,className:e.rootGrid,direction:"row",justifyContent:"flex-start",alignItems:"stretch",spacing:2,children:[Object(g.jsx)(Be.a,{item:!0,xs:3,children:Object(g.jsx)(Ne.a,{mx:1,my:1,children:Object(g.jsxs)(Be.a,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"center",spacing:2,children:[Object(g.jsx)(Be.a,{item:!0,children:Object(g.jsx)(ee.a,{color:"primary"})}),Object(g.jsx)(Be.a,{item:!0,xs:!0,children:Object(g.jsx)(f.a,{variant:"h5",color:"secondary",align:"left",gutterBottom:!1,children:"Start a Collection"})})]})})}),Object(g.jsx)(Be.a,{item:!0,xs:9,children:Object(g.jsx)(Ne.a,{mx:1,my:1})}),Object(g.jsx)(Be.a,{item:!0,xs:12,children:Object(g.jsx)(Le.a,{raised:!0,children:Object(g.jsx)(Ue.a,{children:Object(g.jsx)(Ne.a,{mx:1,my:1,boxShadow:0,children:Object(g.jsxs)(Be.a,{container:!0,direction:"column",justifyContent:"flex-start",alignItems:"stretch",spacing:1,children:[Object(g.jsx)(Be.a,{item:!0,xs:12,children:Object(g.jsx)(f.a,{variant:"subtitle2",component:"h2",children:"Start a Collection"})}),Object(g.jsx)(Be.a,{item:!0,xs:12,children:Object(g.jsx)(f.a,{variant:"body2",component:"h2",children:"Select a member to begin a collection of public chapter templates.  If you wish to continue a fillable chapter within a collection that has already been created, navigate to your members, click on the member profile and continue one of the 'In Progress' chapters."})})]})})})})}),Object(g.jsx)(Be.a,{item:!0,xs:12,children:Object(g.jsxs)(Le.a,{raised:!0,children:[Object(g.jsx)(Ue.a,{children:Object(g.jsx)(Ne.a,{mx:1,my:1,boxShadow:0,children:Object(g.jsxs)(Be.a,{container:!0,direction:"column",justifyContent:"flex-start",alignItems:"stretch",spacing:1,children:[Object(g.jsx)(Be.a,{item:!0,xs:12,children:Object(g.jsx)(f.a,{variant:"subtitle2",component:"h2",children:"Select your assigned Member & Chapter"})}),Object(g.jsxs)(Be.a,{item:!0,xs:12,children:[this.renderSelect(),""!==o&&Object(g.jsx)(f.a,{variant:"body2",color:"error",component:"h2",children:o})]})]})})}),Object(g.jsx)(Ee.a,{children:Object(g.jsx)("div",{className:e.alignLeftSpacer,children:a?Object(g.jsx)(S.a,{className:e.spinner}):Object(g.jsx)(Ve.a,{title:"Start a Chapter",children:Object(g.jsx)(C.a,{size:"small",color:"primary",variant:"contained",startIcon:Object(g.jsx)(ze.a,{}),onClick:this.handleStartCollection,children:"Start"})})})})]})})]})}):Object(g.jsx)(S.a,{})}}]),a}(r.Component));Object(I.a)((function(e){return{title:e.title,card:e.card,buttonIcon:{marginLeft:5},root:{display:"flex",flexWrap:"wrap"},formControl:{margin:e.spacing(1)},alignLeftSpacer:e.alignLeftSpacer,error:e.error,success:e.success}}))(Je);var Ye=function(e,t,a,r){h()({method:"patch",url:"/api/"+e,headers:{"Content-Type":"application/json",Authorization:"Bearer "+t},data:JSON.stringify(a),timeout:5e3}).then((function(e){r(null,e)})).catch((function(e){r(e,null)}))},qe=function(e){e.getAllQuestions().length;var t=0,a=0;e.getAllQuestions().forEach((function(e){if("html"!=e.getType()&&!e.isReadOnly)if(t+=1,"matrix"==e.getType()){if(e.hasOwnProperty("propertyHash")&&e.propertyHash&&e.propertyHash.hasOwnProperty("rows")&&e.propertyHash.rows&&Array.isArray(e.propertyHash.rows)&&e.propertyHash.hasOwnProperty("value")&&e.propertyHash.value){var r=e.propertyHash.rows.length,n=Object.keys(e.propertyHash.value).length;n<r?1:n==r&&(a+=1)}}else if("matrixdynamic"==e.getType()){if(e.hasOwnProperty("propertyHash")&&e.propertyHash&&e.propertyHash.hasOwnProperty("rows")&&e.propertyHash.rows&&Array.isArray(e.propertyHash.rows)&&e.propertyHash.hasOwnProperty("value")&&e.propertyHash.value&&e.propertyHash.hasOwnProperty("columns")&&e.propertyHash.columns){var i=e.propertyHash.columns.length,s=e.propertyHash.rowCount,o=0;s>0?(e.propertyHash.value.forEach((function(e){Object.keys(e).length==i&&(o+=1)})),o<s?1:o==s&&(a+=1)):a+=1}}else if("multipletext"==e.getType()){if(e.hasOwnProperty("propertyHash")&&e.propertyHash&&e.propertyHash.hasOwnProperty("items")&&e.propertyHash.items&&Array.isArray(e.propertyHash.items)&&e.propertyHash.hasOwnProperty("value")&&e.propertyHash.value){var c=e.propertyHash.items.length,l=Object.keys(e.propertyHash.value).length;l<c?1:l==c&&(a+=1)}}else"checkbox"==e.getType()?e.hasOwnProperty("propertyHash")&&e.propertyHash&&e.propertyHash.hasOwnProperty("value")&&e.propertyHash.value&&Array.isArray(e.propertyHash.value)&&e.propertyHash.value.length>0&&(a+=1):"text"==e.getType()?e.hasOwnProperty("propertyHash")&&e.propertyHash&&e.propertyHash.hasOwnProperty("value")&&e.propertyHash.value&&/\S/.test(String(e.propertyHash.value))&&(a+=1):"radiogroup"==e.getType()?e.hasOwnProperty("propertyHash")&&e.propertyHash&&e.propertyHash.hasOwnProperty("value")&&e.propertyHash.value&&String(e.propertyHash.value)&&(a+=1):"rating"==e.getType()?e.hasOwnProperty("propertyHash")&&e.propertyHash&&e.propertyHash.hasOwnProperty("value")&&e.propertyHash.value&&parseInt(e.propertyHash.value)&&(a+=1):"nouislider"==e.getType()&&e.hasOwnProperty("propertyHash")&&e.propertyHash&&e.propertyHash.hasOwnProperty("value")&&e.propertyHash.value&&parseInt(e.propertyHash.value)&&(a+=1)}));var r=Math.round(a/t*100*100)/100;return r||0},Ge=a(79),$e=a.n(Ge),Ze=a(232),Ke=a.n(Ze),Xe=a(49),et=a.n(Xe),tt=a(35),at=a(122),rt=(a(105),function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var r;return Object(o.a)(this,a),(r=t.call(this,e)).componentDidMount=function(){r.surveyJSON={},r.responseJSON={},setTimeout((function(){r.props.CheckAuthenticationValidity((function(e){e&&r.loadSurvey()}))}),200),tt.StylesManager.applyTheme("default")},r.handleBackToMemberButton=function(){r.props.history.goBack()},r.loadSurvey=function(){var e=r.props.appState,t=r.props.match.params.memberSurveyID;null!=t?b("membersurveys/"+t,e.token,(function(e,t){if(e)r.setState({loadError:"Unable to load the survey.  Please make sure your Booklet ID is correct and you have proper permissions.",render:!0});else if(200===t.status||304===t.status){var a=t.data.memberSurvey;r.setState({currentSurveyJSON:a.surveyJSON,currentSurveyResponseJSON:a.responseJSON}),r.surveyJSON=JSON.parse(a.surveyJSON),r.responseJSON=JSON.parse(a.responseJSON),window.survey=new tt.Model(r.surveyJSON),window.survey.showPageNumbers=!0,window.survey.showNavigationButtons=!0,window.survey.showPageTitles=!0,window.survey.showTitle=!0,window.survey.showPrevButton=!0,window.survey.data=r.responseJSON,window.survey.sendResultOnPageNext=!0,window.survey.onComplete.add((function(e){r.saveSurvey(e)})),window.survey.onPartialSend.add((function(e){r.saveSurvey(e)})),r.setState({loadError:"",surveyApproved:a.approved,render:!0})}else r.setState({loadError:"Unable to load the survey.  Please make sure your Booklet ID is correct and you have proper permissions.",render:!0});r.removeMessages()})):(r.setState({loadError:"Unable to load the survey.  Please make sure your Booklet ID is correct and you have proper permissions.",render:!0}),r.removeMessages())},r.saveSurvey=function(e){var t=r.props.appState,a=r.props.match.params.memberSurveyID,n={responseJSON:JSON.stringify(e.data),completeStatus:qe(e)};r.setState({currentSurveyResponseJSON:JSON.stringify(e.data)}),Ye("membersurveys/"+a,t.token,n,(function(e,t){e?r.setState({saveError:"Cannot save survey.  Please try agian later.",saveSuccess:"",render:!0}):200===t.status||304===t.status?r.setState({saveError:"",saveSuccess:"Survey has been saved.",render:!0}):r.setState({saveError:"Cannot save survey.  Please try agian later.",saveSuccess:"",render:!0}),r.removeMessages()}))},r.approveSurvey=function(){var e=r.state.surveyApproved,t=r.props.appState,a=r.props.match.params.memberSurveyID;if(!e){Ye("membersurveys/"+a,t.token,{approved:!0},(function(e,t){e?r.setState({saveError:"Cannot approve survey.  Please try agian later.",saveSuccess:"",render:!0}):200===t.status||304===t.status?r.setState({saveError:"",saveSuccess:"This survey has been approved.",surveyApproved:!0,render:!0}):r.setState({saveError:"Cannot approve survey.  Please try agian later.",saveSuccess:"",render:!0}),r.removeMessages()}))}},r.exportToPDF=function(){var e="",t="{}";r.state.currentSurveyJSON&&(e=JSON.parse(r.state.currentSurveyJSON)),r.state.currentSurveyResponseJSON&&(t=JSON.parse(r.state.currentSurveyResponseJSON));var a=new at.SurveyPDF(e,{format:[210,297],fontSize:14,margins:{left:10,right:10,top:18,bot:10}});a.data=t;var n=r.props.match.url.replace("/","-");a.save(n+".pdf")},r.removeMessages=function(){setTimeout((function(){r.setState({saveError:"",saveSuccess:""})}),7500)},r.state={loadError:"",saveError:"",saveSuccess:"",surveyApproved:!1,render:!1,currentSurveyJSON:null,currentSurveyResponseJSON:null},r}return Object(c.a)(a,[{key:"render",value:function(){var e=this.props,t=e.appState,a=e.classes,r=this.state,n=r.loadError,i=r.saveError,s=r.saveSuccess,o=r.render,c=r.surveyApproved,l=!0;"Patient"===t.role&&(l=!1);var d="This survey has already been approved.";return"Volunteer"===t.role&&(l=!1),c||(d="This survey is pending approval."),null!=window.survey?Object(g.jsx)("div",{children:o?Object(g.jsxs)(Be.a,{container:!0,className:a.rootGrid,direction:"row",justifyContent:"flex-start",alignItems:"stretch",spacing:2,children:[Object(g.jsx)(Be.a,{item:!0,xs:3,children:Object(g.jsx)(Ne.a,{mx:1,my:1,children:Object(g.jsxs)(Be.a,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"center",spacing:2,children:[Object(g.jsx)(Be.a,{item:!0,children:Object(g.jsx)(Ke.a,{color:"primary"})}),Object(g.jsx)(Be.a,{item:!0,xs:!0,children:Object(g.jsx)(f.a,{variant:"h5",color:"secondary",align:"left",gutterBottom:!1,children:"Completing Chapter"})}),Object(g.jsx)(Be.a,{item:!0,xs:12,children:Object(g.jsx)(C.a,{color:"default",startIcon:Object(g.jsx)(et.a,{}),onClick:this.handleBackToMemberButton,children:"Back to Member"})})]})})}),Object(g.jsx)(Be.a,{item:!0,xs:9,children:Object(g.jsxs)(Ne.a,{mx:1,my:1,children:[""!==i&&Object(g.jsx)(y,{children:i}),""!==s&&Object(g.jsx)(y,{children:s})]})}),Object(g.jsx)(Be.a,{item:!0,xs:12,container:!0,direction:"column-reverse",justifyContent:"flex-start",alignItems:"stretch",children:Object(g.jsx)(Le.a,{raised:!0,children:Object(g.jsx)(Ue.a,{children:Object(g.jsx)(Ne.a,{mx:1,my:1,boxShadow:0,children:Object(g.jsxs)("div",{className:a.alignLeftSpacer,children:[l&&Object(g.jsx)(Ve.a,{title:d,placement:"left",children:Object(g.jsx)(C.a,{className:a.buttonMargin,size:"small",variant:"contained",color:"secondary",onClick:this.approveSurvey,children:"Approve this Chapter"})}),Object(g.jsx)(Ve.a,{title:"View Profile",children:Object(g.jsx)(C.a,{size:"small",color:"primary",variant:"contained",startIcon:Object(g.jsx)($e.a,{}),onClick:this.exportToPDF,children:"Export Pdf"})})]})})})})}),Object(g.jsx)(Be.a,{item:!0,xs:12,container:!0,direction:"column-reverse",justifyContent:"flex-start",alignItems:"stretch",children:Object(g.jsx)(Le.a,{raised:!0,children:Object(g.jsx)(Ue.a,{children:Object(g.jsx)(Ne.a,{mx:1,my:1,boxShadow:0,children:Object(g.jsx)(tt.Survey,{model:window.survey})})})})})]}):Object(g.jsx)(S.a,{})}):Object(g.jsx)("div",{children:o&&Object(g.jsx)(Le.a,{children:""!==n&&Object(g.jsx)(y,{color:a.error,children:n})})})}}]),a}(r.Component)),nt=(Object(I.a)((function(e){return{title:e.title,card:e.card,success:e.success,error:e.error,alignLeftSpacer:e.alignLeftSpacer,alignLeftSpacerRoot:{display:"flex",flexWrap:"wrap"},buttonMargin:{marginLeft:5}}}))(rt),a(3)),it=a(384),st=function e(t,a){Object(o.a)(this,e),this.severity=a||"info",this.message=t||""},ot=a(363),ct=a(385),lt=Object(ot.a)((function(e){return{root:{flexGrow:1,height:"100%"}}})),dt=function(e){lt();var t=e.alert,a=e.setParentAlert,n=Object(r.useState)(!1),i=Object(nt.a)(n,2),s=i[0],o=i[1],c=Object(r.useCallback)((function(){o(!1)}),[]);return Object(r.useEffect)((function(){o(!1);var e=setTimeout((function(){null!==t&&""!==t.message?o(!0):o(!1)}),400);return function(){clearTimeout(e)}}),[t]),Object(r.useEffect)((function(){if(s){var e=setTimeout((function(){c()}),5e3);return function(){clearTimeout(e)}}}),[s,c]),Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(z.a,{in:s,children:""!==t.message?Object(g.jsx)(ct.a,{severity:t.severity,action:Object(g.jsx)(fe.a,{"aria-label":"close",color:"inherit",size:"small",onClick:function(){c()},onClose:function(){a(new st("","success"))},children:Object(g.jsx)(Ce.a,{fontSize:"inherit"})}),children:t.message}):null})})};dt.defaultProps={alert:{},setParentAlert:function(){}};var jt=dt,ht=a(64),ut=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var r;return Object(o.a)(this,a),(r=t.call(this,e)).chartRef=n.a.createRef(),r.findValue=function(e){return console.log(e),"No Problem"==e?0:"Slight Problem"==e?1:"Moderate Problem"==e?2:"Severe Problem"==e?3:void 0},r.state={walking:r.findValue(r.props.walking),care:r.findValue(r.props.care),activities:r.findValue(r.props.usual),pain:r.findValue(r.props.pain),anxiety:r.findValue(r.props.anxious)},r}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this.chartRef.current.getContext("2d");new ht.a(e,{type:"bar",options:{plugins:{title:{display:!0,text:"Levels of Difficulties with various activities"}},scales:{y:{min:0,max:3}}},data:{labels:["Walking around","Personal Care","Usual Activities","Pain/Discomfort","Anxiety/Depression"],datasets:[{data:[this.state.walking,this.state.care,this.state.activities,this.state.pain,this.state.anxiety],label:"I have problems with",borderColor:"#3e95cd",backgroundColor:"#e91e62",fill:!1}]}})}},{key:"render",value:function(){return Object(g.jsx)("div",{style:{width:"50%"},children:Object(g.jsx)("canvas",{id:"myChart",ref:this.chartRef})})}}]),a}(r.Component),bt=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(f.a,{variant:"h6",color:"secondary",align:"left",gutterBottom:!0,children:"Interests"}),Object(g.jsxs)(Ne.a,{m:1,mb:2,children:[999!==this.props.reports.activities[this.props.collection]&&Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(f.a,{variant:"subtitle1",color:"textSecondary",align:"left",gutterBottom:!0,children:"Enjoys the following activities:"}),Object(g.jsx)(f.a,{display:"initial",variant:"body1",component:"div",color:"inherit",align:"left",gutterBottom:!0,children:Object(g.jsx)("ol",{children:this.props.reports.activities[this.props.collection].map((function(e,t){return Object(g.jsx)("li",{children:e},"activities_".concat(t))}))})})]}),999!==this.props.reports.meaningful_activities[this.props.collection]&&Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(f.a,{variant:"subtitle1",color:"textSecondary",align:"left",gutterBottom:!0,children:"Most meaningful activities:"}),Object(g.jsx)(f.a,{display:"initial",variant:"body1",component:"div",color:"inherit",align:"left",gutterBottom:!0,children:Object(g.jsx)("ol",{children:this.props.reports.meaningful_activities[this.props.collection].map((function(e,t){return Object(g.jsx)("li",{children:e},"activities_meaningful".concat(t))}))})})]}),999!==this.props.reports.FCP_STRINGS_COMB[this.props.collection]&&Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(f.a,{variant:"subtitle1",color:"textSecondary",align:"left",gutterBottom:!0,children:"I would like to do more:"}),Object(g.jsx)(f.a,{display:"initial",variant:"body1",component:"div",color:"inherit",align:"left",gutterBottom:!0,children:Object(g.jsx)("ol",{children:this.props.reports.FCP_STRINGS_COMB[this.props.collection].map((function(e,t){return Object(g.jsx)("li",{children:e},"activities_do_more_".concat(t))}))})})]}),999!==this.props.reports.challenging_activities[this.props.collection]&&Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(f.a,{variant:"subtitle1",color:"textSecondary",align:"left",gutterBottom:!0,children:"Challenges include:"}),Object(g.jsx)(f.a,{display:"initial",variant:"body1",component:"div",color:"inherit",align:"left",gutterBottom:!0,children:Object(g.jsx)("ol",{children:this.props.reports.challenging_activities[this.props.collection].map((function(e,t){return Object(g.jsx)("li",{children:e},"activities_challenges_".concat(t))}))})})]})]})]})}}]),a}(r.Component),pt=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(f.a,{variant:"h6",color:"secondary",align:"left",gutterBottom:!0,children:"Social Contact"}),Object(g.jsxs)(Ne.a,{m:1,mb:2,children:[999!==this.props.reports.household_size[this.props.collection]&&Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)(f.a,{display:"block",component:"div",align:"left",gutterBottom:!0,children:[Object(g.jsx)(f.a,{display:"inline",variant:"body1",component:"div",color:"primary",align:"left",gutterBottom:!0,children:"Household size:\xa0"}),Object(g.jsx)(f.a,{display:"inline",variant:"body1",component:"div",color:"inherit",align:"left",gutterBottom:!0,children:this.props.reports.household_size[this.props.collection]})]})}),999!==this.props.reports.total_children[this.props.collection]&&999!==this.props.reports.total_relatives[this.props.collection]&&999!==this.props.reports.total_close_friends[this.props.collection]&&Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)(f.a,{display:"block",component:"div",align:"left",gutterBottom:!0,children:[Object(g.jsx)(f.a,{display:"inline",variant:"body1",component:"div",color:"primary",align:"left",gutterBottom:!0,children:"I have:\xa0"}),Object(g.jsx)(f.a,{display:"inline",variant:"body1",component:"div",color:"inherit",align:"left",gutterBottom:!0,children:this.props.reports.total_children[this.props.collection]}),Object(g.jsx)(f.a,{display:"inline",variant:"body2",component:"div",color:"textSecondary",align:"left",gutterBottom:!0,children:"\xa0children,\xa0"}),Object(g.jsx)(f.a,{display:"inline",variant:"body1",component:"div",color:"inherit",align:"left",gutterBottom:!0,children:this.props.reports.total_relatives[this.props.collection]}),Object(g.jsx)(f.a,{display:"inline",variant:"body2",component:"div",color:"textSecondary",align:"left",gutterBottom:!0,children:"\xa0relatives, and\xa0"}),Object(g.jsx)(f.a,{display:"inline",variant:"body1",component:"div",color:"inherit",align:"left",gutterBottom:!0,children:this.props.reports.total_close_friends[this.props.collection]}),Object(g.jsx)(f.a,{display:"inline",variant:"body2",component:"div",color:"textSecondary",align:"left",gutterBottom:!0,children:"\xa0close friends"})]})}),999!==this.props.reports.total_well_known_neighbours[this.props.collection]&&Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)(f.a,{display:"block",component:"div",align:"left",gutterBottom:!0,children:[Object(g.jsx)(f.a,{display:"inline",variant:"body1",component:"div",color:"primary",align:"left",gutterBottom:!0,children:"I know:\xa0"}),Object(g.jsx)(f.a,{display:"inline",variant:"body1",component:"div",color:"inherit",align:"left",gutterBottom:!0,children:this.props.reports.total_well_known_neighbours[this.props.collection]}),Object(g.jsx)(f.a,{display:"inline",variant:"body2",component:"div",color:"textSecondary",align:"left",gutterBottom:!0,children:"\xa0neighbours well"})]})}),999!==this.props.reports.frequency_of_contact_family[this.props.collection]&&Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)(f.a,{display:"block",component:"div",align:"left",gutterBottom:!0,children:[Object(g.jsx)(f.a,{display:"inline",variant:"body1",component:"div",color:"primary",align:"left",gutterBottom:!0,children:"\ud83d\udc6a I see my family\xa0"}),Object(g.jsx)(f.a,{display:"inline",variant:"body1",component:"div",color:"inherit",align:"left",gutterBottom:!0,children:this.props.reports.frequency_of_contact_family[this.props.collection]})]})}),999!==this.props.reports.frequency_of_contact_friends[this.props.collection]&&Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)(f.a,{display:"block",component:"div",align:"left",gutterBottom:!0,children:[Object(g.jsx)(f.a,{display:"inline",variant:"body1",component:"div",color:"primary",align:"left",gutterBottom:!0,children:"\ud83e\uddd3 I see my friends\xa0"}),Object(g.jsx)(f.a,{display:"inline",variant:"body1",component:"div",color:"inherit",align:"left",gutterBottom:!0,children:this.props.reports.frequency_of_contact_friends[this.props.collection]})]})}),999!==this.props.reports.frequency_of_contact_neighbours[this.props.collection]&&Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)(f.a,{display:"block",component:"div",align:"left",gutterBottom:!0,children:[Object(g.jsx)(f.a,{display:"inline",variant:"body1",component:"div",color:"primary",align:"left",gutterBottom:!0,children:"\ud83c\udfe1 I see my neighbours\xa0"}),Object(g.jsx)(f.a,{display:"inline",variant:"body1",component:"div",color:"inherit",align:"left",gutterBottom:!0,children:this.props.reports.frequency_of_contact_neighbours[this.props.collection]})]})})]})]})}}]),a}(r.Component),Ot=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(f.a,{variant:"h6",color:"secondary",align:"left",gutterBottom:!0,children:"Community Participation"}),Object(g.jsxs)(Ne.a,{m:1,mb:2,children:[999!==this.props.reports.frequency_of_participation_religion[this.props.collection]&&Object(g.jsxs)(f.a,{display:"block",component:"div",align:"left",gutterBottom:!0,children:[Object(g.jsx)(f.a,{display:"inline",variant:"body1",component:"div",color:"primary",align:"left",gutterBottom:!0,children:"\u26ea\ufe0f Religion\xa0"}),Object(g.jsx)(f.a,{display:"inline",variant:"body1",component:"div",color:"inherit",align:"left",gutterBottom:!0,children:this.props.reports.frequency_of_participation_religion[this.props.collection]})]}),999!==this.props.reports.frequency_of_participation_recreation[this.props.collection]&&Object(g.jsxs)(f.a,{display:"block",component:"div",align:"left",gutterBottom:!0,children:[Object(g.jsx)(f.a,{display:"inline",variant:"body1",component:"div",color:"primary",align:"left",gutterBottom:!0,children:"\ud83c\udfa3 Recreation/hobby\xa0"}),Object(g.jsx)(f.a,{display:"inline",variant:"body1",component:"div",color:"inherit",align:"left",gutterBottom:!0,children:this.props.reports.frequency_of_participation_recreation[this.props.collection]})]}),999!==this.props.reports.frequency_of_participation_education[this.props.collection]&&Object(g.jsxs)(f.a,{display:"block",component:"div",align:"left",gutterBottom:!0,children:[Object(g.jsx)(f.a,{display:"inline",variant:"body1",component:"div",color:"primary",align:"left",gutterBottom:!0,children:"\ud83c\udf93 Education/culture\xa0"}),Object(g.jsx)(f.a,{display:"inline",variant:"body1",component:"div",color:"inherit",align:"left",gutterBottom:!0,children:this.props.reports.frequency_of_participation_education[this.props.collection]})]}),999!==this.props.reports.frequency_of_participation_associations[this.props.collection]&&Object(g.jsxs)(f.a,{display:"block",component:"div",align:"left",gutterBottom:!0,children:[Object(g.jsx)(f.a,{display:"inline",variant:"body1",component:"div",color:"primary",align:"left",gutterBottom:!0,children:"\ud83c\udfad  Associations/clubs\xa0"}),Object(g.jsx)(f.a,{display:"inline",variant:"body1",component:"div",color:"inherit",align:"left",gutterBottom:!0,children:this.props.reports.frequency_of_participation_associations[this.props.collection]})]}),999!==this.props.reports.frequency_of_participation_volunteering[this.props.collection]&&Object(g.jsxs)(f.a,{display:"block",component:"div",align:"left",gutterBottom:!0,children:[Object(g.jsx)(f.a,{display:"inline",variant:"body1",component:"div",color:"primary",align:"left",gutterBottom:!0,children:"\ud83e\udd1d Volunteering\xa0"}),Object(g.jsx)(f.a,{display:"inline",variant:"body1",component:"div",color:"inherit",align:"left",gutterBottom:!0,children:this.props.reports.frequency_of_participation_volunteering[this.props.collection]})]}),999!==this.props.reports.frequency_of_participation_informal_help[this.props.collection]&&Object(g.jsxs)(f.a,{display:"block",component:"div",align:"left",gutterBottom:!0,children:[Object(g.jsx)(f.a,{display:"inline",variant:"body1",component:"div",color:"primary",align:"left",gutterBottom:!0,children:"\u2695\ufe0f Informal help\xa0"}),Object(g.jsx)(f.a,{display:"inline",variant:"body1",component:"div",color:"inherit",align:"left",gutterBottom:!0,children:this.props.reports.frequency_of_participation_informal_help[this.props.collection]})]}),999!==this.props.reports.frequency_of_participation_music[this.props.collection]&&Object(g.jsxs)(f.a,{display:"block",component:"div",align:"left",gutterBottom:!0,children:[Object(g.jsx)(f.a,{display:"inline",variant:"body1",component:"div",color:"primary",align:"left",gutterBottom:!0,children:"\ud83c\udfb5 Music\xa0"}),Object(g.jsx)(f.a,{display:"inline",variant:"body1",component:"div",color:"inherit",align:"left",gutterBottom:!0,children:this.props.reports.frequency_of_participation_informal_help[this.props.collection]})]}),999!==this.props.reports.frequency_of_participation_computer[this.props.collection]&&Object(g.jsxs)(f.a,{display:"block",component:"div",align:"left",gutterBottom:!0,children:[Object(g.jsx)(f.a,{display:"inline",variant:"body1",component:"div",color:"primary",align:"left",gutterBottom:!0,children:"\ud83d\udda5 Computer\xa0"}),Object(g.jsx)(f.a,{display:"inline",variant:"body1",component:"div",color:"inherit",align:"left",gutterBottom:!0,children:this.props.reports.frequency_of_participation_computer[this.props.collection]})]})]})]})}}]),a}(r.Component),mt=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(o.a)(this,a);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))).chartRef=n.a.createRef(),e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this.chartRef.current.getContext("2d");new ht.a(e,{type:"bar",options:{indexAxis:"y",plugins:{title:{display:!0,text:"Your self rated physical health"},legend:{display:!1}},scales:{x:{min:0,max:5}}},data:{labels:["Self rated physical health"],datasets:[{data:[this.props.data],borderColor:"#3e95cd",backgroundColor:"#e91e62",fill:!1}]}})}},{key:"render",value:function(){return Object(g.jsx)("div",{style:{width:"50%"},children:Object(g.jsx)("canvas",{id:"myChart",ref:this.chartRef})})}}]),a}(r.Component),xt=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(o.a)(this,a);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))).chartRef=n.a.createRef(),e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this.chartRef.current.getContext("2d");new ht.a(e,{type:"bar",options:{indexAxis:"y",plugins:{title:{display:!0,text:"Your self rated mental health"},legend:{display:!1}},scales:{x:{min:0,max:5}}},data:{labels:["Self rated mental  health"],datasets:[{data:[this.props.data],borderColor:"#3e95cd",backgroundColor:"#e91e62",fill:!1}]}})}},{key:"render",value:function(){return Object(g.jsx)("div",{style:{width:"50%"},children:Object(g.jsx)("canvas",{id:"myChart",ref:this.chartRef})})}}]),a}(r.Component),ft=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(o.a)(this,a);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))).chartRef=n.a.createRef(),e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this.chartRef.current.getContext("2d");new ht.a(e,{type:"bar",options:{indexAxis:"y",plugins:{title:{display:!0,text:"Your health today"},legend:{display:!1}},scales:{x:{min:0,max:100}}},data:{labels:["Your Health Today"],datasets:[{data:[this.props.data],borderColor:"#3e95cd",backgroundColor:"#e91e62",fill:!1}]}})}},{key:"render",value:function(){return Object(g.jsx)("div",{style:{width:"50%"},children:Object(g.jsx)("canvas",{id:"myChart",ref:this.chartRef})})}}]),a}(r.Component),gt=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(f.a,{variant:"h6",color:"secondary",align:"left",gutterBottom:!0,children:"Health Status"}),Object(g.jsxs)(Ne.a,{m:1,mb:2,children:[999!==this.props.reports.PH_QofL2_SD[this.props.collection]&&Object(g.jsx)(mt,{data:3}),999!==this.props.reports.MH_QofL2_SD[this.props.collection]&&Object(g.jsx)(xt,{data:this.props.reports.MH_QofL2_SD[this.props.collection]}),999!==this.props.reports.HT_QofL2_SD[this.props.collection]&&Object(g.jsx)(f.a,{display:"block",component:"div",align:"left",gutterBottom:!0,children:Object(g.jsx)(ft,{data:this.props.reports.HT_QofL2_SD[this.props.collection]})}),999!==this.props.reports.problem_walking[this.props.collection]&&999!==this.props.reports.problem_washing_dressing[this.props.collection]&&999!==this.props.reports.problem_usual_activities[this.props.collection]&&999!==this.props.reports.problem_pain_discomfort[this.props.collection]&&999!==this.props.reports.problem_anxious_depressed[this.props.collection]?Object(g.jsx)(ut,{walking:this.props.reports.problem_walking[this.props.collection],care:this.props.reports.problem_washing_dressing[this.props.collection],usual:this.props.reports.problem_usual_activities[this.props.collection],pain:this.props.reports.problem_pain_discomfort[this.props.collection],anxious:this.props.reports.problem_anxious_depressed[this.props.collection]}):Object(g.jsx)(f.a,{display:"block",variant:"subtitle2",color:"textSecondary",align:"left",gutterBottom:!0,children:"No available reports."})]})]})}}]),a}(r.Component),yt=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(f.a,{variant:"h6",color:"secondary",align:"left",gutterBottom:!0,children:"Health Support Services"}),Object(g.jsxs)(Ne.a,{m:1,mb:2,children:[999!==this.props.reports.support_wellness_program[this.props.collection]&&Object(g.jsxs)(f.a,{display:"block",component:"div",align:"left",gutterBottom:!0,children:[Object(g.jsx)(f.a,{display:"inline",variant:"body1",component:"div",color:"primary",align:"left",gutterBottom:!0,children:"I attended wellness programs\xa0"}),Object(g.jsx)(f.a,{display:"inline",variant:"body1",component:"div",color:"inherit",align:"left",gutterBottom:!0,children:this.props.reports.support_wellness_program[this.props.collection]})]}),999!==this.props.reports.support_healthcare[this.props.collection]&&Object(g.jsxs)(f.a,{display:"block",component:"div",align:"left",gutterBottom:!0,children:[Object(g.jsx)(f.a,{display:"inline",variant:"body1",component:"div",color:"primary",align:"left",gutterBottom:!0,children:"I visited a health care provider\xa0"}),Object(g.jsx)(f.a,{display:"inline",variant:"body1",component:"div",color:"inherit",align:"left",gutterBottom:!0,children:this.props.reports.support_healthcare[this.props.collection]})]}),999!==this.props.reports.support_home_healthcare[this.props.collection]&&Object(g.jsxs)(f.a,{display:"block",component:"div",align:"left",gutterBottom:!0,children:[Object(g.jsx)(f.a,{display:"inline",variant:"body1",component:"div",color:"primary",align:"left",gutterBottom:!0,children:"I had home health care or personal support visits\xa0"}),Object(g.jsx)(f.a,{display:"inline",variant:"body1",component:"div",color:"inherit",align:"left",gutterBottom:!0,children:this.props.reports.support_home_healthcare[this.props.collection]})]}),999!==this.props.reports.support_private_healthcare[this.props.collection]&&Object(g.jsxs)(f.a,{display:"block",component:"div",align:"left",gutterBottom:!0,children:[Object(g.jsx)(f.a,{display:"inline",variant:"body1",component:"div",color:"primary",align:"left",gutterBottom:!0,children:"I paid privately for extra home health care or personal support visits\xa0"}),Object(g.jsx)(f.a,{display:"inline",variant:"body1",component:"div",color:"inherit",align:"left",gutterBottom:!0,children:this.props.reports.support_private_healthcare[this.props.collection]})]}),999!==this.props.reports.support_informal[this.props.collection]&&Object(g.jsxs)(f.a,{display:"block",component:"div",align:"left",gutterBottom:!0,children:[Object(g.jsx)(f.a,{display:"inline",variant:"body1",component:"div",color:"primary",align:"left",gutterBottom:!0,children:"I received informal support from friends, family, or a neighbour \xa0"}),Object(g.jsx)(f.a,{display:"inline",variant:"body1",component:"div",color:"inherit",align:"left",gutterBottom:!0,children:this.props.reports.support_informal[this.props.collection]})]}),999==this.props.reports.support_wellness_program[this.props.collection]&&999==this.props.reports.support_healthcare[this.props.collection]&&999==this.props.reports.support_home_healthcare[this.props.collection]&&999==this.props.reports.support_private_healthcare[this.props.collection]&&999==this.props.reports.support_informal[this.props.collection]&&Object(g.jsx)(f.a,{display:"block",component:"div",align:"left",gutterBottom:!0,children:Object(g.jsx)(f.a,{display:"inline",variant:"body1",component:"div",color:"primary",align:"left",gutterBottom:!0,children:"In the past year, I have not visited any health professionals, used health care programs or services, or attended health related wellness programs."})})]})]})}}]),a}(r.Component),vt=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(o.a)(this,a);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))).chartRef=n.a.createRef(),e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this.chartRef.current.getContext("2d");new ht.a(e,{type:"bar",options:{indexAxis:"y",plugins:{title:{display:!0,text:"Your overall personal wellbeing"},legend:{display:!1}},scales:{x:{min:0,max:100}}},data:{labels:["Overall Personal Wellbeing"],datasets:[{data:[this.props.data],borderColor:"#3e95cd",backgroundColor:"#e91e62",fill:!1}]}})}},{key:"render",value:function(){return Object(g.jsx)("div",{style:{width:"50%"},children:Object(g.jsx)("canvas",{id:"myChart",ref:this.chartRef})})}}]),a}(r.Component),Ct=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(f.a,{variant:"h6",color:"secondary",align:"left",gutterBottom:!0,children:"Personal Well-Being"}),Object(g.jsxs)(Ne.a,{m:1,mb:2,children:[999!==this.props.reports.PWI_QofL3_COMB[this.props.collection]&&this.props.reports.PWI_QofL3_COMB[this.props.collection]>=70&&this.props.reports.PWI_QofL3_COMB[this.props.collection]<=100&&Object(g.jsx)(f.a,{display:"block",component:"div",align:"left",gutterBottom:!0,children:Object(g.jsx)(f.a,{display:"inline",variant:"body1",component:"div",color:"primary",align:"left",gutterBottom:!0,children:"I am satisfied with my life right now\xa0"})}),999!==this.props.reports.PWI_QofL3_COMB[this.props.collection]&&this.props.reports.PWI_QofL3_COMB[this.props.collection]>=46&&this.props.reports.PWI_QofL3_COMB[this.props.collection]<=69&&Object(g.jsx)(f.a,{display:"block",component:"div",align:"left",gutterBottom:!0,children:Object(g.jsx)(f.a,{display:"inline",variant:"body1",component:"div",color:"primary",align:"left",gutterBottom:!0,children:"I am not satisfied with a few aspects of my life right now\xa0"})}),999!==this.props.reports.PWI_QofL3_COMB[this.props.collection]&&this.props.reports.PWI_QofL3_COMB[this.props.collection]>=20&&this.props.reports.PWI_QofL3_COMB[this.props.collection]<=45&&Object(g.jsx)(f.a,{display:"block",component:"div",align:"left",gutterBottom:!0,children:Object(g.jsx)(f.a,{display:"inline",variant:"body1",component:"div",color:"primary",align:"left",gutterBottom:!0,children:"I am not satisfied with many aspects of my life right now\xa0"})}),999!==this.props.reports.PWI_QofL3_COMB[this.props.collection]&&this.props.reports.PWI_QofL3_COMB[this.props.collection]>=0&&this.props.reports.PWI_QofL3_COMB[this.props.collection]<=19&&Object(g.jsx)(f.a,{display:"block",component:"div",align:"left",gutterBottom:!0,children:Object(g.jsx)(f.a,{display:"inline",variant:"body1",component:"div",color:"primary",align:"left",gutterBottom:!0,children:"I am not at all satisfied with my life right now\xa0"})}),999!==this.props.reports.PWI_QofL3_COMB[this.props.collection]&&Object(g.jsx)(vt,{data:this.props.reports.PWI_QofL3_COMB[this.props.collection]})]})]})}}]),a}(r.Component),St=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(f.a,{variant:"h6",color:"secondary",align:"left",gutterBottom:!0,children:"Goals"}),Object(g.jsx)(Ne.a,{m:1,mb:2,children:999!==this.props.reports.goals[this.props.collection]&&Object(g.jsxs)(f.a,{display:"block",component:"div",align:"left",gutterBottom:!0,children:[Object(g.jsx)(f.a,{display:"initial",variant:"subtitle1",color:"textSecondary",align:"left",gutterBottom:!0,children:"My goals for a happier and healthier life are: \xa0"}),Object(g.jsx)(f.a,{display:"initial",variant:"body1",component:"div",color:"inherit",align:"left",gutterBottom:!0,children:Object(g.jsx)("ol",{children:this.props.reports.goals[this.props.collection].map((function(e,t){return Object(g.jsx)("li",{children:e},"goals_".concat(t))}))})})]})})]})}}]),a}(r.Component),wt=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)(Ne.a,{m:1,children:[Object(g.jsx)(bt,{reports:this.props.reports,collection:this.props.collection}),Object(g.jsx)(pt,{reports:this.props.reports,collection:this.props.collection}),Object(g.jsx)(Ot,{reports:this.props.reports,collection:this.props.collection}),Object(g.jsx)(gt,{reports:this.props.reports,collection:this.props.collection}),Object(g.jsx)(yt,{reports:this.props.reports,collection:this.props.collection}),Object(g.jsx)(Ct,{reports:this.props.reports,collection:this.props.collection}),Object(g.jsx)(St,{reports:this.props.reports,collection:this.props.collection})]})})}}]),a}(r.Component),kt=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return Object(g.jsxs)(Be.a,{container:!0,item:!0,xs:12,spacing:2,children:[Object(g.jsx)(Be.a,{item:!0,xs:2,children:Object(g.jsx)(f.a,{variant:"h5",color:"inherit",align:"left",gutterBottom:!0,children:"Frequency of Community Participation"})}),Object(g.jsx)(Be.a,{item:!0,xs:5,children:1==this.props.reports.ISA_INT[this.props.collection]&&Object(g.jsx)($.a,{children:Object(g.jsx)(f.a,{variant:"body1",color:"inherit",align:"left",gutterBottom:!0,children:"Your participation in community or social activities is limited"})})}),Object(g.jsx)(Be.a,{item:!0,xs:5,children:0!==this.props.reports.ISA_DM_STRINGS[this.props.collection].length&&Object(g.jsx)($.a,{children:Object(g.jsx)(f.a,{variant:"body1",color:"inherit",align:"left",gutterBottom:!0,children:"You would like to participate in more activities"})})})]})}}]),a}(r.Component),Dt=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return Object(g.jsxs)(Be.a,{container:!0,item:!0,xs:12,spacing:2,children:[Object(g.jsx)(Be.a,{item:!0,xs:2,children:Object(g.jsx)(f.a,{variant:"h5",color:"inherit",align:"left",gutterBottom:!0,children:"Health Alert"})}),Object(g.jsxs)(Be.a,{item:!0,xs:5,children:[this.props.reports.HT_QofL2_SD[this.props.collection]<=50&&Object(g.jsx)($.a,{children:Object(g.jsx)(f.a,{variant:"body1",color:"inherit",align:"left",gutterBottom:!0,children:"Your health today is a concern. On a scale of 0 to 100, you rate your health today as [# between 0 and 50]"})}),0===this.props.reports.PH_QofL2_SD[this.props.collection]&&Object(g.jsx)($.a,{children:Object(g.jsx)(f.a,{variant:"body1",color:"inherit",align:"left",gutterBottom:!0,children:"You rate your health as poor in general"})}),0===this.props.reports.MH_QofL2_SD[this.props.collection]&&Object(g.jsx)($.a,{children:Object(g.jsx)(f.a,{variant:"body1",color:"inherit",align:"left",gutterBottom:!0,children:"You rate your mental health as poor"})}),(3===this.props.reports.M_QofL2_SD[this.props.collection]||4===this.props.reports.M_QofL2_SD[this.props.collection])&&Object(g.jsx)($.a,{children:Object(g.jsx)(f.a,{variant:"body1",color:"inherit",align:"left",gutterBottom:!0,children:"You have severe problems walking around"})}),(3===this.props.reports.PC_QofL2_SD[this.props.collection]||4===this.props.reports.PC_QofL2_SD[this.props.collection])&&Object(g.jsx)($.a,{children:Object(g.jsx)(f.a,{variant:"body1",color:"inherit",align:"left",gutterBottom:!0,children:"You have severe problems washing or dressing"})}),(3===this.props.reports.UA_QofL2_SD[this.props.collection]||4===this.props.reports.UA_QofL2_SD[this.props.collection])&&Object(g.jsx)($.a,{children:Object(g.jsx)(f.a,{variant:"body1",color:"inherit",align:"left",gutterBottom:!0,children:"You have severe problems doing usual activities"})}),(3===this.props.reports.PD_QofL2_SD[this.props.collection]||4===this.props.reports.PD_QofL2_SD[this.props.collection])&&Object(g.jsx)($.a,{children:Object(g.jsx)(f.a,{variant:"body1",color:"inherit",align:"left",gutterBottom:!0,children:"You have severe problems with pain/discomfort"})}),(3===this.props.reports.AD_QofL2_SD[this.props.collection]||4===this.props.reports.AD_QofL2_SD[this.props.collection])&&Object(g.jsx)($.a,{children:Object(g.jsx)(f.a,{variant:"body1",color:"inherit",align:"left",gutterBottom:!0,children:"You have severe problems with anxiety/ depression"})})]}),Object(g.jsxs)(Be.a,{item:!0,xs:5,children:[50<this.props.reports.HT_QofL2_SD[this.props.collection]&&this.props.reports.HT_QofL2_SD[this.props.collection]<=65&&Object(g.jsx)($.a,{children:Object(g.jsxs)(f.a,{variant:"body1",color:"inherit",align:"left",gutterBottom:!0,children:["Your health today is fair. On a scale of 0 to 100, you rate your health today as ",this.props.reports.HT_QofL2_SD[this.props.collection]]})}),1===this.props.reports.PH_QofL2_SD[this.props.collection]&&Object(g.jsx)($.a,{children:Object(g.jsx)(f.a,{variant:"body1",color:"inherit",align:"left",gutterBottom:!0,children:"NEED VAR You rate your health as fair in general"})}),1===this.props.reports.MH_QofL2_SD[this.props.collection]&&Object(g.jsx)($.a,{children:Object(g.jsx)(f.a,{variant:"body1",color:"inherit",align:"left",gutterBottom:!0,children:"You rate your mental health as fair"})}),2===this.props.reports.M_QofL2_SD[this.props.collection]&&Object(g.jsx)($.a,{children:Object(g.jsx)(f.a,{variant:"body1",color:"inherit",align:"left",gutterBottom:!0,children:"You have moderate problems walking around"})}),2===this.props.reports.PC_QofL2_SD[this.props.collection]&&Object(g.jsx)($.a,{children:Object(g.jsx)(f.a,{variant:"body1",color:"inherit",align:"left",gutterBottom:!0,children:"You have moderate problems washing or dressing"})}),2===this.props.reports.UA_QofL2_SD[this.props.collection]&&Object(g.jsx)($.a,{children:Object(g.jsx)(f.a,{variant:"body1",color:"inherit",align:"left",gutterBottom:!0,children:"You have moderate problems doing usual activities"})}),2===this.props.reports.PD_QofL2_SD[0]&&Object(g.jsx)($.a,{children:Object(g.jsx)(f.a,{variant:"body1",color:"inherit",align:"left",gutterBottom:!0,children:"You have moderate problems with pain/discomfort"})}),2===this.props.reports.AD_QofL2_SD[this.props.collection]&&Object(g.jsx)($.a,{children:Object(g.jsx)(f.a,{variant:"body1",color:"inherit",align:"left",gutterBottom:!0,children:"You have moderate problems with anxiety/ depression"})}),999>this.props.reports.HU_ED_QofL2_SD[this.props.collection]&&this.props.reports.HU_ED_QofL2_SD[this.props.collection]>0&&Object(g.jsx)($.a,{children:Object(g.jsxs)(f.a,{variant:"body1",color:"inherit",align:"left",gutterBottom:!0,children:["You had ",this.props.reports.HU_ED_QofL2_SD[this.props.collection]," ER visits in the past year."]})}),999>this.props.reports.HU_HNum_QofL2_SD[this.props.collection]&&this.props.reports.HU_HNum_QofL2_SD[this.props.collection]>0&&Object(g.jsx)($.a,{children:Object(g.jsxs)(f.a,{variant:"body1",color:"inherit",align:"left",gutterBottom:!0,children:["You had ",this.props.reports.HU_HNum_QofL2_SD[this.props.collection]," hospitalizations in the past year."]})}),999>this.props.reports.HU_EMS_QofL2_SD[this.props.collection]&&this.props.reports.HU_EMS_QofL2_SD[this.props.collection]>0&&Object(g.jsx)($.a,{children:Object(g.jsxs)(f.a,{variant:"body1",color:"inherit",align:"left",gutterBottom:!0,children:["You had ",this.props.reports.HU_EMS_QofL2_SD[this.props.collection]," crisis in the past year."]})}),999>this.props.reports.HU_UC_QofL2_SD[this.props.collection]&&this.props.reports.HU_UC_QofL2_SD[this.props.collection]>0&&Object(g.jsx)($.a,{children:Object(g.jsxs)(f.a,{variant:"body1",color:"inherit",align:"left",gutterBottom:!0,children:["You had ",this.props.reports.HU_UC_QofL2_SD[this.props.collection]," urgent care visits in the past year."]})}),"No"==this.props.reports.access_to_family_doctor[this.props.collection]&&Object(g.jsx)($.a,{children:Object(g.jsx)(f.a,{variant:"body1",color:"inherit",align:"left",gutterBottom:!0,children:"You don\u2019t have access to a family doctor"})}),this.props.reports.support_wellness_program[this.props.collection]&&this.props.reports.problem_walking[this.props.collection]>1&&this.props.reports.problem_walking[this.props.collection]<999&&this.props.reports.problem_washing_dressing[this.props.collection]>1&&this.props.reports.problem_walking[this.props.collection]<999&&this.props.reports.problem_usual_activities[this.props.collection]>1&&this.props.reports.problem_walking[this.props.collection]<999&&this.props.reports.problem_walking[this.props.collection]>1&&this.props.reports.problem_walking[this.props.collection]<999&&this.props.reports.problem_pain_discomfort[this.props.collection]>1&&this.props.reports.problem_walking[this.props.collection]<999&&this.props.reports.problem_anxious_depressed[this.props.collection]>1&&this.props.reports.problem_walking[this.props.collection]<999&&Object(g.jsx)($.a,{children:Object(g.jsx)(f.a,{variant:"body1",color:"inherit",align:"left",gutterBottom:!0,children:"Despite serious health limitations, you seldom participated in wellness activities"})}),this.props.reports.support_informal[this.props.collection]&&this.props.reports.problem_walking[this.props.collection]>1&&this.props.reports.problem_walking[this.props.collection]<999&&this.props.reports.problem_washing_dressing[this.props.collection]>1&&this.props.reports.problem_walking[this.props.collection]<999&&this.props.reports.problem_usual_activities[this.props.collection]>1&&this.props.reports.problem_walking[this.props.collection]<999&&this.props.reports.problem_walking[this.props.collection]>1&&this.props.reports.problem_walking[this.props.collection]<999&&this.props.reports.problem_pain_discomfort[this.props.collection]>1&&this.props.reports.problem_walking[this.props.collection]<999&&this.props.reports.problem_anxious_depressed[this.props.collection]>1&&this.props.reports.problem_walking[this.props.collection]<999&&Object(g.jsx)($.a,{children:Object(g.jsx)(f.a,{variant:"body1",color:"inherit",align:"left",gutterBottom:!0,children:"Despite serious health limitations, you did not have access to informal care"})})]})]})}}]),a}(r.Component),_t=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return Object(g.jsxs)(Be.a,{container:!0,item:!0,xs:12,spacing:2,children:[Object(g.jsx)(Be.a,{item:!0,xs:2,children:Object(g.jsx)(f.a,{variant:"h5",color:"inherit",align:"left",gutterBottom:!0,children:"Loneliness"})}),Object(g.jsx)(Be.a,{item:!0,xs:5,children:this.props.reports.PL_QofL1_COMB_often_count[this.props.collection]>0&&999!==this.props.reports.PL_QofL1_COMB_often_count[this.props.collection]&&Object(g.jsx)($.a,{children:Object(g.jsx)(f.a,{variant:"body1",color:"inherit",align:"left",gutterBottom:!0,children:"You often feel you lack companions, feel left out or feel isolated from others"})})}),Object(g.jsx)(Be.a,{item:!0,xs:5,children:this.props.reports.PL_QofL1_COMB_sometimes_count[this.props.collection]>0&&999!==this.props.reports.PL_QofL1_COMB_sometimes_count[this.props.collection]&&this.props.reports.PL_QofL1_COMB[this.props.collection]>=1.6&&999!==this.props.reports.PL_QofL1_COMB[this.props.collection]&&Object(g.jsx)($.a,{children:Object(g.jsx)(f.a,{variant:"body1",color:"inherit",align:"left",gutterBottom:!0,children:"You sometimes feel you lack companions, feel left out, or feel isolated from others"})})})]})}}]),a}(r.Component),Pt=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return Object(g.jsxs)(Be.a,{container:!0,item:!0,xs:12,spacing:2,children:[Object(g.jsx)(Be.a,{item:!0,xs:2,children:Object(g.jsx)(f.a,{variant:"h5",color:"inherit",align:"left",gutterBottom:!0,children:"Personal Well-Being"})}),Object(g.jsxs)(Be.a,{item:!0,xs:5,children:[this.props.reports.PWI_QofL3_COMB[this.props.collection]<=60&&Object(g.jsx)($.a,{children:Object(g.jsx)(f.a,{variant:"body1",color:"inherit",align:"left",gutterBottom:!0,children:"You are not satisfied with life as a whole"})}),this.props.reports.SL_QofL3_SD[this.props.collection]<=5&&Object(g.jsx)($.a,{children:Object(g.jsx)(f.a,{variant:"body1",color:"inherit",align:"left",gutterBottom:!0,children:"You are not satisfied with your standard of living"})}),this.props.reports.YH_QofL3_SD[this.props.collection]<=5&&Object(g.jsx)($.a,{children:Object(g.jsx)(f.a,{variant:"body1",color:"inherit",align:"left",gutterBottom:!0,children:"You are not satisfied with your health"})}),this.props.reports.AL_QofL3_SD[this.props.collection]<=5&&Object(g.jsx)($.a,{children:Object(g.jsx)(f.a,{variant:"body1",color:"inherit",align:"left",gutterBottom:!0,children:"You are not satisfied with what you are achieving"})}),this.props.reports.PR_QofL3_SD[this.props.collection]<=5&&Object(g.jsx)($.a,{children:Object(g.jsx)(f.a,{variant:"body1",color:"inherit",align:"left",gutterBottom:!0,children:"You are not satisfied with your personal relationships"})}),this.props.reports.HSF_QofL3_SD[this.props.collection]<=5&&Object(g.jsx)($.a,{children:Object(g.jsx)(f.a,{variant:"body1",color:"inherit",align:"left",gutterBottom:!0,children:"You are not satisfied with how safe you feel"})}),this.props.reports.FPC_QofL3_SD[this.props.collection]<=5&&Object(g.jsx)($.a,{children:Object(g.jsx)(f.a,{variant:"body1",color:"inherit",align:"left",gutterBottom:!0,children:"You are not satisfied with feeling part of the community"})}),this.props.reports.FS_QofL3_SD[this.props.collection]<=5&&Object(g.jsx)($.a,{children:Object(g.jsx)(f.a,{variant:"body1",color:"inherit",align:"left",gutterBottom:!0,children:"You are not satisfied with your future security"})}),this.props.reports.SR_QofL3_SD[this.props.collection]<=5&&Object(g.jsx)($.a,{children:Object(g.jsx)(f.a,{variant:"body1",color:"inherit",align:"left",gutterBottom:!0,children:"You are not satisfied with your spirituality or religion"})}),3==this.props.reports.PAG_QofL1_SD[this.props.collection]&&Object(g.jsx)($.a,{children:Object(g.jsx)(f.a,{variant:"body1",color:"inherit",align:"left",gutterBottom:!0,children:"You are not satisfied with the progress you are making in achieving your goals and wishes"})})]}),Object(g.jsxs)(Be.a,{item:!0,xs:5,children:[6==this.props.reports.SL_QofL3_SD[this.props.collection]&&Object(g.jsx)($.a,{children:Object(g.jsx)(f.a,{variant:"body1",color:"inherit",align:"left",gutterBottom:!0,children:"You are sometimes unsatisfied with your standard of living"})}),6==this.props.reports.YH_QofL3_SD[this.props.collection]&&Object(g.jsx)($.a,{children:Object(g.jsx)(f.a,{variant:"body1",color:"inherit",align:"left",gutterBottom:!0,children:"You are sometimes unsatisfied with your health"})}),6==this.props.reports.AL_QofL3_SD[this.props.collection]&&Object(g.jsx)($.a,{children:Object(g.jsx)(f.a,{variant:"body1",color:"inherit",align:"left",gutterBottom:!0,children:"You are sometimes unsatisfied with what you are achieving"})}),6==this.props.reports.PR_QofL3_SD[this.props.collection]&&Object(g.jsx)($.a,{children:Object(g.jsx)(f.a,{variant:"body1",color:"inherit",align:"left",gutterBottom:!0,children:"You are sometimes unsatisfied with your personal relationships"})}),6==this.props.reports.HSF_QofL3_SD[this.props.collection]&&Object(g.jsx)($.a,{children:Object(g.jsx)(f.a,{variant:"body1",color:"inherit",align:"left",gutterBottom:!0,children:"You are sometimes unsatisfied with how safe you feel"})}),6==this.props.reports.FPC_QofL3_SD[this.props.collection]&&Object(g.jsx)($.a,{children:Object(g.jsx)(f.a,{variant:"body1",color:"inherit",align:"left",gutterBottom:!0,children:"You are sometimes unsatisfied with feeling part of the community"})}),6==this.props.reports.FS_QofL3_SD[this.props.collection]&&Object(g.jsx)($.a,{children:Object(g.jsx)(f.a,{variant:"body1",color:"inherit",align:"left",gutterBottom:!0,children:"You are sometimes unsatisfied with your future security"})}),6==this.props.reports.SR_QofL3_SD[this.props.collection]&&Object(g.jsx)($.a,{children:Object(g.jsx)(f.a,{variant:"body1",color:"inherit",align:"left",gutterBottom:!0,children:"You are sometimes unsatisfied with your spirituality or religion"})}),2==this.props.reports.PAG_QofL1_SD[this.props.collection]&&Object(g.jsx)($.a,{children:Object(g.jsx)(f.a,{variant:"body1",color:"inherit",align:"left",gutterBottom:!0,children:"You are only sometimes satisfied with the progress you are making in achieving your goals and wishes"})})]})]})}}]),a}(r.Component),It=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return Object(g.jsxs)(Be.a,{container:!0,item:!0,xs:12,spacing:2,children:[Object(g.jsx)(Be.a,{item:!0,xs:2,children:Object(g.jsx)(f.a,{variant:"h5",color:"inherit",align:"left",gutterBottom:!0,children:"Social Contact"})}),Object(g.jsx)(Be.a,{item:!0,xs:5,children:("Yearly"==this.props.reports.frequency_get_together_family[this.props.collection]||"Never"==this.props.reports.frequency_get_together_family[this.props.collection])&&("Yearly"==this.props.reports.frequency_get_together_friends[this.props.collection]||"Never"==this.props.reports.frequency_get_together_friends[this.props.collection])&&("Yearly"==this.props.reports.frequency_get_together_neighbours[this.props.collection]||"Never"==this.props.reports.frequency_get_together_neighbours[this.props.collection])&&Object(g.jsx)($.a,{children:Object(g.jsx)(f.a,{variant:"body1",color:"inherit",align:"left",gutterBottom:!0,children:"You seldom get together with family, friends or getNeighbours"})})}),Object(g.jsxs)(Be.a,{item:!0,xs:5,children:[0==this.props.reports.frequency_of_social_contacts_month_phone_computer[this.props.collection]&&Object(g.jsx)($.a,{children:Object(g.jsx)(f.a,{variant:"body1",color:"inherit",align:"left",gutterBottom:!0,children:"You do not see your family, friends, or neighbours as much as you would Like"})}),this.props.reports.QSC_QofL1_COMB[this.props.collection]<2&&Object(g.jsx)($.a,{children:Object(g.jsx)(f.a,{variant:"body1",color:"inherit",align:"left",gutterBottom:!0,children:"You do not have people in my life to have a good time with, relax with, or help you get your mind off things. [omit whatever aspects are not applicable]"})})]})]})}}]),a}(r.Component),At=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return Object(g.jsxs)(Be.a,{container:!0,item:!0,xs:12,spacing:2,children:[Object(g.jsx)(Be.a,{item:!0,xs:2,children:Object(g.jsx)(f.a,{variant:"h5",color:"inherit",align:"left",gutterBottom:!0,children:"Availability of Support"})}),Object(g.jsx)(Be.a,{item:!0,xs:5,children:this.props.reports.PSS_QofL1_COMB[this.props.collection]>=2.5&&this.props.reports.PSS_QofL1_COMB[this.props.collection]<=3&&Object(g.jsx)($.a,{children:Object(g.jsx)(f.a,{variant:"body1",color:"inherit",align:"left",gutterBottom:!0,children:"You hardly ever feel you have the social support you need from your family and friends."})})}),Object(g.jsxs)(Be.a,{item:!0,xs:5,children:[this.props.reports.PSS_QofL1_COMB[this.props.collection]>=1.6&&this.props.reports.PSS_QofL1_COMB[this.props.collection]<=2.4&&Object(g.jsx)($.a,{children:Object(g.jsx)(f.a,{variant:"body1",color:"inherit",align:"left",gutterBottom:!0,children:"You only sometimes feel you have the social support you need from your family and friends."})}),2==this.props.reports.AFH_QofL1_SD[this.props.collection]&&Object(g.jsx)($.a,{children:Object(g.jsx)(f.a,{variant:"body1",color:"inherit",align:"left",gutterBottom:!0,children:"You are only sometimes comfortable asking for help."})}),3==this.props.reports.AFH_QofL1_SD[this.props.collection]&&Object(g.jsx)($.a,{children:Object(g.jsxs)(f.a,{variant:"body1",color:"inherit",align:"left",gutterBottom:!0,children:["You are not comfortable asking for help.",this.props.reports.AFH_QofL1_SD[this.props.collection]]})})]})]})}}]),a}(r.Component),Bt=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(Ne.a,{m:1,children:Object(g.jsxs)(Be.a,{container:!0,spacing:2,id:"concernsGrid",children:[Object(g.jsx)(Be.a,{item:!0,xs:4}),Object(g.jsx)(Be.a,{item:!0,xs:4,children:Object(g.jsx)(f.a,{variant:"h5",color:"inherit",align:"left",gutterBottom:!0,children:"Red Flags"})}),Object(g.jsx)(Be.a,{item:!0,xs:4,children:Object(g.jsx)(f.a,{variant:"h5",color:"inherit",align:"left",gutterBottom:!0,children:"Yellow Flags"})}),Object(g.jsx)(Dt,{reports:this.props.reports,collection:this.props.collection}),Object(g.jsx)(Pt,{reports:this.props.reports,collection:this.props.collection}),Object(g.jsx)(At,{reports:this.props.reports,collection:this.props.collection}),Object(g.jsx)(_t,{reports:this.props.reports,collection:this.props.collection}),Object(g.jsx)(kt,{reports:this.props.reports,collection:this.props.collection}),Object(g.jsx)(It,{reports:this.props.reports,collection:this.props.collection})]})})})}}]),a}(r.Component),Nt=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return Object(g.jsx)("div",{children:(1==this.props.reports.ISA_INT[this.props.collection]||0!==this.props.reports.ISA_DM_STRINGS[this.props.collection].length)&&Object(g.jsxs)(f.a,{variant:"body1",color:"inherit",align:"left",gutterBottom:!0,children:[Object(g.jsx)("em",{children:"Participating in community activities."})," Think about what activities you enjoy the most. Develop a plan for how you can make room for more of these kinds of activities in your life that fits your lifestyle and circumstances. Would you like us to help you find suitable activities?"]})})}}]),a}(r.Component),Lt=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return Object(g.jsxs)("div",{children:[(this.props.reports.HT_QofL2_SD[this.props.collection]<=65&&999!==this.props.reports.HT_QofL2_SD[this.props.collection]||this.props.reports.MH_QofL2_SD[this.props.collection]<=1&&999!==this.props.reports.MH_QofL2_SD[this.props.collection]||this.props.reports.HU_ED_QofL2_SD[this.props.collection]>1&&999!==this.props.reports.HU_ED_QofL2_SD[this.props.collection]||this.props.reports.HU_HNum_QofL2_SD[this.props.collection]>1&&999!==this.props.reports.HU_HNum_QofL2_SD[this.props.collection])&&Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(f.a,{variant:"body1",color:"inherit",align:"left",gutterBottom:!0,children:Object(g.jsxs)("em",{children:["Your health. ",this.props.reports.HU_ED_QofL2_SD[this.props.collection],"  "]})}),this.props.reports.HU_ED_QofL2_SD[this.props.collection]>1&&999!==this.props.reports.HU_ED_QofL2_SD[this.props.collection]&&Object(g.jsxs)(f.a,{variant:"body1",color:"inherit",align:"left",gutterBottom:!0,children:["You had  ",this.props.reports.HU_ED_QofL2_SD[this.props.collection]," er visits in the past year."]}),this.props.reports.HU_HNum_QofL2_SD[this.props.collection]>1&&999!==this.props.reports.HU_HNum_QofL2_SD[this.props.collection]&&Object(g.jsxs)(f.a,{variant:"body1",color:"inherit",align:"left",gutterBottom:!0,children:["You had ",this.props.reports.HU_HNum_QofL2_SD[this.props.collection]>1," hospitalizations in the past year."]}),Object(g.jsx)(f.a,{variant:"body1",color:"inherit",align:"left",gutterBottom:!0,children:"If you feel concerned about your health generally, you may benefit from developing a plan and building a network of care that is responsive to all aspects of your physical, mental, social and spiritual health. Would you like us to help you develop a personalized plan that aims to improve your health?"})]}),this.props.reports.HU_HNum_QofL2_SD[this.props.collection]>=2&&999!==this.props.reports.HU_HNum_QofL2_SD[this.props.collection]&&Object(g.jsxs)(f.a,{display:"block",variant:"body1",color:"inherit",align:"left",gutterBottom:!0,children:[Object(g.jsx)("em",{children:"Problems  with pain."}),"    Regularly monitor pain and discomfort symptoms, and the circumstances in which they are better and worse. Share information about your symptoms with your trusted providers and your family and ask about pain management and comfort measures to help with deal with pain and symptoms. Make sure you keep track of what seems to help."]}),this.props.reports.AD_QofL2_SD[this.props.collection]>=2&&999!==this.props.reports.AD_QofL2_SD[this.props.collection]&&Object(g.jsxs)(f.a,{display:"block",variant:"body1",color:"inherit",align:"left",gutterBottom:!0,children:[Object(g.jsx)("em",{children:"Problems with anxiety or depression."}),"   Regularly monitor your physical and psychological symptoms, and circumstances in which they are better and worse. Share this information with your trusted providers and other supporters and ask for advice. You may wish to explore options such as counselling, peer support groups, relaxation, meditation or other activities to reduce anxiety. Make sure you keep track of what seems to help."]}),(this.props.reports.M_QofL2_SD[this.props.collection]>=2&&999!==this.props.reports.M_QofL2_SD[this.props.collection]||this.props.reports.PC_QofL2_SD[this.props.collection]>=2&&999!==this.props.reports.PC_QofL2_SD[this.props.collection]||this.props.reports.UA_QofL2_SD[this.props.collection]>=2&&999!==this.props.reports.UA_QofL2_SD[this.props.collection])&&Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)(f.a,{variant:"body1",color:"inherit",align:"left",gutterBottom:!0,children:[Object(g.jsx)("em",{children:"Problems with "}),this.props.reports.M_QofL2_SD[this.props.collection]>=2&&999!==this.props.reports.M_QofL2_SD[this.props.collection]&&Object(g.jsx)("em",{children:" mobility "}),this.props.reports.PC_QofL2_SD[this.props.collection]>=2&&999!==this.props.reports.PC_QofL2_SD[this.props.collection]&&Object(g.jsx)("em",{children:" personal care, usual activities]"}),this.props.reports.UA_QofL2_SD[this.props.collection]>=2&&999!==this.props.reports.UA_QofL2_SD[this.props.collection]&&Object(g.jsx)("em",{children:" usual activities "})]}),Object(g.jsx)(f.a,{variant:"body1",color:"inherit",align:"left",gutterBottom:!0,children:"You may want to speak to a trusted health care provider and bring this results report with you, to ask if you are eligible for extra help, assistive aids, or if they have other suggestions to help you better deal with these challenges. If you don\u2019t already have a trusted provider helping with your in-home or personal care, would you like us to connect you?"})]}),"No"==this.props.reports.access_to_family_doctor[this.props.collection]&&Object(g.jsxs)(f.a,{display:"block",variant:"body1",color:"inherit",align:"left",gutterBottom:!0,children:[Object(g.jsx)("em",{children:"Access to a primary care provider."})," Having\xa0your own\xa0family doctor\xa0is good for your health! Would you like us to help you connect with a primary care provider who is right for you?"]})]})}}]),a}(r.Component),Et=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return Object(g.jsxs)("div",{children:[this.props.reports.PL_QofL1_COMB_often_count[this.props.collection]>0&&999!==this.props.reports.PL_QofL1_COMB_often_count[this.props.collection]&&Object(g.jsxs)(f.a,{variant:"body1",color:"inherit",align:"left",gutterBottom:!0,children:[Object(g.jsx)("em",{children:"Loneliness."})," Everyone needs people in their lives they feel close to. Try meeting new people and maybe make new friends.\xa0 Join events\xa0that will help you connect with neighbours who\xa0share your interests, or start your own activity, and see who you meet."]}),this.props.reports.PL_QofL1_COMB_sometimes_count[this.props.collection]>0&&999!==this.props.reports.PL_QofL1_COMB_sometimes_count[this.props.collection]&&this.props.reports.PL_QofL1_COMB[this.props.collection]>=1.6&&999!==this.props.reports.PL_QofL1_COMB[this.props.collection]&&Object(g.jsxs)(f.a,{variant:"body1",color:"inherit",align:"left",gutterBottom:!0,children:[Object(g.jsx)("em",{children:"Loneliness."})," Try connecting with others through sharing your time and talents with them. Invite others to join you in doing the activities you love best. Helping others is also a good way to feel less lonely."]}),!(this.props.reports.PL_QofL1_COMB_often_count[this.props.collection]>0&&999!==this.props.reports.PL_QofL1_COMB_often_count[this.props.collection])&&!(this.props.reports.PL_QofL1_COMB_sometimes_count[this.props.collection]>0&&999!==this.props.reports.PL_QofL1_COMB_sometimes_count[this.props.collection]&&this.props.reports.PL_QofL1_COMB[this.props.collection]>=1.6&&999!==this.props.reports.PL_QofL1_COMB[this.props.collection])&&Object(g.jsxs)(f.a,{variant:"body1",color:"inherit",align:"left",gutterBottom:!0,children:[Object(g.jsx)("em",{children:"Feeling left out."})," Talk to others to let them know what\u2019s important to you."]})]})}}]),a}(r.Component),Ut=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return Object(g.jsxs)("div",{children:[0==this.props.reports.frequency_of_social_contacts_month_phone_computer[this.props.collection]&&("Yearly"==this.props.reports.frequency_get_together_family[this.props.collection]||"Never"==this.props.reports.frequency_get_together_family[this.props.collection])&&("Yearly"==this.props.reports.frequency_get_together_friends[this.props.collection]||"Never"==this.props.reports.frequency_get_together_friends[this.props.collection])&&("Yearly"==this.props.reports.frequency_get_together_neighbours[this.props.collection]||"Never"==this.props.reports.frequency_get_together_neighbours[this.props.collection])&&Object(g.jsxs)(f.a,{variant:"body1",color:"inherit",align:"left",gutterBottom:!0,children:[Object(g.jsx)("em",{children:"Seeing family and friends."}),"  Even if circumstances make it difficult to physically get together with people as often as you would like, think about different ways to show them you care. Phone calls, letters, messages and video are all good ways to reach out. You could also plan for virtual get-togethers. Can we help you get started?"]}),this.props.reports.QSC_QofL1_COMB[this.props.collection]<2&&Object(g.jsx)(f.a,{variant:"body1",color:"inherit",align:"left",gutterBottom:!0,children:"Quality time with others. Everyone needs people in their lives they enjoy spending time with. Think about what steps you can take now so you can get more enjoyment out of spending time with people. Would you like us to help you develop a plan?"})]})}}]),a}(r.Component),Tt=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return Object(g.jsx)("div",{children:(this.props.reports.PSS_QofL1_COMB[this.props.collection]>=1.6&&this.props.reports.PSS_QofL1_COMB[this.props.collection]<=2.4||this.props.reports.PSS_QofL1_COMB[this.props.collection]>=2.5&&this.props.reports.PSS_QofL1_COMB[this.props.collection]<=3||this.props.reports.PSS_QofL1_COMB[this.props.collection]>=1.6&&this.props.reports.PSS_QofL1_COMB[this.props.collection]<=2.4)&&Object(g.jsxs)(f.a,{variant:"body1",color:"inherit",align:"left",gutterBottom:!0,children:[Object(g.jsx)("em",{children:"Support from others."})," Remember it\u2019s a natural part of living in a caring community to ask for the help you need. Research shows that 80% of the time, helping behaviour will start from a clear and specific request from you. Your community is there for you \u2013 it\u2019s what community is all about. Would you like us to help you request help?"]})})}}]),a}(r.Component),Mt=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return Object(g.jsxs)("div",{children:[this.props.reports.PWI_QofL3_COMB[this.props.collection]<=60&&Object(g.jsxs)(f.a,{variant:"body1",color:"inherit",align:"left",gutterBottom:!0,children:[Object(g.jsx)("em",{children:"Not satisfied with life."})," Feeling dissatisfied with your life is a sign that you may be experiencing some stressful challenges and may need extra support. Achieving something important each day, developing good personal relationships with others, getting your finances in order, and finding meaning in what\u2019s happening will help to lower stress. Would you like to speak to someone to explore these issues further?"]}),this.props.reports.SL_QofL3_SD[this.props.collection]<=5&&Object(g.jsx)(f.a,{display:"block",variant:"body1",color:"inherit",align:"left",gutterBottom:!0,children:"Standard of living. Would it help to talk to someone to learn about how to better manage your finances, and to explore whether there are income support programs you may be entitled to?"}),this.props.reports.AL_QofL3_SD[this.props.collection]<=5&&Object(g.jsxs)(f.a,{display:"block",variant:"body1",color:"inherit",align:"left",gutterBottom:!0,children:[Object(g.jsx)("em",{children:"Life achievement."})," Remember \u2013 your life has purpose and your story matters. Try to achieve at least one thing that is important to you each day.  Setting goals for what you would like to change, and what you can do to make this happen, can help. Would you like us to help you record your story and develop an action plan for achieving your goals?"]}),this.props.reports.PR_QofL3_SD[this.props.collection]<=5&&Object(g.jsxs)(f.a,{display:"block",variant:"body1",color:"inherit",align:"left",gutterBottom:!0,children:[Object(g.jsx)("em",{children:"Personal relationships."})," Would it help you to talk to someone to learn how to mend/tend personal relationships?"]}),this.props.reports.HSF_QofL3_SD[this.props.collection]<=5&&Object(g.jsxs)(f.a,{display:"block",variant:"body1",color:"inherit",align:"left",gutterBottom:!0,children:[Object(g.jsx)("em",{children:"Safety."})," Talk to your family and neighbours about what people could do together to feel more safe \u2013 for example, joining a Neighbourhood Watch group, tracking safety issues, having training workshops, starting a community dialogue about other possible options to improve safety."]}),this.props.reports.FPC_QofL3_SD[this.props.collection]<=5&&Object(g.jsxs)(f.a,{display:"block",variant:"body1",color:"inherit",align:"left",gutterBottom:!0,children:[Object(g.jsx)("em",{children:"Community belonging."})," Remember that every act of kindness counts and helps you feel a greater sense of belonging. Share a card and a smile to show people in your neighbourhood that you care about them. Your neighbours are there for you \u2013 it\u2019s what community is all about."]}),this.props.reports.FS_QofL3_SD[this.props.collection]<=5&&Object(g.jsxs)(f.a,{display:"block",variant:"body1",color:"inherit",align:"left",gutterBottom:!0,children:[Object(g.jsx)("em",{children:"Future security."})," Would it help to talk to someone to learn about how to plan for your future health, finances or safety?"]}),this.props.reports.SR_QofL3_SD[this.props.collection]<=5&&Object(g.jsxs)(f.a,{display:"block",variant:"body1",color:"inherit",align:"left",gutterBottom:!0,children:[Object(g.jsx)("em",{children:"Spirituality or religion."})," Would it help to talk to someone about your spirituality or about the different faith communities you might join in your neighbourhood?"]})]})}}]),a}(r.Component),Ft=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)(f.a,{display:"block",variant:"body1",color:"inherit",align:"left",gutterBottom:!0,children:[Object(g.jsx)("em",{children:"Goals."}),"  It\u2019s important to take steps now to achieve your wishes and hopes for the future. Thinking about what you would like to see different in your life 1 month, 3 months and 6 months from now, and what you can do to make this happen, can help.\xa0 Remember, a wish written down with a date becomes a goal. A goal broken down into steps becomes a plan. A plan backed by action becomes reality. Is there anything the community could help you with to make your wishes happen?"]}),Object(g.jsx)(Lt,{reports:this.props.reports,collection:this.props.collection}),Object(g.jsx)(Mt,{reports:this.props.reports,collection:this.props.collection}),Object(g.jsx)(Tt,{reports:this.props.reports,collection:this.props.collection}),Object(g.jsx)(Et,{reports:this.props.reports,collection:this.props.collection}),Object(g.jsx)(Nt,{reports:this.props.reports,collection:this.props.collection}),Object(g.jsx)(Ut,{reports:this.props.reports,collection:this.props.collection}),Object(g.jsxs)(f.a,{display:"block",variant:"body1",color:"inherit",align:"left",gutterBottom:!0,children:[Object(g.jsx)("em",{children:"Helping Others. "})," It\u2019s human nature to both get help and to help others, at every age and stage.\xa0Do you know anyone who is lonely or could use some extra help? Try reaching out and sharing your time and talent with them."]}),Object(g.jsx)(f.a,{display:"block",variant:"body1",color:"inherit",align:"left",gutterBottom:!0,children:"Remember \u2013 Being involved in meaningful activities and maintaining close relationships is important. Staying active and helping others is good for your health and good for community!"})]})}}]),a}(r.Component),Wt=(r.Component,function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var r;return Object(o.a)(this,a),(r=t.call(this,e)).chartRef=n.a.createRef(),r.findColour=function(e){return e<0&&(e=100-e),0==e?"#7D3C98":e<24?"#E74C3C":e<50?"#F4D03F":e<75?"#F39C12":e<101?"#27AE60":"#7D3C98"},r.isComplete=function(e){return!(e<-100||e>100)},r.state={health_colour:r.findColour(r.props.data[0]),mentalHealth_colour:r.findColour(r.props.data[1]),wellBeing_colour:r.findColour(r.props.data[2]),lifeSatisfaction_colour:r.findColour(r.props.data[3]),loneliness_colour:r.findColour(r.props.data[4]),health_zero:r.isComplete(r.props.data[0])?r.props.data[0]:"Incomplete",mentalHealth:r.isComplete(r.props.data[1])?r.props.data[1]:"Incomplete",wellBeing:r.isComplete(r.props.data[2])?r.props.data[2]:"Incomplete",lifeSatisfaction:r.isComplete(r.props.data[3])?r.props.data[3]:"Incomplete",loneliness:r.props.data[4]},r}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this.chartRef.current.getContext("2d");new ht.a(e,{type:"doughnut",options:{plugins:{legend:{display:!0,position:"top",labels:{font:{size:12}}},title:{display:!0,text:"At a glance"},tooltip:{enabled:!1}},scales:{x:{min:0,max:5}}},data:{labels:["Health score: "+this.state.health_zero,"Mental health score: "+this.state.mentalHealth,"Well-being score: "+this.state.wellBeing,"Life satisfaction score: "+this.state.lifeSatisfaction,"Loneliness"],datasets:[{data:[1,1,1,1,1],borderColor:"#0",backgroundColor:[this.state.health_colour,this.state.mentalHealth_colour,this.state.wellBeing_colour,this.state.lifeSatisfaction_colour,this.state.loneliness_colour],fill:!1}]}})}},{key:"render",value:function(){return Object(g.jsx)("div",{children:Object(g.jsx)("canvas",{id:"myChart",ref:this.chartRef})})}}]),a}(r.Component)),Rt=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var r;return Object(o.a)(this,a),(r=t.call(this,e)).chartRef=n.a.createRef(),r.scoreAverage=function(e){for(var t=0,a=0,n=0;n<4;n++){var i=e[n];i<0&&(i=100-i),r.isComplete(i)&&(t+=i,a++)}return t/a},r.findColour=function(e){return e<24?"#E74C3C":e<50?"#F4D03F":e<75?"#F39C12":e<101?"#27AE60":"#7D3C98"},r.isComplete=function(e){return!(e<-100||e>100)},r.calculateBalance=function(e){return 100-e},r.state={score:r.scoreAverage(r.props.data)},r}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this.chartRef.current.getContext("2d");new ht.a(e,{type:"doughnut",options:{rotation:270,circumference:180,plugins:{legend:{display:!0,position:"top",labels:{font:{size:12}}},title:{display:!0,text:"Overall"},tooltip:{enabled:!1}},scales:{x:{min:0,max:5}}},data:{labels:["Average score: "+this.state.score],datasets:[{data:[this.state.score,50],borderColor:"#0",backgroundColor:[this.findColour(this.state.score),"#FFFFFF"],fill:!1}]}})}},{key:"render",value:function(){return Object(g.jsx)("div",{children:Object(g.jsx)("canvas",{id:"myChart",ref:this.chartRef})})}}]),a}(r.Component),Vt=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(o.a)(this,a);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).findDashboardValues=function(e,t){var a=(e.HT_QofL2_SD[t]+e.PH_QofL2_SD[t])/2,r=(e.MH_QofL2_SD[t]+4*e.AD_QofL2_SD[t])/2;return[a,r*=-1,e.PWI_QofL3_COMB[t],10*e.LS_QofL3_SD[t],e.PL_QofL1_COMB_often_count[t]>=1?20:e.PL_QofL1_COMB[t]>=1.6&&(e.PL_QofL1_COMB_often_count[t]>=1||e.PL_QofL1_COMB_sometimes_count>=2)?60:e.PL_QofL1_COMB[t]>=1&&e.PL_QofL1_COMB[t]<1.6?80:999]},e}return Object(c.a)(a,[{key:"render",value:function(){return Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)("div",{className:"dashboard-flex",children:[Object(g.jsx)("div",{className:"dashboard-item",children:Object(g.jsx)(Wt,{data:this.findDashboardValues(this.props.reports,this.props.collection)})}),Object(g.jsx)("div",{className:"dashboard-item",children:Object(g.jsx)(Rt,{data:this.findDashboardValues(this.props.reports,this.props.collection)})})]})})}}]),a}(r.Component),Qt=Object(ot.a)((function(e){return{root:{flexGrow:1,height:"100%"},rootGrid:{height:"100%"}}})),zt=function(e){var t=Qt(),a=e.appState,n=e.ToggleDrawerClose,i=e.CheckAuthenticationValidity,s=Object(r.useState)(new st),o=Object(nt.a)(s,2),c=o[0],l=o[1],d=Object(r.useState)(null),j=Object(nt.a)(d,2),h=j[0],u=j[1],p=Object(r.useState)([]),O=Object(nt.a)(p,2),m=O[0],x=O[1],y=Object(r.useState)(""),v=Object(nt.a)(y,2),C=v[0],S=v[1],w=Object(r.useState)(0),D=Object(nt.a)(w,2),P=D[0],I=D[1],A=Object(r.useCallback)((function(){if("Patient"!=a.role)if(a.patients.length<=0)l(new st("You do not have any patients assigned. In order to start a collection, you must first be assigned a member by an Administrator.","error"));else{var e={_id:{$in:a.patients}};We("users/query",a.token,e,(function(e,t){e?l(new st("Unable to retrieve Patients. Please refresh and try again.","error")):200===t.status?x(t.data.response.users):l(new st("Unable to retrieve Patients. Please refresh and try again.","error"))}))}else l(new st("You do not have Permission to recieve Patients","error"))}),[a]),B=Object(r.useCallback)((function(e){b("reports/neighbours/user/"+e,a.token,(function(e,t){e?l(new st("Unable to retrieve Neighbour Chapter Reports. Please refresh and try again.","error")):200===t.status?0===Object.keys(t.data).length?u(null):u(t.data):l(new st("Unable to retrieve Neighbour Chapter Reports. Please refresh and try again.","error"))}))}),[a]),N=Object(r.useCallback)((function(e){S(e.target.value)}),[]),L=Object(r.useCallback)((function(e,t){I(t-1)}),[]);return Object(r.useEffect)((function(){n(),setTimeout((function(){i((function(e){A(C)}))}),200)}),[]),Object(r.useEffect)((function(){""!=C&&B(C)}),[C]),null!=c?Object(g.jsx)("div",{className:t.root,children:Object(g.jsx)(Be.a,{container:!0,className:t.rootGrid,direction:"row",justifyContent:"flex-start",alignItems:"stretch",spacing:1,children:m?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(Be.a,{item:!0,xs:8,children:Object(g.jsx)(Ne.a,{mx:1,my:1,children:Object(g.jsxs)(Be.a,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"flex-end",spacing:2,children:[Object(g.jsx)(Be.a,{item:!0,children:Object(g.jsx)(se.a,{color:"primary"})}),Object(g.jsx)(Be.a,{item:!0,xs:!0,children:Object(g.jsx)(f.a,{variant:"h5",color:"secondary",align:"left",gutterBottom:!1,children:"Your Reports"})})]})})}),Object(g.jsx)(Be.a,{item:!0,xs:4,children:Object(g.jsx)(Ne.a,{mx:1,my:1,children:Object(g.jsx)(jt,{alert:c,setParentAlert:l})})}),Object(g.jsx)(Be.a,{item:!0,xs:12,children:Object(g.jsx)(Le.a,{raised:!0,children:Object(g.jsx)(Ne.a,{mx:1,my:1,boxShadow:0,children:Object(g.jsxs)(Be.a,{container:!0,direction:"column",justifyContent:"flex-start",alignItems:"stretch",spacing:1,children:[Object(g.jsx)(Be.a,{item:!0,xs:12,children:Object(g.jsxs)(k.a,{fullWidth:!0,variant:"filled",size:"small",className:t.formControl,children:[Object(g.jsx)(_.a,{id:"select-label-Member",children:"Member"}),Object(g.jsx)(Re.a,{className:t.selectEmpty,labelId:"select-label-Member",id:"select-Member",defaultValue:"",disabled:!m,onChange:function(e){N(e)},children:m.map((function(e,t){return Object(g.jsx)(xe.a,{value:e._id,children:Object(g.jsx)("em",{children:e.info.name})},e._id)}))})]})}),Object(g.jsx)(Be.a,{item:!0,xs:12,children:h?Object(g.jsx)(it.a,{count:h.SRVNum_PRF_SD.length,showFirstButton:!0,showLastButton:!0,disabled:!h,onChange:function(e,t){L(e,t)}}):Object(g.jsx)(g.Fragment,{children:" "})})]})})})}),Object(g.jsx)(Be.a,{item:!0,xs:12,children:Object(g.jsx)(Le.a,{raised:!0,children:Object(g.jsx)(Ne.a,{mx:1,my:1,boxShadow:0,children:Object(g.jsx)(Be.a,{container:!0,direction:"column",justifyContent:"flex-start",alignItems:"stretch",spacing:1,children:h&&0!=Object.keys(h).length&&Object.getPrototypeOf(h)===Object.prototype?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)(Be.a,{item:!0,xs:12,children:[Object(g.jsx)(f.a,{variant:"h4",color:"textPrimary",children:"Compassion Care Community Neighbours Report"}),Object(g.jsx)(V.a,{light:!0})]}),Object(g.jsxs)(Be.a,{item:!0,xs:12,id:"dashboard",children:[Object(g.jsx)(f.a,{variant:"h5",color:"textSecondary",align:"left",gutterBottom:!0,children:"Dashboard"}),Object(g.jsx)(Vt,{reports:h,collection:P})]}),Object(g.jsxs)(Be.a,{item:!0,xs:12,id:"summary",children:[Object(g.jsx)(f.a,{variant:"h5",color:"textSecondary",align:"left",gutterBottom:!0,children:"Summary"}),Object(g.jsx)(wt,{reports:h,collection:P})]}),Object(g.jsxs)(Be.a,{item:!0,xs:12,id:"possible concerns",children:[Object(g.jsx)(f.a,{variant:"h5",color:"textSecondary",align:"left",gutterBottom:!0,children:"Possible Concerns"}),Object(g.jsx)(Bt,{reports:h,collection:P})]}),Object(g.jsxs)(Be.a,{item:!0,xs:12,id:"suggestions",children:[Object(g.jsx)(f.a,{variant:"h5",color:"textSecondary",align:"left",gutterBottom:!0,children:"Suggestions"}),Object(g.jsx)(Ft,{reports:h,collection:P})]})]}):Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(f.a,{variant:"subtitle2",color:"textSecondary",align:"left",gutterBottom:!0,children:"No available reports."})})})})})})]}):Object(g.jsx)(f.a,{variant:"subtitle2",color:"textSecondary",align:"left",gutterBottom:!0,children:"Persons Data Not Available"})})}):Object(g.jsx)(f.a,{variant:"h6",color:"inherit",align:"center",gutterBottom:!0,children:"Not Authorized. Please refresh and try again."})};zt.defaultProps={appState:{},ToggleDrawerClose:function(){},CheckAuthenticationValidity:function(){}};var Ht=zt,Jt=a(194),Yt=a.n(Jt),qt=a(233),Gt=a(364),$t=a(57),Zt=a.n($t),Kt=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var r;return Object(o.a)(this,a),(r=t.call(this,e)).componentDidMount=Object(qt.a)(Yt.a.mark((function e(){return Yt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.props.UpdateUser();case 2:r.users={},r.users.library={},r.users.length=0,r.users.patients=0,r.checkAuth();case 7:case"end":return e.stop()}}),e)}))),r.checkAuth=function(){setTimeout((function(){r.props.ToggleDrawerClose(),r.props.CheckAuthenticationValidity((function(e){e&&r.getUsers()}))}),200)},r.getUsers=function(){var e=r.props.appState;b("users/",e.token,(function(e,t){e?r.setState({error:e.message,render:!0}):200===t.status||304===t.status?r.populateStateData(t.data.response):r.setState({error:"Unable to retrieve users.  Please refresh and try agian.",render:!0})}))},r.populateStateData=function(e){for(var t=r.props.appState,a=0,n=0;n<e.count;n++)t.patients.includes(e.users[n]._id)&&(r.users.library[a]={_id:e.users[n]._id,name:e.users[n].info.name,role:e.users[n].role,email:e.users[n].email,createdAt:e.users[n].createdAt},a++);r.users.length=a,r.setState({error:"",render:!0})},r.createUserCard=function(e,t,a,r,n){return{_id:e,name:t,role:a,email:r,createdAt:n}},r.renderCards=function(){for(var e=r.props.classes,t=[],a=0;a<r.users.length;a++)t.push(r.createUserCard(r.users.library[a]._id,r.users.library[a].name,r.users.library[a].role,r.users.library[a].email,r.users.library[a].createdAt));return 0===r.users.length?Object(g.jsx)(f.a,{children:"You do not have any patients assigned to you yet.  Please wait for an administrator to assign you your members, or contact your administrator directly to ensure they know you currently have no one assigned to you."}):Object(g.jsx)("div",{className:e.userCardRoot,children:Object(g.jsx)(Be.a,{container:!0,spacing:10,children:t.map((function(e,t){var a=new Date(e.createdAt);return Object(g.jsx)(Be.a,{item:!0,xs:12,sm:12,md:6,lg:4,xl:4,children:Object(g.jsxs)(Le.a,{raised:!0,variant:"outlined",children:[Object(g.jsx)(Gt.a,{title:e.name,style:{backgroundColor:"aliceblue"},avatar:Object(g.jsx)(v.a,{"aria-label":"profile",children:"P"})}),Object(g.jsx)(Ue.a,{children:Object(g.jsx)(Ne.a,{mx:1,my:0,boxShadow:0,children:Object(g.jsxs)(Be.a,{container:!0,direction:"column",justifyContent:"flex-start",alignItems:"stretch",spacing:1,children:[Object(g.jsx)(Be.a,{item:!0,xs:12}),Object(g.jsxs)(Be.a,{item:!0,xs:12,children:[Object(g.jsx)(f.a,{variant:"body1",color:"textSecondary",component:"h2",children:"Role:"}),Object(g.jsx)(f.a,{variant:"body2",component:"h2",gutterBottom:!0,children:Object(g.jsx)("em",{children:e.role})}),Object(g.jsx)(f.a,{variant:"body1",color:"textSecondary",component:"h2",children:"Email:"}),Object(g.jsx)(f.a,{variant:"body2",component:"h2",gutterBottom:!0,children:Object(g.jsx)("em",{children:e.email})}),Object(g.jsx)(f.a,{variant:"body1",color:"textSecondary",component:"h2",children:"Joined:"}),Object(g.jsx)(f.a,{variant:"body2",component:"h2",gutterBottom:!0,children:Object(g.jsxs)("em",{children:[a.getMonth()+1," / ",a.getDate()," / ",a.getFullYear()]})})]})]})})}),Object(g.jsx)(Ee.a,{children:Object(g.jsx)(Ve.a,{title:"View Profile",children:Object(g.jsx)(C.a,{size:"small",color:"primary",variant:"contained",startIcon:Object(g.jsx)(Zt.a,{}),component:M.b,to:"/profile/"+e._id,children:"View"})})})]})},t)}))})})},r.state={error:"",render:!1},r}return Object(c.a)(a,[{key:"render",value:function(){var e=this.props.classes,t=this.state,a=t.error,r=t.render;return Object(g.jsx)("div",{children:r?Object(g.jsxs)(Be.a,{container:!0,className:e.rootGrid,direction:"row",justifyContent:"flex-start",alignItems:"stretch",spacing:2,children:[Object(g.jsx)(Be.a,{item:!0,xs:3,children:Object(g.jsx)(Ne.a,{mx:1,my:1,children:Object(g.jsxs)(Be.a,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"center",spacing:2,children:[Object(g.jsx)(Be.a,{item:!0,children:Object(g.jsx)(he.a,{color:"primary"})}),Object(g.jsx)(Be.a,{item:!0,xs:!0,children:Object(g.jsx)(f.a,{variant:"h5",color:"secondary",align:"left",gutterBottom:!1,children:"Your Members"})})]})})}),Object(g.jsx)(Be.a,{item:!0,xs:9,children:Object(g.jsx)(Ne.a,{mx:1,my:1})}),Object(g.jsx)(Be.a,{item:!0,xs:12,children:Object(g.jsx)(Le.a,{raised:!0,style:{backgroundColor:"whitesmoke"},children:Object(g.jsx)(Ue.a,{children:Object(g.jsx)(Ne.a,{mx:1,my:1,boxShadow:0,children:Object(g.jsx)(Be.a,{container:!0,direction:"column",justifyContent:"flex-start",alignItems:"stretch",spacing:1,children:Object(g.jsxs)(Be.a,{item:!0,xs:12,children:[""!==a&&Object(g.jsx)(y,{color:e.error,children:a}),this.renderCards()]})})})})})})]}):Object(g.jsx)(S.a,{})})}}]),a}(r.Component),Xt=(Object(I.a)((function(e){return{userCardRoot:{flexGrow:1,marginTop:24},error:e.error}}))(Kt),a(81)),ea=a(365),ta=a(369),aa=a(368),ra=a(366),na=a(367),ia=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var r;return Object(o.a)(this,a),(r=t.call(this,e)).componentDidMount=function(){r.membersurveys={},r.membersurveys.library={},r.membersurveys.length=0,r.booklets={},r.booklets.library={},r.booklets.length=0,r.props.ToggleDrawerClose(),r.props.CheckAuthenticationValidity((function(e){e&&r.getMemberSurveys()}))},r.getMemberSurveys=function(){var e=r.props.appState;b("membersurveys/user/surveys/",e.token,(function(e,t){e?r.setState({error:e.message,render:!0}):200===t.status?(r.membersurveys.length=t.data.response.count,r.populateMemberSurveyData(t.data.response)):r.setState({error:"Unable to retrieve member surveys. Please refresh and try again.",render:!0})})),b("surveys/",e.token,(function(e,t){e?r.setState({error:e.message,render:!0}):200===t.status?(r.booklets.length=t.data.response.count,r.populateSurveyData(t.data.response)):r.setState({error:"Unable to retrieve surveys. Please refresh and try again.",render:!0})}))},r.populateMemberSurveyData=function(e){for(var t=0;t<e.count;t++)r.membersurveys.library[t]={_id:e.memberSurveys[t]._id,approved:e.memberSurveys[t].approved,patientId:e.memberSurveys[t].patientId,patientName:e.memberSurveys[t].patientName,name:e.memberSurveys[t].name,createdBy:e.memberSurveys[t].createdBy,modifiedBy:e.memberSurveys[t].modifiedBy,createdAt:e.memberSurveys[t].createdAt,updatedAt:e.memberSurveys[t].updatedAt};r.setState({error:"",render:!0})},r.populateSurveyData=function(e){for(var t=0;t<e.count;t++)r.booklets.library[t]={_id:e.surveys[t]._id,name:e.surveys[t].name};r.setState({error:"",render:!0})},r.createMemberSurveysRow=function(e,t,a,r,n,i,s,o,c){return{_id:e,approved:t,patientId:a,patientName:r,name:n,createdBy:i,modifiedBy:s,createdAt:o,updatedAt:c}},r.createSurveysRow=function(e,t){return{_id:e,name:t}},r.renderMemberSurveysList=function(){for(var e=[],t=r.membersurveys.length,a=0;a<t;a++)e.push(r.createMemberSurveysRow(r.membersurveys.library[a]._id,r.membersurveys.library[a].approved,r.membersurveys.library[a].patientId,r.membersurveys.library[a].patientName,r.membersurveys.library[a].name,r.membersurveys.library[a].createdBy,r.membersurveys.library[a].modifiedBy,r.membersurveys.library[a].createdAt,r.membersurveys.library[a].updatedAt));for(var n=[],i=r.booklets.length,s=0;s<i;s++)n.push(r.createSurveysRow(r.booklets.library[s]._id,r.booklets.library[s].name));var o=e.filter((function(e){var t=new Date(e.createdAt),a=new Date(r.state.date);return-1!==e.patientName.toLowerCase().indexOf(r.state.search.toLowerCase())&&-1!==e.name.toLowerCase().indexOf(r.state.booklet.toLowerCase())&&-1!==e.approved.toString().toLowerCase().indexOf(r.state.approval.toLowerCase())&&(t<=a||""===r.state.date)}));return 0===i?Object(g.jsx)(f.a,{children:"No booklets exist yet."}):0===t?Object(g.jsx)(f.a,{children:"No member surveys exist yet."}):Object(g.jsxs)("div",{children:[Object(g.jsxs)(f.a,{children:[Object(g.jsx)("label",{htmlFor:"pname",children:"Patient Name:"}),Object(g.jsx)("br",{}),Object(g.jsx)("input",{type:"text",id:"pname",name:"search",value:r.state.search,onChange:r.updateSearch.bind(Object(Xt.a)(r))}),Object(g.jsx)("br",{}),Object(g.jsx)("label",{htmlFor:"bname",children:"Booklet Name:"}),Object(g.jsx)("br",{}),Object(g.jsxs)("select",{id:"bname",name:"booklet",onChange:r.updateSearch.bind(Object(Xt.a)(r)),children:[Object(g.jsx)("option",{value:"",children:"All"}),n.map((function(e){return Object(g.jsx)("option",{value:e.name,children:e.name})}))]}),Object(g.jsx)("br",{}),Object(g.jsx)("label",{htmlFor:"approval",children:"Approval Status:"}),Object(g.jsx)("br",{}),Object(g.jsxs)("select",{id:"approval",name:"approval",onChange:r.updateSearch.bind(Object(Xt.a)(r)),children:[Object(g.jsx)("option",{value:"",children:"All"}),Object(g.jsx)("option",{value:"false",children:"Pending Approval"}),Object(g.jsx)("option",{value:"true",children:"Approved"})]}),Object(g.jsx)("br",{}),Object(g.jsx)("label",{htmlFor:"date",children:"Created Before:"}),Object(g.jsx)("br",{}),Object(g.jsx)("input",{type:"date",id:"date",name:"date",onChange:r.updateSearch.bind(Object(Xt.a)(r))})]}),Object(g.jsxs)(ea.a,{children:[Object(g.jsx)(ra.a,{children:Object(g.jsxs)(na.a,{children:[Object(g.jsx)(aa.a,{children:"Patient Name"}),Object(g.jsx)(aa.a,{align:"right",children:"Booklet Name"}),Object(g.jsx)(aa.a,{align:"right",children:"Date Started"}),Object(g.jsx)(aa.a,{align:"right",children:"Status"})]})}),Object(g.jsx)(ta.a,{children:o.map((function(e,t){var a="/profile/"+e.patientId,r="/booklet/"+e._id,n=new Date(e.createdAt),i="Pending Approval";return e.approved&&(i="Approved"),Object(g.jsxs)(na.a,{children:[Object(g.jsx)(aa.a,{children:Object(g.jsx)(f.a,{component:M.b,to:a,children:e.patientName})},"profile"+e.patientId),Object(g.jsx)(aa.a,{children:Object(g.jsx)(f.a,{component:M.b,to:r,children:e.name})},"booklet"+e._id),Object(g.jsxs)(aa.a,{align:"right",children:[n.getMonth()+1," / ",n.getDate()," / ",n.getFullYear()]},"date"+e.createdAt),Object(g.jsx)(aa.a,{align:"right",children:i},"approval"+e._id)]},t+e.patientId)}))})]})]})},r.renderError=function(){return Object(g.jsx)(f.a,{children:r.state.error})},r.state={search:"",booklet:"",approval:"",date:"",error:"",render:!1},r}return Object(c.a)(a,[{key:"updateSearch",value:function(e){this.setState(Object(p.a)({},e.target.name,e.target.value))}},{key:"render",value:function(){var e=this.props.classes,t=this.state,a=t.error,r=t.render;return Object(g.jsx)(Le.a,{children:Object(g.jsxs)(Ue.a,{children:[Object(g.jsx)(f.a,{variant:"h5",component:"h2",className:e.title,children:"Search Filter"}),r?Object(g.jsx)("div",{children:""===a?this.renderMemberSurveysList():this.renderError()}):Object(g.jsx)(S.a,{})]})})}}]),a}(r.Component),sa=(Object(I.a)((function(e){return{title:e.title,buttonView:e.colorGreen,buttonEdit:e.colorBlue,buttonDelete:e.colorRed}}))(ia),function(e){var t=e.autoComplete,a=e.autoFocus,r=e.fullWidth,n=e.id,i=e.label,s=e.margin,o=e.onChange,c=e.type,l=e.value;return Object(g.jsxs)(k.a,{margin:s,required:!0,fullWidth:r,children:[Object(g.jsx)(_.a,{htmlFor:n,children:i}),Object(g.jsx)(D.a,Object(T.a)(Object(T.a)({id:n,name:n,type:c},""!==t&&{autoComplete:t}),{},{value:l,onChange:o,autoFocus:a}))]})});sa.defaultProps={autoComplete:"",autoFocus:!1,fullWidth:!1,margin:"normal",type:""};var oa=sa,ca=a(373),la=a(370),da=a(371),ja=a(372),ha=a(386),ua=a(374),ba=a(394),pa=a(235),Oa=a.n(pa),ma=a(234),xa=a.n(ma),fa=a(113),ga=a.n(fa),ya=Object(I.a)((function(e){return{root:{borderBottom:"1px solid ".concat(e.palette.divider),margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}))((function(e){var t=e.children,a=e.classes,r=e.onClose;return Object(g.jsxs)(la.a,{disableTypography:!0,className:a.root,children:[Object(g.jsx)(f.a,{variant:"h6",children:t}),r?Object(g.jsx)(fe.a,{"aria-label":"Close",className:a.closeButton,onClick:r,children:Object(g.jsx)(Ce.a,{})}):null]})})),va=Object(I.a)((function(e){return{root:{margin:0,padding:e.spacing(2)}}}))(da.a),Ca=Object(I.a)((function(e){return{root:{borderTop:"1px solid ".concat(e.palette.divider),margin:0,padding:e.spacing(1)}}}))(ja.a);function Sa(e){return Object(g.jsx)(f.a,{component:"div",style:{padding:8},children:e.children})}var wa=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var r;return Object(o.a)(this,a),(r=t.call(this,e)).componentDidMount=function(){var e=r.props.appState;r.user={},r.currentBooklet={};var t=r.props.match.params.profileID;r.setState({profileID:t}),t&&"Admin"!==e.role?"Coordinator"===e.role?e.patients.includes(t)||e.workers.includes(t)?r.checkAuth():r.setState({loadError:"This user is not a member nor a worker that has been assigned to you.  You do not have permission to view this page.",render:!0}):"Volunteer"===e.role&&(e.patients.includes(t)?r.checkAuth():r.setState({loadError:"This user is not a member that has been assigned to you.  You do not have permission to view this page.",render:!0})):r.checkAuth()},r.componentDidUpdate=function(){r.props.appState;var e=r.state.profileID,t=r.props.match.params.profileID;t!==e&&(r.setState({render:!1,profileID:t}),r.loadUserInformation())},r.checkAuth=function(){setTimeout((function(){r.props.ToggleDrawerClose(),r.props.CheckAuthenticationValidity((function(e){e&&r.loadUserInformation()}))}),200)},r.loadUserInformation=function(){var e=r.props.appState,t=r.props.match.params.profileID,a="";a=null==t?r.props.appState._id:t,b("users/1/"+a,e.token,(function(e,t){e?r.setState({loadError:"Unable to load profile.  Please try again later.",render:!0}):200===t.status||304===t.status?(r.user=t.data,r.setState({loadError:"Unable to load profile.  Please try again later.",render:!0})):r.setState({loadError:"Unable to load profile.  Please make sure your User ID is correct and you have proper permissions.",render:!0})}))},r.createStickyNote=function(){var e=r.props.appState,t=r.state,a=t.noteName,n=t.noteMessage,i=r.props.match.params.profileID;if(""!==a&&""!==n){var s={patientId:i,level:a,message:n,open:!0,createdBy:e._id,modifiedBy:e._id};r.setState({noteCreating:!0}),We("stickynotes/",e.token,s,(function(e,t){e?r.setState({noteError:"There was an error creating the note, please try again later.",noteCreating:!1}):201===t.status?r.setState({noteError:"",noteCreating:!1,noteCreationDialogOpen:!1},(function(){window.location.reload()})):r.setState({noteError:"There was an error creating the note, please try again later.",noteCreating:!1})}))}else r.setState({noteError:"Please make sure a name and message are filled out."})},r.createBookletRow=function(e,t,a,r,n,i,s,o,c,l,d){return{_id:e,name:t,approved:a,approvedBy:r,approvedByName:n,dateCreated:i,createdBy:s,createdByName:o,dateLastModified:c,lastMofifiedBy:l,lastMofifiedByName:d}},r.createStickyNoteRow=function(e,t,a,r,n,i,s,o,c,l){return{_id:e,level:t,message:a,open:r,dateCreated:n,createdBy:i,createdByName:s,dateLastModified:o,lastMofifiedBy:c,lastMofifiedByName:l}},r.createUserRow=function(e,t,a,r,n){return{_id:e,email:t,role:a,name:r,createdAt:n}},r.handleTabChange=function(e,t){r.setState({tabValue:t})},r.HandleChange=function(e){r.setState(Object(p.a)({},e.target.name,e.target.value))},r.handleBookletDialogOpen=function(e){r.currentBooklet=e,r.setState({bookletDialogOpen:!0})},r.handleBookletDialogClose=function(){r.setState({bookletDialogOpen:!1})},r.handlePreviousVersionNumber=function(e){return r.user.memberSurveys.filter((function(t){return t.name===e})).length},r.handlePreviousVersionsOpen=function(e,t){r.currentBooklet=e,r.memberSurveys=t,r.setState({previousVersionDialogOpen:!0});var a=r.user.memberSurveys.filter((function(t){return t.name===e}));r.previousVersions=a},r.handlePreviousVersionsClose=function(){r.setState({previousVersionDialogOpen:!1})},r.handleNoteCreationDialogOpen=function(){r.setState({noteCreationDialogOpen:!0})},r.handleNoteCreationDialogClose=function(){r.setState({noteError:"",noteCreationDialogOpen:!1})},r.renderBookletTab=function(){var e=r.user.memberSurveys;e.sort((function(e,t){var a=e.name.toLowerCase(),r=t.name.toLowerCase();return a<r?-1:a>r?1:0}));var t=[],a=r.user.memberSurveys.length;1==a&&t.push(r.createBookletRow(e[0]._id,e[0].name,e[0].approved,e[0].approvedBy,e[0].approvedByname,e[0].createdAt,e[0].createdBy,e[0].createdByName,e[0].updatedAt,e[0].modifiedBy,e[0].modifiedByName));for(var n=1,i=0;n<a;)e[n].name===e[i].name?e[n].createdAt>e[i].createdAt?i=n++:++n:(t.push(r.createBookletRow(e[i]._id,e[i].name,e[i].approved,e[i].approvedBy,e[i].approvedByname,e[i].createdAt,e[i].createdBy,e[i].createdByName,e[i].updatedAt,e[i].modifiedBy,e[i].modifiedByName)),i=n++);return 0===a?Object(g.jsx)(f.a,{children:"There are no chapters for this user yet."}):Object(g.jsxs)(ea.a,{children:[Object(g.jsx)(ra.a,{children:Object(g.jsxs)(na.a,{children:[Object(g.jsx)(aa.a,{children:"Chapter Name"}),Object(g.jsx)(aa.a,{align:"right",children:"Date Started"}),Object(g.jsx)(aa.a,{align:"right",children:"Status"}),Object(g.jsx)(aa.a,{align:"right",children:"Previous Versions"}),Object(g.jsx)(aa.a,{align:"right",children:"Details"})]})}),Object(g.jsx)(ta.a,{children:t.map((function(t,a){var n="/booklet/"+t._id,i=new Date(t.dateCreated),s="Pending Approval";return t.approved&&(s="Approved"),Object(g.jsxs)(na.a,{children:[Object(g.jsx)(aa.a,{children:Object(g.jsx)(f.a,{component:M.b,to:n,children:t.name})}),Object(g.jsxs)(aa.a,{align:"right",children:[i.getMonth()+1," / ",i.getDate()," / ",i.getFullYear()]}),Object(g.jsx)(aa.a,{align:"right",children:"Approved"===s?Object(g.jsx)(f.a,{style:{color:"green"},children:"Approved"}):Object(g.jsx)(f.a,{style:{color:"blue"},children:"Pending"})}),Object(g.jsx)(aa.a,{align:"right",children:Object(g.jsx)(C.a,{variant:"outlined",color:"primary",onClick:function(){return r.handlePreviousVersionsOpen(t.name,e)},endIcon:Object(g.jsx)(xa.a,{fontSize:"small"}),children:r.handlePreviousVersionNumber(t.name)})}),Object(g.jsx)(aa.a,{align:"right",children:Object(g.jsx)(fe.a,{"aria-label":"View",onClick:function(){return r.handleBookletDialogOpen(t)},children:Object(g.jsx)(Oa.a,{fontSize:"small"})})})]},a)}))})]})},r.renderPreviousVersions=function(){var e=r.state.previousVersionDialogOpen;return r.previousVersions?Object(g.jsx)("div",{children:Object(g.jsx)(ca.a,{onClose:r.handlePreviousVersionsClose,"aria-labelledby":"Link-Dialog",open:e,children:Object(g.jsx)(va,{children:Object(g.jsx)(G.a,{children:r.previousVersions.map((function(e){var t="/booklet/"+e._id;return Object(g.jsx)($.a,{children:Object(g.jsxs)(M.b,{to:t,children:[e.name," created on ",e.createdAt]})},e._id)}))})})})}):Object(g.jsx)("div",{children:Object(g.jsxs)(ca.a,{onClose:r.handlePreviousVersionsClose,"aria-labelledby":"Delete-Dialog",open:e,children:[Object(g.jsx)(ya,{id:"Delete-Dialog",onClose:r.handlePreviousVersionsClose,children:r.currentBooklet.name}),Object(g.jsx)(va,{children:Object(g.jsx)(G.a,{})})]})})},r.renderStickyNotesTab=function(){for(var e=r.props.classes,t=r.user.stickyNotes,a=[],n=t.length,i=0;i<n;i++)a.push(r.createStickyNoteRow(t[i]._id,t[i].level,t[i].message,t[i].open,t[i].createdAt,t[i].createdBy._id,t[i].createdBy.info.name,t[i].updatedAt,t[i].modifiedBy._id,t[i].modifiedBy.info.name));return 0===n?Object(g.jsxs)("div",{className:e.root,children:[Object(g.jsx)(f.a,{children:"There are no sticky notes attatched to this user yet."}),Object(g.jsx)("div",{className:e.alignLeftSpacer,children:Object(g.jsx)(Ve.a,{title:"Create Sticky Note",children:Object(g.jsx)(C.a,{size:"small",color:"primary",variant:"contained",startIcon:Object(g.jsx)(ga.a,{}),onClick:r.handleNoteCreationDialogOpen,children:"Sticky Note"})})})]}):Object(g.jsxs)("div",{children:[Object(g.jsxs)(ea.a,{children:[Object(g.jsx)(ra.a,{children:Object(g.jsxs)(na.a,{children:[Object(g.jsx)(aa.a,{children:"Type"}),Object(g.jsx)(aa.a,{align:"right",children:"Message"}),Object(g.jsx)(aa.a,{align:"right",children:"Date Created"}),Object(g.jsx)(aa.a,{align:"right",children:"Created By"})]})}),Object(g.jsx)(ta.a,{children:a.map((function(e,t){var a=new Date(e.dateCreated);e.createdBy;return Object(g.jsxs)(na.a,{children:[Object(g.jsxs)(aa.a,{children:["Info"===e.level?Object(g.jsx)(ct.a,{severity:"info",children:"Info Status"}):null,"Warning"===e.level?Object(g.jsx)(ct.a,{severity:"warning",children:"Warning Status"}):null,"Danger"===e.level?Object(g.jsx)(ct.a,{severity:"error",children:"Danger Status"}):null]}),Object(g.jsx)(aa.a,{align:"right",children:Object(g.jsx)(f.a,{children:e.message})}),Object(g.jsxs)(aa.a,{align:"right",children:[a.getMonth()+1," / ",a.getDate()," / ",a.getFullYear()]}),Object(g.jsx)(aa.a,{align:"right",children:Object(g.jsx)(f.a,{children:Object(g.jsx)("em",{children:e.createdByName})})})]},t)}))})]}),Object(g.jsx)("br",{}),Object(g.jsx)("div",{className:e.root,children:Object(g.jsx)("div",{className:e.alignLeftSpacer,children:Object(g.jsx)(Ve.a,{title:"Create Sticky Note",children:Object(g.jsx)(C.a,{size:"small",color:"primary",variant:"contained",startIcon:Object(g.jsx)(ga.a,{}),onClick:r.handleNoteCreationDialogOpen,children:"Sticky Note"})})})})]})},r.renderUserTab=function(e){for(var t=r.props.classes,a=[],n=e.length,i=0;i<n;i++)a.push(r.createUserRow(e[i]._id,e[i].email,e[i].role,e[i].info.name,e[i].createdAt));return 0===n?Object(g.jsx)("div",{className:t.root,children:Object(g.jsx)(f.a,{children:"There are no patients assigned to this user."})}):Object(g.jsxs)(ea.a,{children:[Object(g.jsx)(ra.a,{children:Object(g.jsxs)(na.a,{children:[Object(g.jsx)(aa.a,{children:"Name"}),Object(g.jsx)(aa.a,{align:"right",children:"Email"}),Object(g.jsx)(aa.a,{align:"right",children:"Date Joined"})]})}),Object(g.jsx)(ta.a,{children:a.map((function(e,t){var a=new Date(e.createdAt),r="/profile/"+e._id;return Object(g.jsxs)(na.a,{children:[Object(g.jsx)(aa.a,{children:Object(g.jsx)(f.a,{children:Object(g.jsx)("a",{href:r,children:e.name})})}),Object(g.jsx)(aa.a,{align:"right",children:Object(g.jsx)(f.a,{children:e.email})}),Object(g.jsxs)(aa.a,{align:"right",children:[a.getMonth()+1," / ",a.getDate()," / ",a.getFullYear()]})]},t)}))})]})},r.renderInfoTab=function(){var e=r.user;return Object(g.jsx)(Ne.a,{my:3,children:Object(g.jsxs)(Be.a,{spacing:3,container:!0,children:[Object(g.jsx)(Be.a,{item:!0,xs:6,children:Object(g.jsx)(ba.a,{id:"email",variant:"outlined",fullWidth:!0,label:"Email",value:e.user.email,readOnly:!0})}),Object(g.jsx)(Be.a,{item:!0,xs:6,children:Object(g.jsx)(ba.a,{id:"Name",variant:"outlined",fullWidth:!0,label:"Name",value:e.user.info.name,readOnly:!0})}),Object(g.jsx)(Be.a,{item:!0,xs:6,children:Object(g.jsx)(ba.a,{id:"Phone",variant:"outlined",fullWidth:!0,label:"Phone",value:e.user.info.phone,readOnly:!0})}),Object(g.jsx)(Be.a,{item:!0,xs:12,children:Object(g.jsx)(ba.a,{id:"Address",variant:"outlined",fullWidth:!0,label:"Address",value:e.user.info.currentAddress.street,readOnly:!0})}),Object(g.jsx)(Be.a,{item:!0,xs:6,children:Object(g.jsx)(ba.a,{id:"City",variant:"outlined",fullWidth:!0,label:"City",value:e.user.info.currentAddress.city,readOnly:!0})}),Object(g.jsx)(Be.a,{item:!0,xs:6,children:Object(g.jsx)(ba.a,{id:"State",variant:"outlined",fullWidth:!0,label:"State",value:e.user.info.currentAddress.state,readOnly:!0})}),Object(g.jsx)(Be.a,{item:!0,xs:6,children:Object(g.jsx)(ba.a,{id:"Zip",variant:"outlined",fullWidth:!0,label:"Zip/Postal Code",value:e.user.info.currentAddress.code,readOnly:!0})}),Object(g.jsx)(Be.a,{item:!0,xs:6,children:Object(g.jsx)(ba.a,{id:"Country",variant:"outlined",fullWidth:!0,label:"Country",value:e.user.info.currentAddress.country,readOnly:!0})})]})})},r.renderBookletDialog=function(){var e=r.state.bookletDialogOpen,t=r.user.user.name;return Object(g.jsx)("div",{children:Object(g.jsxs)(ca.a,{onClose:r.handleBookletDialogClose,"aria-labelledby":"Delete-Dialog",open:e,children:[Object(g.jsx)(ya,{id:"Delete-Dialog",onClose:r.handleBookletDialogClose,children:r.currentBooklet.name}),Object(g.jsxs)(va,{children:[Object(g.jsxs)(f.a,{gutterBottom:!0,children:["Here is all the important information for the ",r.currentBooklet.name," for ",t,":"]}),Object(g.jsx)("br",{}),Object(g.jsxs)(f.a,{gutterBottom:!0,children:["Chapter Started: ",r.currentBooklet.dateCreated]}),Object(g.jsxs)(f.a,{gutterBottom:!0,children:["Started By: ",r.currentBooklet.createdByName]}),Object(g.jsxs)(f.a,{gutterBottom:!0,children:["Chapter Last Modified: ",r.currentBooklet.dateLastModified]}),Object(g.jsxs)(f.a,{gutterBottom:!0,children:["Last Modified By: ",r.currentBooklet.lastMofifiedByName]}),Object(g.jsx)("br",{}),r.currentBooklet.approved?Object(g.jsxs)(f.a,{gutterBottom:!0,children:["This Chapter has been approved by ",r.currentBooklet.approvedByName,"."]}):Object(g.jsx)(f.a,{gutterBottom:!0,children:"This Chapter has not been approved yet."})]}),Object(g.jsx)(Ca,{children:Object(g.jsx)(C.a,{color:"primary",onClick:r.handleBookletDialogClose,children:"Close"})})]})})},r.renderNoteCreationDialog=function(){var e=r.props.classes,t=r.state,a=t.noteCreationDialogOpen,n=t.noteName,i=t.noteMessage,s=t.noteError,o=t.noteCreating;return Object(g.jsx)("div",{children:Object(g.jsxs)(ca.a,{onClose:r.handleNoteCreationDialogClose,"aria-labelledby":"Creation-Dialog",open:a,children:[Object(g.jsx)(ya,{id:"Creation-Dialog",onClose:r.handleNoteCreationDialogClose,children:"Create a new Sticky Note"}),Object(g.jsxs)(va,{children:[Object(g.jsx)(f.a,{gutterBottom:!0,children:"Please provide a name for this sticky note as well as a message.  This note will be visible to all users who have access to this member."}),Object(g.jsxs)("form",{className:e.root,children:[Object(g.jsxs)(k.a,{margin:"normal",required:!0,fullWidth:!0,children:[Object(g.jsx)(_.a,{htmlFor:"noteName",children:"Priority"}),Object(g.jsxs)(Re.a,{value:n,onChange:r.HandleChange,inputProps:{name:"noteName",id:"noteName"},children:[Object(g.jsx)(xe.a,{value:"",children:Object(g.jsx)("em",{children:"Select Message Importance"})}),Object(g.jsx)(xe.a,{value:"Info",children:"Info"}),Object(g.jsx)(xe.a,{value:"Warning",children:"Warning"}),Object(g.jsx)(xe.a,{value:"Danger",children:"Danger"})]})]}),Object(g.jsxs)(k.a,{margin:"normal",required:!0,fullWidth:!0,children:[Object(g.jsx)(_.a,{htmlFor:"noteMessage",children:"Message"}),Object(g.jsx)(D.a,{id:"noteMessage",name:"noteMessage",value:i,onChange:r.HandleChange})]})]}),""!==s&&Object(g.jsx)(f.a,{gutterBottom:!0,className:e.error,children:s})]}),Object(g.jsxs)(Ca,{children:[Object(g.jsx)(C.a,{color:"secondary",onClick:r.createStickyNote,disabled:o,children:"Create Note"}),Object(g.jsx)(C.a,{color:"primary",onClick:r.handleNoteCreationDialogClose,children:"Close"})]})]})})},r.state={profileID:"",loadError:"",tabValue:0,bookletDialogOpen:!1,previousVersionDialogOpen:!1,noteCreationDialogOpen:!1,noteName:"",noteMessage:"",noteError:"",noteCreating:!1,render:!1},r}return Object(c.a)(a,[{key:"render",value:function(){var e=this.state.profileID,t=this.props.classes,a=this.state,r=a.render,n=a.tabValue;if(r){var i=this.user.user,s=i.createdAt,o=i.info,c=i.patients,l=i.role,d=i.workers,j=new Date(s);return Object(g.jsxs)(Be.a,{container:!0,className:t.rootGrid,direction:"row",justifyContent:"flex-start",alignItems:"stretch",spacing:2,children:[Object(g.jsx)(Be.a,{item:!0,xs:3,children:Object(g.jsx)(Ne.a,{mx:1,my:1,children:Object(g.jsxs)(Be.a,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"center",spacing:2,children:[Object(g.jsx)(Be.a,{item:!0,children:Object(g.jsx)(de.a,{color:"primary"})}),Object(g.jsx)(Be.a,{item:!0,xs:!0,children:Object(g.jsx)(f.a,{variant:"h5",color:"secondary",align:"left",gutterBottom:!1,children:null==e?"Your Profile":"Viewing Profile"})}),null==e?null:Object(g.jsx)(Be.a,{item:!0,xs:12,children:Object(g.jsx)(C.a,{color:"default",startIcon:Object(g.jsx)(et.a,{}),component:M.b,to:"/your/",children:"Your Members"})})]})})}),Object(g.jsx)(Be.a,{item:!0,xs:9,children:Object(g.jsx)(Ne.a,{mx:1,my:1})}),Object(g.jsx)(Be.a,{item:!0,xs:12,children:Object(g.jsxs)(Le.a,{raised:!0,children:[Object(g.jsx)(Gt.a,{title:o.name,style:{backgroundColor:"aliceblue"},avatar:Object(g.jsx)(v.a,{"aria-label":"profile",children:"P"})}),Object(g.jsx)(Ue.a,{children:Object(g.jsx)(Ne.a,{mx:1,my:1,boxShadow:0,children:Object(g.jsxs)(Be.a,{container:!0,direction:"column",justifyContent:"flex-start",alignItems:"stretch",spacing:1,children:[Object(g.jsxs)(Be.a,{item:!0,xs:12,children:[Object(g.jsx)(f.a,{variant:"body1",color:"textSecondary",component:"h2",children:"Role:"}),Object(g.jsx)(f.a,{variant:"body2",component:"h2",gutterBottom:!0,children:Object(g.jsx)("em",{children:l})}),Object(g.jsx)(f.a,{variant:"body1",color:"textSecondary",component:"h2",children:"Joined:"}),Object(g.jsx)(f.a,{variant:"body2",component:"h2",gutterBottom:!0,children:Object(g.jsxs)("em",{children:[j.getMonth()+1," / ",j.getDate()," / ",j.getFullYear()]})})]}),Object(g.jsxs)(Be.a,{item:!0,xs:12,children:["Patient"===l&&Object(g.jsxs)("div",{className:t.tabRoot,children:[Object(g.jsx)(pe.a,{position:"static",children:Object(g.jsxs)(ha.a,{value:n,onChange:this.handleTabChange,children:[Object(g.jsx)(ua.a,{label:"Chapters"}),Object(g.jsx)(ua.a,{label:"Sticky Notes"}),Object(g.jsx)(ua.a,{label:"Profile"})]})}),0===n&&Object(g.jsx)(Sa,{children:this.renderBookletTab()}),1===n&&Object(g.jsx)(Sa,{children:this.renderStickyNotesTab()}),2===n&&Object(g.jsx)(Sa,{children:this.renderInfoTab()})]}),"Worker"===l&&Object(g.jsxs)("div",{className:t.tabRoot,children:[Object(g.jsx)(pe.a,{position:"static",children:Object(g.jsxs)(ha.a,{value:n,onChange:this.handleTabChange,children:[Object(g.jsx)(ua.a,{label:"Patients"}),Object(g.jsx)(ua.a,{label:"Profile"})]})}),0===n&&Object(g.jsx)(Sa,{children:this.renderUserTab(c)}),1===n&&Object(g.jsx)(Sa,{children:this.renderInfoTab()})]}),"Coordinator"===l&&Object(g.jsxs)("div",{className:t.tabRoot,children:[Object(g.jsx)(pe.a,{position:"static",children:Object(g.jsxs)(ha.a,{value:n,onChange:this.handleTabChange,children:[Object(g.jsx)(ua.a,{label:"Patients"}),Object(g.jsx)(ua.a,{label:"Workers"}),Object(g.jsx)(ua.a,{label:"Profile"})]})}),0===n&&Object(g.jsx)(Sa,{children:this.renderUserTab(c)}),1===n&&Object(g.jsx)(Sa,{children:this.renderUserTab(d)}),2===n&&Object(g.jsx)(Sa,{children:this.renderInfoTab()})]}),"Admin"===l&&Object(g.jsxs)("div",{className:t.tabRoot,children:[Object(g.jsx)(pe.a,{position:"static",children:Object(g.jsxs)(ha.a,{value:n,onChange:this.handleTabChange,children:[Object(g.jsx)(ua.a,{label:"Patients"}),Object(g.jsx)(ua.a,{label:"Workers"}),Object(g.jsx)(ua.a,{label:"Profile"})]})}),0===n&&Object(g.jsx)(Sa,{children:this.renderUserTab(c)}),1===n&&Object(g.jsx)(Sa,{children:this.renderUserTab(d)}),2===n&&Object(g.jsx)(Sa,{children:this.renderInfoTab()})]}),this.renderBookletDialog(),this.renderPreviousVersions(),this.renderNoteCreationDialog()]})]})})})]})})]},j)}return Object(g.jsx)(S.a,{})}}]),a}(r.Component),ka=(Object(I.a)((function(e){return{title:e.title,error:e.error,root:e.flexWrap,tabRoot:{flexGrow:1,backgroundColor:e.palette.background.paper},alignLeftSpacer:e.alignLeftSpacer,rightIcon:{marginLeft:e.spacing(1)},margin:{margin:10}}}))(wa),function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var r;return Object(o.a)(this,a),(r=t.call(this,e)).componentDidMount=function(){r.users={},r.users.library={},r.users.length=0,r.props.ToggleDrawerClose(),r.props.CheckAuthenticationValidity((function(e){e&&r.getUsers()}))},r.getUsers=function(){var e=r.props.appState;b("users/",e.token,(function(e,t){e?r.setState({error:e.message,render:!0}):200===t.status||304===t.status?(r.users.length=t.data.response.count,r.populateStateData(t.data.response)):r.setState({error:"Unable to retrieve users.  Please refresh and try agian.",render:!0})}))},r.populateStateData=function(e){for(var t=0;t<e.count;t++)r.users.library[t]={_id:e.users[t]._id,enabled:e.users[t].enabled,name:e.users[t].info.name,role:e.users[t].role,email:e.users[t].email,createdAt:e.users[t].createdAt};r.setState({error:"",render:!0})},r.createUserCard=function(e,t,a,r,n,i){return{_id:e,enabled:t,name:a,role:r,email:n,createdAt:i}},r.renderCards=function(){for(var e=r.props.classes,t=[],a=0;a<r.users.length;a++)t.push(r.createUserCard(r.users.library[a]._id,r.users.library[a].enabled,r.users.library[a].name,r.users.library[a].role,r.users.library[a].email,r.users.library[a].createdAt));return 0===r.users.length?Object(g.jsx)(f.a,{children:"There are no Users yet! Not sure how this is possible ..."}):Object(g.jsx)("div",{className:e.userCardRoot,children:Object(g.jsx)(Be.a,{container:!0,spacing:10,children:t.map((function(e,t){var a=new Date(e.createdAt);return Object(g.jsx)(Be.a,{item:!0,xs:12,sm:12,md:6,lg:6,xl:4,children:Object(g.jsx)(P.a,{children:Object(g.jsx)(Le.a,{children:Object(g.jsxs)(Ue.a,{children:[Object(g.jsx)(f.a,{gutterBottom:!0,variant:"h5",component:"h2",children:e.name}),Object(g.jsxs)(f.a,{component:"p",children:["Role: ",e.role]}),Object(g.jsxs)(f.a,{component:"p",children:["Email: ",e.email]}),Object(g.jsxs)(f.a,{component:"p",children:["Status: ",e.enabled?"Enabled":"Disabled"]}),Object(g.jsxs)(f.a,{component:"p",children:["Joined: ",a.getMonth()+1," / ",a.getDate()," / ",a.getFullYear()]}),Object(g.jsx)("hr",{}),Object(g.jsxs)(Be.a,{container:!0,spacing:10,children:[Object(g.jsx)(Be.a,{item:!0,xs:4,children:Object(g.jsx)(C.a,{size:"small",variant:"contained",fullWidth:!0,color:"primary",component:M.b,to:"/profile/"+e._id,children:"View Profile"})}),Object(g.jsx)(Be.a,{item:!0,xs:4,children:Object(g.jsx)(C.a,{size:"small",variant:"contained",fullWidth:!0,color:"primary",component:M.b,to:"/administration/users/edit/"+e._id,children:"Edit Profile"})})]}),Object(g.jsxs)(Be.a,{container:!0,spacing:10,children:["Patient"===e.role&&Object(g.jsx)(Be.a,{item:!0,xs:4,children:Object(g.jsx)(C.a,{size:"small",variant:"contained",fullWidth:!0,color:"secondary",component:M.b,disabled:"Patient"!==e.role,to:"/administration/users/research/"+e._id,children:"Research"})}),Object(g.jsx)(Be.a,{item:!0,xs:4,children:Object(g.jsx)(C.a,{size:"small",variant:"contained",fullWidth:!0,color:"secondary",component:M.b,to:"/administration/users/ed/"+e._id,children:e.enabled?"Disable":"Enable"})})]})]})})})},t)}))})})},r.state={error:"",render:!1},r}return Object(c.a)(a,[{key:"render",value:function(){var e=this.props.classes,t=this.state,a=t.error,r=t.render;return Object(g.jsx)("div",{children:r?Object(g.jsx)("div",{children:Object(g.jsx)(Le.a,{children:Object(g.jsxs)(Ue.a,{children:[Object(g.jsx)(f.a,{variant:"h5",component:"h2",className:e.title,children:"User Management"}),""!==a&&Object(g.jsx)(y,{color:e.error,children:a}),this.renderCards()]})})}):Object(g.jsx)(S.a,{})})}}]),a}(r.Component)),Da=(Object(I.a)((function(e){return{userCardRoot:{flexGrow:1,marginTop:24},error:e.error}}))(ka),a(396)),_a=a(388),Pa=Object(ot.a)((function(e){return{visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1}}})),Ia=[{id:"name",numeric:!1,disablePadding:!0,label:"Name"},{id:"sequenceId",numeric:!1,disablePadding:!1,label:"Sequence ID"},{id:"enabled",numeric:!1,disablePadding:!0,label:"Enabled"},{id:"email",numeric:!1,disablePadding:!0,label:"Email"},{id:"role",numeric:!1,disablePadding:!0,label:"Role"}],Aa=function(e){var t=Pa(),a=e.onSelectAllClick,n=e.order,i=e.orderBy,s=e.numSelected,o=e.rowCount,c=e.onRequestSort,l=Object(r.useState)(Ia),d=Object(nt.a)(l,2),j=d[0],h=(d[1],Object(r.useCallback)((function(e){return function(t){c(t,e)}}),[c]));return Object(g.jsx)(ra.a,{children:Object(g.jsxs)(na.a,{children:[Object(g.jsx)(aa.a,{padding:"checkbox",children:Object(g.jsx)(_a.a,{indeterminate:s>0&&s<o,checked:o>0&&s===o,onChange:a,inputProps:{"aria-label":"select all"}})}),j?j.map((function(e){return Object(g.jsx)(aa.a,{align:e.numeric?"right":"left",padding:e.disablePadding?"none":"normal",sortDirection:i===e.id&&n,children:Object(g.jsxs)(Da.a,{active:i===e.id,direction:i===e.id?n:"asc",onClick:h(e.id),children:[e.label,i===e.id?Object(g.jsx)("span",{className:t.visuallyHidden,children:"desc"===n?"sorted descending":"sorted ascending"}):null]})},e.id)})):null]})})};Aa.defaultProps={numSelected:{},onRequestSort:function(){},onSelectAllClick:function(){},order:{},orderBy:{},rowCount:{}};var Ba=Aa,Na=a(5),La=a(26),Ea=a(60),Ua=a.n(Ea),Ta=a(124),Ma=a.n(Ta),Fa=Object(ot.a)((function(e){return{root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1)},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(La.d)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},title:{flex:"1 1 100%"}}})),Wa=function(e){var t=Fa(),a=e.appState,n=e.selectedDataItemsList,i=e.setParentDeleteUserDialog,s=Object(r.useState)(""),o=Object(nt.a)(s,2),c=o[0],l=o[1],d=Object(r.useState)(!1),j=Object(nt.a)(d,2),h=j[0],u=j[1],b=Object(r.useState)(!1),O=Object(nt.a)(b,2),m=O[0],x=O[1],y=Object(r.useState)(!1),v=Object(nt.a)(y,2),C=v[0],S=v[1],w=Object(r.useCallback)((function(){0===n.length?(u(!0),x(!1),S(!1)):1===n.length?(u(!1),x(!0),S(!1)):n.length>1&&(u(!1),x(!1),S(!0))}),[n,u,x,S]),k=Object(r.useCallback)((function(){i(!0)}),[i]);return Object(r.useEffect)((function(){w()}),[n,w]),Object(r.useEffect)((function(){h||C?l(""):m&&("Admin"===a.role?l("/administration/users/view/"+n[0]._id):"Coordinator"!==a.role&&"Volunteer"!==a.role||l("/staff/users/view/"+n[0]._id))}),[h,m,C]),Object(g.jsxs)(Oe.a,{className:Object(Na.a)(t.root,Object(p.a)({},t.highlight,n.length>0)),children:[n.length>0?Object(g.jsxs)(f.a,{className:t.title,color:"inherit",variant:"subtitle1",component:"div",children:[n.length," Selected Item",n.length>1?"s":null]}):Object(g.jsx)(f.a,{className:t.title,variant:"h6",component:"div",children:"User Results"}),h?Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(Ve.a,{title:"Filter list",children:Object(g.jsx)(fe.a,{"aria-label":"filter list",children:Object(g.jsx)(Ma.a,{})})})}):null,m?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(Ve.a,{title:"View",children:Object(g.jsx)(fe.a,{"aria-label":"view",component:M.b,to:c,children:Object(g.jsx)(Zt.a,{})})}),Object(g.jsx)(Ve.a,{title:"Delete",children:Object(g.jsx)(fe.a,{"aria-label":"delete",onClick:function(){return k()},children:Object(g.jsx)(Ua.a,{})})})]}):null,C?Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(Ve.a,{title:"Delete",children:Object(g.jsx)(fe.a,{"aria-label":"delete",onClick:function(){return k()},children:Object(g.jsx)(Ua.a,{})})})}):null]})};Wa.defaultProps={appState:{},selectedDataItemsList:{},setParentDeleteUserDialog:function(){}};var Ra=Wa,Va=a(375),Qa=a(397),za=function(e,t,a){return t[a]<e[a]?-1:t[a]>e[a]?1:0},Ha=function(e,t){return"desc"===e?function(e,a){return za(e,a,t)}:function(e,a){return-za(e,a,t)}},Ja=function(e,t){var a=e.map((function(e,t){return[e,t]}));return a.sort((function(e,a){var r=t(e[0],a[0]);return 0!==r?r:e[1]-a[1]})),a.map((function(e){return e[0]}))},Ya=Object(ot.a)((function(e){return{root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1)},tableRow:{cursor:"pointer"}}}));function qa(e){var t=Ya(),a=e.appState,n=e.isDense,i=e.searchFilteredDataList,s=e.setParentDeleteUserDialog,o=(e.setParentExportChapterDialog,e.selectedDataItemsList),c=e.setSelectedDataItemsList,l=Object(r.useState)("asc"),d=Object(nt.a)(l,2),j=d[0],h=d[1],u=Object(r.useState)("name"),b=Object(nt.a)(u,2),p=b[0],O=b[1],m=Object(r.useState)(0),x=Object(nt.a)(m,2),y=x[0],v=x[1],C=Object(r.useState)(20),S=Object(nt.a)(C,2),w=S[0],k=S[1],D=w-Math.min(w,i.length-y*w),_=Object(r.useCallback)((function(e,t){h(p===t&&"asc"===j?"desc":"asc"),O(t)}),[j,h,p,O]),I=Object(r.useCallback)((function(e){if(e.target.checked){var t=[];return i.forEach((function(e){t.push(e)})),void c(t)}c([])}),[i,c]),A=Object(r.useCallback)((function(e,t){var a=o.map((function(e){return e._id})).indexOf(t._id),r=[];-1===a?r=r.concat(o,t):0===a?r=r.concat(o.slice(1)):a===o.length-1?r=r.concat(o.slice(0,-1)):a>0&&(r=r.concat(o.slice(0,a),o.slice(a+1))),c(r)}),[o,c]),B=Object(r.useCallback)((function(e){return-1!==o.map((function(e){return e._id})).indexOf(e._id)}),[o]),N=Object(r.useCallback)((function(e){v(e)}),[v]),L=Object(r.useCallback)((function(e){k(parseInt(e.target.value,10)),v(0)}),[k,v]);return Object(r.useEffect)((function(){v(0)}),[i]),Object(g.jsx)("div",{className:t.root,children:Object(g.jsx)(Ne.a,{mx:1,my:1,children:Object(g.jsxs)(P.a,{className:t.paper,children:[Object(g.jsx)(Ra,{appState:a,selectedDataItemsList:o,setParentDeleteUserDialog:s}),Object(g.jsx)(Va.a,{children:Object(g.jsxs)(ea.a,{className:t.table,"aria-labelledby":"tableTitle",size:n?"small":"medium","aria-label":"enhanced table",children:[Object(g.jsx)(Ba,{numSelected:o.length,order:j,orderBy:p,onSelectAllClick:I,onRequestSort:_,rowCount:i.length}),Object(g.jsxs)(ta.a,{children:[Ja(i,Ha(j,p)).slice(y*w,y*w+w).map((function(e,a){var r=B(e),n="enhanced-table-checkbox-".concat(a);return Object(g.jsxs)(na.a,{className:t.tableRow,hover:!0,onClick:function(t){return A(t,e)},role:"checkbox","aria-checked":r,tabIndex:-1,selected:r,children:[Object(g.jsx)(aa.a,{padding:"checkbox",children:Object(g.jsx)(_a.a,{checked:r,inputProps:{"aria-labelledby":n}})}),Object(g.jsx)(aa.a,{component:"th",id:n,scope:"row",padding:"none",children:Object(g.jsx)(f.a,{color:"textPrimary",variant:"subtitle2",style:{display:"inline-block"},children:e.info.name})}),Object(g.jsx)(aa.a,{align:"left",children:Object(g.jsx)(f.a,{color:"primary",variant:"body2",style:{display:"inline-block"},children:e.sequenceId})}),Object(g.jsx)(aa.a,{align:"left",padding:"none",children:Object(g.jsx)(f.a,{color:"primary",variant:"body2",style:{display:"inline-block",color:e.enabled?"green":"red"},children:e.enabled?"true":"false"})}),Object(g.jsx)(aa.a,{align:"left",padding:"none",children:Object(g.jsx)(f.a,{color:"textPrimary",variant:"body2",style:{display:"inline-block"},children:e.email})}),Object(g.jsx)(aa.a,{align:"left",padding:"none",children:Object(g.jsx)(f.a,{color:"textPrimary",variant:"body2",style:{display:"inline-block"},children:e.role})})]},e.name+e._id)})),D>0&&Object(g.jsx)(na.a,{style:{height:(n?33:53)*D},children:Object(g.jsx)(aa.a,{colSpan:6})})]})]})}),i.length>0?Object(g.jsx)(Qa.a,{rowsPerPageOptions:[5,10,15,20,25],component:"div",count:i.length,rowsPerPage:w,page:i.length<=w?0:y,onPageChange:function(e,t){N(t)},onRowsPerPageChange:L}):null]})})})}qa.defaultProps={appState:{},searchFilteredDataList:{},setParentDeleteUserDialog:function(){},selectedDataItemsList:{},setSelectedDataItemsList:function(){}};var Ga=a(376),$a=a(377),Za=a(34),Ka=a.n(Za),Xa=a(58),er=a.n(Xa),tr=a(44),ar=a.n(tr),rr=a(176),nr=a.n(rr),ir=Object(ot.a)((function(e){return{root:{flexGrow:1,height:"100%"},rootGrid:{height:"100%"}}})),sr=[{key:"Name",value:"name",display:"Name"},{key:"SequenceId",value:"sequenceId",display:"Sequence ID"},{key:"Email",value:"email",display:"Email"},{key:"Role",value:"role",display:"Role"}],or=function(e){ir();var t=e.mode,a=e.setParentAlert,n=e.isDense,i=e.setIsDense,s=e.dataList,o=e.getParentData,c=e.setSearchFilteredDataList,l=e.setCreateUserDialog,d=e.setAssignUserDialog,j=Object(r.useState)(sr[0].value),h=Object(nt.a)(j,2),u=h[0],b=h[1],p=Object(r.useState)(""),O=Object(nt.a)(p,2),m=O[0],x=O[1],y=Object(r.useCallback)((function(){try{o(),a(new st("Refreshed initiated...","info"))}catch(e){}}),[o,a]),v=Object(r.useCallback)((function(){l(!0)}),[l]),S=Object(r.useCallback)((function(){d(!0)}),[d]),w=Object(r.useCallback)((function(e){i(e.target.checked)}),[i]),D=Object(r.useCallback)((function(e){x(""),b(e.target.value)}),[b]),P=Object(r.useCallback)((function(e){var t=e.target.value.toUpperCase(),a=[];s.forEach((function(e){switch(u){case"name":e.info.name.toUpperCase().indexOf(t)>-1&&a.push(e);break;case"sequenceId":String(e.sequenceId).indexOf(t)>-1&&a.push(e);break;case"email":e.email.toUpperCase().indexOf(t)>-1&&a.push(e);break;case"role":e.role.toUpperCase().indexOf(t)>-1&&a.push(e)}})),x(e.target.value),c(a)}),[s,c,u]);return Object(r.useEffect)((function(){x("")}),[s]),Object(r.useEffect)((function(){""===m&&c(s)}),[b,m]),Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(Ne.a,{mx:2,my:1,boxShadow:0,children:Object(g.jsxs)(Be.a,{container:!0,direction:"column",justifyContent:"flex-start",alignItems:"stretch",spacing:1,children:[Object(g.jsxs)(Be.a,{item:!0,xs:12,container:!0,direction:"row",justifyContent:"space-between",alignItems:"stretch",spacing:1,children:[Object(g.jsxs)(Be.a,{item:!0,children:[Object(g.jsx)(f.a,{variant:"h6",component:"h6",children:"Manage"}),Object(g.jsx)(V.a,{})]}),Object(g.jsx)(Be.a,{item:!0,xs:!0,children:Object(g.jsx)(Ne.a,{mx:3,my:1,boxShadow:0,children:Object(g.jsxs)(Be.a,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"center",spacing:1,children:[Object(g.jsx)(Be.a,{item:!0,children:Object(g.jsx)(Ve.a,{placement:"bottom",title:"Refresh Online Users",children:Object(g.jsx)(C.a,{size:"small",variant:"contained",color:"primary",startIcon:Object(g.jsx)(ar.a,{}),onClick:function(){y()},children:"Refresh"})})}),Object(g.jsx)(Be.a,{item:!0,children:"Other"===t?Object(g.jsx)(g.Fragment,{}):Object(g.jsx)(Ve.a,{placement:"bottom",title:"Create User",children:Object(g.jsx)(C.a,{size:"small",variant:"contained",color:"primary",startIcon:Object(g.jsx)(er.a,{}),onClick:function(){v()},children:"Create a User"})})}),Object(g.jsx)(Be.a,{item:!0,children:Object(g.jsx)(Ve.a,{placement:"bottom",title:"Assign User",children:Object(g.jsx)(C.a,{size:"small",variant:"contained",color:"secondary",startIcon:Object(g.jsx)(nr.a,{}),onClick:function(){S()},children:"Assign User"})})})]})})}),Object(g.jsx)(Be.a,{item:!0,children:Object(g.jsx)(Ve.a,{placement:"left",title:"Use this page to manage users in the system.",children:Object(g.jsx)(fe.a,{children:Object(g.jsx)(Ka.a,{})})})})]}),Object(g.jsx)(Be.a,{item:!0,xs:12,container:!0,direction:"column",justifyContent:"flex-start",alignItems:"stretch",spacing:1,children:Object(g.jsx)(Ne.a,{mx:1,my:1,boxShadow:0,children:Object(g.jsx)(Le.a,{children:Object(g.jsx)(Ne.a,{mx:1,my:1,boxShadow:0,children:Object(g.jsxs)(Be.a,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"center",spacing:3,children:[Object(g.jsx)(Be.a,{item:!0,children:Object(g.jsx)(f.a,{color:"textPrimary",variant:"subtitle2",children:"Table Options"})}),Object(g.jsx)(Be.a,{item:!0,children:Object(g.jsx)(Ga.a,{control:Object(g.jsx)($a.a,{checked:n,onChange:function(e){w(e)}}),label:"Compact",labelPlacement:"end"})}),Object(g.jsx)(Be.a,{item:!0,children:Object(g.jsxs)(k.a,{id:"search-filter-select-label",variant:"filled",size:"small",style:{minWidth:140},disabled:!s,children:[Object(g.jsx)(_.a,{children:"Search Filter"}),Object(g.jsx)(Re.a,{autoWidth:!0,labelId:"search-filter-select-label",value:u,onChange:function(e){D(e)},children:sr.map((function(e){return Object(g.jsx)(xe.a,{value:e.value,children:Object(g.jsx)("em",{children:e.display})},e.key)}))})]})}),Object(g.jsx)(Be.a,{item:!0,xs:!0,children:Object(g.jsx)(ba.a,{label:"Search",type:"search",size:"small",variant:"filled",fullWidth:!0,value:m,onChange:function(e){P(e)},disabled:!s})})]})})})})}),Object(g.jsx)(Be.a,{item:!0,xs:12,container:!0,direction:"row",justifyContent:"flex-start",alignItems:"flex-start",spacing:1,children:Object(g.jsxs)(Be.a,{item:!0,children:[Object(g.jsx)(f.a,{variant:"h6",component:"h6",children:"Table"}),Object(g.jsx)(V.a,{})]})})]})})})};or.defaultProps={mode:null,setParentAlert:function(){},setIsDense:function(){},dataList:{},getParentData:function(){},setSearchFilteredDataList:function(){},setCreateUserDialog:function(){},setAssignUserDialog:function(){}};var cr=or,lr=a(43),dr=a(378),jr=a(195),hr=a.n(jr),ur=Object(ot.a)((function(e){return{root:{flexGrow:1,height:"100%"},rootGrid:{height:"100%"},margin:{margin:e.spacing(1)}}})),br=function(e){var t,a=ur(),n=e.appState,i=e.setParentAlert,s=(e.getParentData,e.selectedUserList),o=e.assignUserDialog,c=e.setAssignUserDialog,l=e.assignUserDialogExecuting,d=e.setAssignUserDialogExecuting,j=Object(r.useState)(""),h=Object(nt.a)(j,2),u=h[0],O=h[1],m=Object(r.useState)(null),x=Object(nt.a)(m,2),y=x[0],v=x[1],w=Object(r.useState)(null),D=Object(nt.a)(w,2),P=D[0],I=D[1],A=Object(r.useState)(""),B=Object(nt.a)(A,2),N=B[0],L=B[1],E=Object(r.useState)(null),U=Object(nt.a)(E,2),T=U[0],M=U[1],F=Object(r.useState)(null),W=Object(nt.a)(F,2),R=W[0],V=W[1],Q=Object(r.useState)(null),H=Object(nt.a)(Q,2),J=H[0],Y=H[1],q=Object(r.useCallback)((function(e){var t=new Array;e&&Array.isArray(e)&&e.forEach((function(e){t.push({_id:e._id,name:e.info.name,role:e.role,createdAt:e.createdAt})})),Y([].concat(t))}),[n,Y]),G=Object(r.useCallback)((function(){b("users/",n.token,(function(e,t){e?i(new st("Unable to retrieve Users. Please refresh and try again.","error")):200===t.status?q(t.data.response.users):i(new st("Unable to retrieve Users. Please refresh and try again.","error"))}))}),[n,q,i]),$=Object(r.useCallback)((function(){if(y.length>0&&T.length>0){var e=new Array,t=new Array;y.map((function(t){e.push(t._id)})),T.map((function(e){t.push(e._id)})),y.forEach((function(e){var a={patients:t};Ye("users/"+e._id,n.token,a,(function(e,t){e?i(new st("Unable to update management user. Please refresh and try again.","error")):200===t.status?i(new st("Successfully updated management user.","success")):i(new st("Unable to update management user. Please refresh and try again.","error"))}))})),T.forEach((function(t){var a={workers:e};Ye("users/"+t._id,n.token,a,(function(e,t){e?i(new st("Unable to update client user. Please refresh and try again.","error")):200===t.status?i(new st("Successfully updated client user.","success")):i(new st("Unable to update client user. Please refresh and try again.","error"))}))}))}else i(new st("Unable to assign users. Please refresh and try again.","error"))}),[n,i,y,T]),Z=Object(r.useCallback)((function(){c(!1),O(""),L(""),v(new Array),M(new Array)}),[c,O,L,v,M]),K=Object(r.useCallback)((function(){d(!0),$(),d(!1),c(!1)}),[$,d,c]),X=Object(r.useCallback)((function(e){O(e.target.value)}),[O]),ee=Object(r.useCallback)((function(e){L(e.target.value)}),[L]),te=Object(r.useCallback)((function(){if(u&&""!=u){var e=P.find((function(e){return e._id==u}));void 0!=e&&(v([].concat(Object(lr.a)(y),[e])),O(""))}}),[u,P,v,y,O]),ae=Object(r.useCallback)((function(){if(N&&""!=N){var e=R.find((function(e){return e._id==N}));void 0!=e&&(M([].concat(Object(lr.a)(T),[e])),L(""))}}),[N,R,M,T,L]),re=Object(r.useCallback)((function(e){var t=y;t.splice(y.findIndex((function(t){return t._id==e._id})),1),v(Object(lr.a)(t))}),[y,v]),ne=Object(r.useCallback)((function(e){var t=T;t.splice(T.findIndex((function(t){return t._id==e._id})),1),M(Object(lr.a)(t))}),[T,M]);return Object(r.useEffect)((function(){o&&G()}),[o,G]),Object(r.useEffect)((function(){if(J){var e=new Array,t=new Array;J.forEach((function(a){"Admin"==a.role||"Coordinator"==a.role||"Volunteer"==a.role?e.push(a):"Patient"==a.role&&t.push(a)})),I([].concat(e)),V([].concat(t))}}),[J,I,V]),Object(r.useEffect)((function(){if(s){var e=new Array,t=new Array;s.forEach((function(a){"Admin"==a.role||"Coordinator"==a.role||"Volunteer"==a.role?e.push({_id:a._id,name:a.info.name,role:a.role,createdAt:a.createdAt}):"Patient"==a.role&&t.push({_id:a._id,name:a.info.name,role:a.role,createdAt:a.createdAt})})),v([].concat(e)),M([].concat(t))}}),[s,v,M]),Object(g.jsx)(g.Fragment,{children:o?Object(g.jsxs)(ca.a,{id:"assign-user-dialog",fullWidth:!0,maxWidth:"md",open:o,onClose:function(){Z()},children:[Object(g.jsx)(la.a,{children:"Assign Users"}),Object(g.jsx)(da.a,{children:l?Object(g.jsx)(S.a,{}):Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)(dr.a,{children:["Please select users to be assigned to each other ",Object(g.jsxs)("em",{children:["(",Object(g.jsx)("u",{children:"Admin"}),", ",Object(g.jsx)("u",{children:"Coordinator"})," and ",Object(g.jsx)("u",{children:"Volunteer"})," users are assigned to ",Object(g.jsx)("u",{children:"Client"})," users)"]}),"."]}),Object(g.jsx)(Ne.a,{mx:1,my:1,boxShadow:0,children:Object(g.jsxs)(Be.a,{container:!0,direction:"column",justifyContent:"flex-start",alignItems:"stretch",spacing:1,children:[Object(g.jsx)(Be.a,{item:!0,xs:!0,container:!0,direction:"row",justifyContent:"space-between",alignItems:"center",spacing:1,children:P?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(Be.a,{item:!0,xs:11,children:Object(g.jsxs)(k.a,{id:"Management-options-label",variant:"filled",size:"small",fullWidth:!0,disabled:!P,children:[Object(g.jsx)(_.a,{children:"Management"}),Object(g.jsxs)(Re.a,{fullWidth:!0,labelId:"Management-options-label",value:u,onChange:function(e){X(e)},children:[Object(g.jsx)(xe.a,{value:"",children:Object(g.jsx)("em",{children:"None"})}),P.map((function(e,t){return Object(g.jsx)(xe.a,{value:e._id,disabled:-1!=y.findIndex((function(t){return t._id==e._id})),children:Object(g.jsx)("em",{children:e.name})},"SelectOption".concat(e._id))}))]})]})}),Object(g.jsx)(Be.a,{item:!0,xs:1,children:Object(g.jsx)(fe.a,{variant:"outlined",size:"medium",color:"inherit",onClick:function(){te()},disabled:""==u,children:Object(g.jsx)(ga.a,{})})})]}):Object(g.jsx)(S.a,{})}),Object(g.jsx)(Be.a,{item:!0,xs:!0,children:y?Object(g.jsxs)(z.a,{in:y.length>0,children:[Object(g.jsxs)(f.a,{component:"div",variant:"body2",color:"textSecondary",gutterBottom:!0,children:[Object(g.jsx)("em",{children:"The following selected management users"})," ",Object(g.jsx)("u",{children:"to be assigned:"})]}),Object(g.jsx)(f.a,{component:"div",variant:"body2",color:"primary",gutterBottom:!0,children:Object(g.jsx)("ol",{children:y.map((function(e,t){return Object(g.jsxs)("li",{children:[e.name,Object(g.jsx)(fe.a,{"aria-label":"delete",className:a.margin,size:"small",onClick:function(e){re(e)},children:Object(g.jsx)(hr.a,{fontSize:"inherit"})})]},"".concat(e._id).concat(t))}))})})]}):Object(g.jsx)(g.Fragment,{})}),Object(g.jsx)(Be.a,{item:!0,xs:!0,container:!0,direction:"row",justifyContent:"space-between",alignItems:"center",spacing:1,children:R?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(Be.a,{item:!0,xs:11,children:Object(g.jsxs)(k.a,{id:"Client-options-label",variant:"filled",size:"small",fullWidth:!0,disabled:!R,children:[Object(g.jsx)(_.a,{children:"Client"}),Object(g.jsxs)(Re.a,{fullWidth:!0,labelId:"Client-options-label",value:N,onChange:function(e){ee(e)},children:[Object(g.jsx)(xe.a,{value:"",children:Object(g.jsx)("em",{children:"None"})}),R.map((function(e,t){return Object(g.jsx)(xe.a,{value:e._id,disabled:-1!=T.findIndex((function(t){return t._id==e._id})),children:Object(g.jsx)("em",{children:e.name})},"SelectOption".concat(e._id))}))]})]})}),Object(g.jsx)(Be.a,{item:!0,xs:1,children:Object(g.jsx)(fe.a,{variant:"outlined",size:"medium",color:"inherit",onClick:function(){ae()},disabled:""==N,children:Object(g.jsx)(ga.a,{})})})]}):Object(g.jsx)(S.a,{})}),Object(g.jsx)(Be.a,{item:!0,xs:!0,children:T?Object(g.jsxs)(z.a,{in:T.length>0,children:[Object(g.jsxs)(f.a,{component:"div",variant:"body2",color:"textSecondary",gutterBottom:!0,children:[Object(g.jsx)("em",{children:"The following selected client users"})," ",Object(g.jsx)("u",{children:"to be assigned by:"})]}),Object(g.jsx)(f.a,{component:"div",variant:"body2",color:"secondary",gutterBottom:!0,children:Object(g.jsx)("ol",{children:T.map((function(e,t){return Object(g.jsxs)("li",{children:[e.name,Object(g.jsx)(fe.a,{"aria-label":"delete",className:a.margin,size:"small",onClick:function(e){ne(e)},children:Object(g.jsx)(hr.a,{fontSize:"inherit"})})]},"".concat(e._id).concat(t))}))})})]}):Object(g.jsx)(g.Fragment,{})})]})})]})}),Object(g.jsxs)(ja.a,{children:[Object(g.jsx)(C.a,{color:"primary",variant:"contained",onClick:function(){Z()},disabled:l,children:"Cancel"}),Object(g.jsx)(C.a,(t={color:"primary",variant:"contained",startIcon:Object(g.jsx)(nr.a,{}),onClick:function(){K()},disabled:l},Object(p.a)(t,"disabled",!(y.length>0&&T.length>0)),Object(p.a)(t,"children","Assign"),t))]})]}):null})};br.defaultProps={appState:{},setParentAlert:function(){},getParentData:function(){},selectedUserList:{},assignUserDialog:{},setAssignUserDialog:function(){},assignUserDialogExecuting:{},setAssignUserDialogExecuting:function(){}};var pr=br,Or=a(379),mr=a(178),xr=a.n(mr),fr=a(179),gr=a.n(fr),yr=Object(ot.a)((function(e){return{root:{flexGrow:1,height:"100%"},rootGrid:{height:"100%"}}})),vr=/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/,Cr=/^.{4,}$/,Sr=/^(\d{1,})[a-zA-Z0-9\s]+(\.)?$/,wr=/^[ABCEGHJ-NPRSTVXY]\d[ABCEGHJ-NPRSTV-Z][ -]?\d[ABCEGHJ-NPRSTV-Z]\d$/i,kr=function(e){yr();var t=e.appState,a=e.setParentAlert,n=e.getParentData,i=e.createUserDialog,s=e.setCreateUserDialog,o=e.createUserDialogExecuting,c=e.setCreateUserDialogExecuting,l=Object(r.useState)(""),d=Object(nt.a)(l,2),j=d[0],h=d[1],u=Object(r.useState)(!1),b=Object(nt.a)(u,2),p=b[0],O=b[1],m=Object(r.useState)(""),x=Object(nt.a)(m,2),y=x[0],v=x[1],w=Object(r.useState)(!1),k=Object(nt.a)(w,2),D=k[0],_=k[1],P=Object(r.useState)(""),I=Object(nt.a)(P,2),A=I[0],B=I[1],N=Object(r.useState)(!1),L=Object(nt.a)(N,2),E=L[0],U=L[1],T=Object(r.useState)(""),M=Object(nt.a)(T,2),F=M[0],W=M[1],R=Object(r.useState)(!1),V=Object(nt.a)(R,2),Q=V[0],H=V[1],J=Object(r.useState)(""),Y=Object(nt.a)(J,2),q=Y[0],G=Y[1],$=Object(r.useState)(!1),Z=Object(nt.a)($,2),K=Z[0],X=Z[1],ee=Object(r.useState)(""),te=Object(nt.a)(ee,2),ae=te[0],re=te[1],ne=Object(r.useState)(!1),ie=Object(nt.a)(ne,2),se=(ie[0],ie[1]),oe=Object(r.useState)(""),ce=Object(nt.a)(oe,2),le=ce[0],de=ce[1],je=Object(r.useState)(!1),he=Object(nt.a)(je,2),ue=(he[0],he[1]),be=Object(r.useState)(""),pe=Object(nt.a)(be,2),Oe=pe[0],me=pe[1],fe=Object(r.useState)(""),ge=Object(nt.a)(fe,2),ye=ge[0],ve=ge[1],Ce=Object(r.useState)(!1),Se=Object(nt.a)(Ce,2),we=Se[0],ke=Se[1],De=Object(r.useState)(""),_e=Object(nt.a)(De,2),Pe=_e[0],Ie=_e[1],Ae=Object(r.useState)(!1),Le=Object(nt.a)(Ae,2),Ee=(Le[0],Le[1]),Ue=Object(r.useState)(""),Te=Object(nt.a)(Ue,2),Me=Te[0],Fe=Te[1],Re=Object(r.useState)(!1),Ve=Object(nt.a)(Re,2),Qe=Ve[0],ze=Ve[1],He=Object(r.useState)(!1),Je=Object(nt.a)(He,2),Ye=Je[0],qe=Je[1],Ge=Object(r.useState)(""),$e=Object(nt.a)(Ge,2),Ze=$e[0],Ke=$e[1],Xe=Object(r.useState)(!1),et=Object(nt.a)(Xe,2),tt=(et[0],et[1]),at=Object(r.useState)(!0),rt=Object(nt.a)(at,2),it=rt[0],ot=(rt[1],Object(r.useState)("")),ct=Object(nt.a)(ot,2),lt=ct[0],dt=ct[1],jt=Object(r.useState)(!1),ht=Object(nt.a)(jt,2),ut=ht[0],bt=ht[1],pt=Object(r.useState)(""),Ot=Object(nt.a)(pt,2),mt=Ot[0],xt=Ot[1],ft=Object(r.useState)(!1),gt=Object(nt.a)(ft,2),yt=gt[0],vt=gt[1],Ct=Object(r.useState)(""),St=Object(nt.a)(Ct,2),wt=St[0],kt=St[1],Dt=Object(r.useState)(!1),_t=Object(nt.a)(Dt,2),Pt=_t[0],It=_t[1],At=Object(r.useState)(""),Bt=Object(nt.a)(At,2),Nt=Bt[0],Lt=Bt[1],Et=Object(r.useState)(!1),Ut=Object(nt.a)(Et,2),Tt=(Ut[0],Ut[1]),Mt=Object(r.useState)(""),Ft=Object(nt.a)(Mt,2),Wt=Ft[0],Rt=Ft[1],Vt=Object(r.useState)(!1),Qt=Object(nt.a)(Vt,2),zt=(Qt[0],Qt[1]),Ht=Object(r.useState)(0),Jt=Object(nt.a)(Ht,2),Yt=Jt[0],qt=Jt[1],Gt=Object(r.useCallback)((function(){var e=F.trim().charAt(0).toUpperCase()+F.trim().slice(1).toLowerCase(),r=q.trim().charAt(0).toUpperCase()+q.trim().slice(1).toLowerCase(),i=Me.trim().charAt(0).toUpperCase()+Me.trim().slice(1).toLowerCase(),s=Oe.trim().charAt(0).toUpperCase()+Oe.trim().slice(1).toLowerCase(),o=wt.trim().charAt(0).toUpperCase()+wt.trim().slice(1).toLowerCase(),c={email:j,role:Ze,password:y,enabled:it,facilityId:t.facilityId,info:{name:e+" "+r,gender:"NonBinary"==le&&ye?s:le,dateOfBirth:new Date(ae),language:"Other"==Pe&&Qe?i:Pe,address:{street:lt,city:o,state:Nt,code:mt,country:Wt}}};We("users/register",t.token,c,(function(e,t){e?a(new st("Unable create user. Please refresh and try again.","error")):201===t.status?(n(),$t(),a(new st("User created.","success"))):a(new st("Unable create user. Please refresh and try again.","error"))}))}),[t,$t,j,y,F,q,it,Ze,le,ye,Oe,Pe,Qe,Me,ae,lt,wt,mt,Nt,Wt]),$t=Object(r.useCallback)((function(){h(""),O(!1),v(""),_(!1),B(""),U(!1),W(""),H(!1),G(""),X(!1),Ke(""),tt(!1),de(""),ue(!1),ve(!1),me(""),ke(!1),Ie(""),Ee(!1),ze(!1),Fe(""),qe(!1),re(""),se(!1),dt(""),bt(!1),kt(""),It(!1),xt(""),vt(!1),Lt(""),Tt(!1),Rt(""),zt(!1),qt(0)}),[h,O,v,_,B,U,W,H,G,X,Ke,tt,de,ue,ve,me,ke,Ie,Ee,ze,Fe,qe,re,se,dt,bt,kt,It,xt,vt,Lt,Tt,Rt,zt,qt]),Zt=Object(r.useCallback)((function(){s(!1)}),[]),Kt=Object(r.useCallback)((function(){c(!0),Gt(),c(!1),s(!1)}),[c,Gt,s]),Xt=Object(r.useCallback)((function(e){qt(Yt-1)}),[Yt]),ea=Object(r.useCallback)((function(e){qt(Yt+1)}),[Yt]),ta=Object(r.useCallback)((function(e){vr.test(String(e.target.value))?O(!1):O(!0),h(e.target.value)}),[h,vr]),aa=Object(r.useCallback)((function(e){Cr.test(String(e.target.value))?_(!1):_(!0),v(e.target.value)}),[v,_,Cr]),ra=Object(r.useCallback)((function(e){e.target.value!=y?U(!0):U(!1),B(e.target.value)}),[B,y]),na=Object(r.useCallback)((function(e){W(e.target.value)}),[W]),ia=Object(r.useCallback)((function(e){G(e.target.value)}),[G]),sa=Object(r.useCallback)((function(e){re(e.target.value)}),[re]),oa=Object(r.useCallback)((function(e){de(e.target.value)}),[de]),ha=Object(r.useCallback)((function(e){me(e.target.value)}),[me]),ua=Object(r.useCallback)((function(e){Ie(e.target.value)}),[Ie]),pa=Object(r.useCallback)((function(e){Fe(e.target.value)}),[Fe]),Oa=Object(r.useCallback)((function(e){Ke(e.target.value)}),[Ke]),ma=Object(r.useCallback)((function(e){Sr.test(String(e.target.value))?bt(!1):bt(!0),dt(e.target.value)}),[dt,bt,Sr]),xa=Object(r.useCallback)((function(e){kt(e.target.value)}),[kt]),fa=Object(r.useCallback)((function(e){Lt(e.target.value)}),[Lt]),ga=Object(r.useCallback)((function(e){wr.test(String(e.target.value))?vt(!1):vt(!0),xt(e.target.value)}),[xt,vt,wr]),ya=Object(r.useCallback)((function(e){Rt(e.target.value)}),[Rt]);return Object(r.useEffect)((function(){}),[]),Object(r.useEffect)((function(){"NonBinary"==le?ve(!0):(ve(!1),me(""),ke(!1))}),[le]),Object(r.useEffect)((function(){"Other"==Pe?ze(!0):(ze(!1),Fe(""),qe(!1))}),[Pe]),Object(g.jsx)(g.Fragment,{children:i?Object(g.jsxs)(ca.a,{id:"create-user-dialog",fullWidth:!0,maxWidth:"md",open:i,onClose:function(){Zt()},children:[Object(g.jsx)(la.a,{children:"Create a User"}),Object(g.jsx)(da.a,{children:o?Object(g.jsx)(S.a,{}):Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(f.a,{component:"div",variant:"body1",color:"inherit",gutterBottom:!0,children:"Please fill in user information to create the corresponding account."}),Object(g.jsxs)(Ne.a,{mx:1,my:2,boxShadow:0,children:[Object(g.jsx)(z.a,{in:0==Yt,children:Object(g.jsxs)(Be.a,{container:!0,direction:"row",justifyContent:"center",alignItems:"stretch",spacing:1,display:0==Yt?"block":"none",children:[Object(g.jsxs)(Be.a,{item:!0,xs:!0,container:!0,direction:"column",justifyContent:"flex-start",alignItems:"stretch",spacing:2,children:[Object(g.jsx)(Be.a,{item:!0,xs:!0,children:Object(g.jsx)(Ne.a,{mx:2,my:0,boxShadow:0,children:Object(g.jsx)(ba.a,{autoFocus:!0,id:"Email",fullWidth:!0,label:"Email",required:!0,onChange:function(e){ta(e)},value:j,error:p})})}),Object(g.jsx)(Be.a,{item:!0,xs:!0,children:Object(g.jsx)(Ne.a,{mx:2,my:0,boxShadow:0,children:Object(g.jsx)(ba.a,{id:"Password",fullWidth:!0,type:"password",label:"Password",required:!0,onChange:function(e){aa(e)},value:y,error:D})})}),Object(g.jsx)(Be.a,{item:!0,xs:!0,children:Object(g.jsx)(Ne.a,{mx:2,my:0,boxShadow:0,children:Object(g.jsx)(ba.a,{id:"ConfirmPassword",fullWidth:!0,type:"password",label:"Confirm Password",required:!0,disabled:!(""!=y&&!D),onChange:function(e){ra(e)},value:A,error:E})})})]}),Object(g.jsxs)(Be.a,{item:!0,xs:!0,container:!0,direction:"column",justifyContent:"flex-start",alignItems:"stretch",spacing:2,children:[Object(g.jsx)(Be.a,{item:!0,children:Object(g.jsx)(Ne.a,{mx:2,my:0,boxShadow:0,children:Object(g.jsx)(ba.a,{id:"FirstName",fullWidth:!0,label:"First Name",required:!0,onChange:function(e){na(e)},value:F,error:Q})})}),Object(g.jsx)(Be.a,{item:!0,children:Object(g.jsx)(Ne.a,{mx:2,my:0,boxShadow:0,children:Object(g.jsx)(ba.a,{id:"LastName",fullWidth:!0,label:"Last Name",required:!0,onChange:function(e){ia(e)},value:q,error:K})})})]})]})}),Object(g.jsx)(z.a,{in:1==Yt,children:Object(g.jsxs)(Be.a,{container:!0,direction:"row",justifyContent:"center",alignItems:"stretch",spacing:1,display:0==Yt?"block":"none",children:[Object(g.jsxs)(Be.a,{item:!0,xs:!0,container:!0,direction:"column",justifyContent:"flex-start",alignItems:"stretch",spacing:2,display:1==Yt?"block":"none",children:[Object(g.jsx)(Be.a,{item:!0,children:Object(g.jsx)(Ne.a,{mx:2,my:0,boxShadow:0,children:Object(g.jsxs)(ba.a,{id:"Language",select:!0,required:!0,fullWidth:!0,label:"Language",value:Pe,onChange:function(e){ua(e)},variant:"outlined",children:[Object(g.jsx)(xe.a,{value:"English",children:"English"},"English"),Object(g.jsx)(xe.a,{value:"Other",children:"Other"},"Other")]})})}),Object(g.jsx)(Be.a,{item:!0,children:Object(g.jsx)(Ne.a,{mx:2,my:0,boxShadow:0,children:Object(g.jsx)(ba.a,{id:"Language2",fullWidth:!0,label:"Specify Language",required:Qe,onChange:function(e){pa(e)},value:Me,error:Ye,disabled:!Qe})})})]}),Object(g.jsxs)(Be.a,{item:!0,xs:!0,container:!0,direction:"column",justifyContent:"flex-start",alignItems:"stretch",spacing:2,display:1==Yt?"block":"none",children:[Object(g.jsx)(Be.a,{item:!0,children:Object(g.jsx)(Ne.a,{mx:2,my:0,boxShadow:0,children:Object(g.jsxs)(ba.a,{id:"Gender",select:!0,required:!0,fullWidth:!0,label:"Gender",value:le,onChange:function(e){oa(e)},variant:"outlined",children:[Object(g.jsx)(xe.a,{value:"Male",children:"Male"},"Male"),Object(g.jsx)(xe.a,{value:"Female",children:"Female"},"Female"),Object(g.jsx)(xe.a,{value:"NonBinary",children:"Non-Binary"},"NonBinary")]})})}),Object(g.jsx)(Be.a,{item:!0,children:Object(g.jsx)(Ne.a,{mx:2,my:0,boxShadow:0,children:Object(g.jsx)(ba.a,{id:"Gender2",fullWidth:!0,label:"Specify Gender",required:ye,onChange:function(e){ha(e)},value:Oe,error:we,disabled:!ye})})})]})]})}),Object(g.jsx)(z.a,{in:2==Yt,children:Object(g.jsxs)(Be.a,{container:!0,direction:"row",justifyContent:"center",alignItems:"stretch",spacing:1,display:0==Yt?"block":"none",children:[Object(g.jsx)(Be.a,{item:!0,xs:!0,container:!0,direction:"column",justifyContent:"flex-start",alignItems:"stretch",spacing:2,display:2==Yt?"block":"none",children:Object(g.jsx)(Be.a,{item:!0,children:Object(g.jsx)(Ne.a,{mx:2,my:0,boxShadow:0,children:Object(g.jsx)(ba.a,{id:"DateOfBirth",fullWidth:!0,required:!0,label:"Date of Birth",type:"date",defaultValue:ae,onChange:function(e){sa(e)},InputLabelProps:{shrink:!0},inputProps:{required:!0,max:(new Date).toISOString().split("T")[0]}})})})}),Object(g.jsx)(Be.a,{item:!0,xs:!0,container:!0,direction:"column",justifyContent:"flex-start",alignItems:"stretch",spacing:2,display:2==Yt?"block":"none",children:Object(g.jsx)(Be.a,{item:!0,children:Object(g.jsx)(Ne.a,{mx:2,my:0,boxShadow:0,children:Object(g.jsxs)(ba.a,{id:"Role",select:!0,required:!0,fullWidth:!0,label:"Role",value:Ze,onChange:function(e){Oa(e)},variant:"outlined",children:[Object(g.jsx)(xe.a,{value:"Admin",children:"Admin"},"Admin"),Object(g.jsx)(xe.a,{value:"Coordinator",children:"Coordinator"},"Coordinator"),Object(g.jsx)(xe.a,{value:"Volunteer",children:"Volunteer"},"Volunteer"),Object(g.jsx)(xe.a,{value:"Patient",children:"Patient"},"Patient")]})})})})]})}),Object(g.jsx)(z.a,{in:3==Yt,children:Object(g.jsxs)(Be.a,{container:!0,direction:"row",justifyContent:"center",alignItems:"stretch",spacing:1,display:0==Yt?"block":"none",children:[Object(g.jsxs)(Be.a,{item:!0,xs:!0,container:!0,direction:"column",justifyContent:"flex-start",alignItems:"stretch",spacing:2,display:3==Yt?"block":"none",children:[Object(g.jsx)(Be.a,{item:!0,xs:!0,children:Object(g.jsx)(Ne.a,{mx:2,my:0,boxShadow:0,children:Object(g.jsx)(ba.a,{autoFocus:!0,id:"Street",fullWidth:!0,label:"Street",required:!0,onChange:function(e){ma(e)},value:lt,error:ut})})}),Object(g.jsx)(Be.a,{item:!0,xs:!0,children:Object(g.jsx)(Ne.a,{mx:2,my:0,boxShadow:0,children:Object(g.jsx)(ba.a,{id:"City",fullWidth:!0,label:"City",required:!0,onChange:function(e){xa(e)},value:wt,error:Pt})})}),Object(g.jsx)(Be.a,{item:!0,xs:!0,children:Object(g.jsx)(Ne.a,{mx:2,my:0,boxShadow:0,children:Object(g.jsx)(ba.a,{id:"PostalCode",fullWidth:!0,label:"Postal Code",required:!0,onChange:function(e){ga(e)},value:mt,error:yt})})})]}),Object(g.jsxs)(Be.a,{item:!0,xs:!0,container:!0,direction:"column",justifyContent:"flex-start",alignItems:"stretch",spacing:2,display:3==Yt?"block":"none",children:[Object(g.jsx)(Be.a,{item:!0,children:Object(g.jsx)(Ne.a,{mx:2,my:0,boxShadow:0,children:Object(g.jsxs)(ba.a,{id:"Province",select:!0,required:!0,fullWidth:!0,label:"Province",value:Nt,onChange:function(e){fa(e)},variant:"outlined",children:[Object(g.jsx)(xe.a,{value:"AB",children:"Alberta"},"AB"),Object(g.jsx)(xe.a,{value:"BC",children:"British Columbia"},"BC"),Object(g.jsx)(xe.a,{value:"MB",children:"Manitoba"},"MB"),Object(g.jsx)(xe.a,{value:"NB",children:"New Brunswick"},"NB"),Object(g.jsx)(xe.a,{value:"NL",children:"Newfoundland and Labrador"},"NL"),Object(g.jsx)(xe.a,{value:"NT",children:"Northwest Territories"},"NT"),Object(g.jsx)(xe.a,{value:"NS",children:"Nova Scotia"},"NS"),Object(g.jsx)(xe.a,{value:"NU",children:"Nunavut"},"NU"),Object(g.jsx)(xe.a,{value:"ON",children:"Ontario"},"ON"),Object(g.jsx)(xe.a,{value:"PE",children:"Prince Edward Island"},"PE"),Object(g.jsx)(xe.a,{value:"QC",children:"Quebec"},"QC"),Object(g.jsx)(xe.a,{value:"SK",children:"Saskatchewan"},"SK"),Object(g.jsx)(xe.a,{value:"YT",children:"Yukon"},"YT")]})})}),Object(g.jsx)(Be.a,{item:!0,children:Object(g.jsx)(Ne.a,{mx:2,my:0,boxShadow:0,children:Object(g.jsx)(ba.a,{id:"Country",select:!0,required:!0,fullWidth:!0,label:"Country",value:Wt,onChange:function(e){ya(e)},variant:"outlined",children:Object(g.jsx)(xe.a,{value:"Canada",children:"Canada"},"Canada")})})})]})]})})]})]})}),Object(g.jsxs)(ja.a,{children:[Object(g.jsx)(C.a,{color:"primary",variant:"contained",onClick:function(){Zt()},disabled:o,children:"Cancel"}),Object(g.jsx)(z.a,{in:0==Yt,children:Object(g.jsx)(Ne.a,{mx:2,my:0,boxShadow:0,display:0==Yt?"block":"none",children:Object(g.jsx)(C.a,{color:"secondary",variant:"contained",endIcon:Object(g.jsx)(xr.a,{}),onClick:function(){ea()},children:"Next"})})}),Object(g.jsx)(z.a,{in:1==Yt,children:Object(g.jsx)(Ne.a,{mx:2,my:0,boxShadow:0,display:1==Yt?"block":"none",children:Object(g.jsxs)(Or.a,{display:1==Yt?"block":"none",children:[Object(g.jsx)(C.a,{color:"secondary",variant:"outlined",startIcon:Object(g.jsx)(gr.a,{}),onClick:function(){Xt()},children:"Back"}),Object(g.jsx)(C.a,{color:"secondary",variant:"contained",endIcon:Object(g.jsx)(xr.a,{}),onClick:function(){ea()},children:"Next"})]})})}),Object(g.jsx)(z.a,{in:2==Yt,children:Object(g.jsx)(Ne.a,{mx:2,my:0,boxShadow:0,display:2==Yt?"block":"none",children:Object(g.jsxs)(Or.a,{display:2==Yt?"block":"none",children:[Object(g.jsx)(C.a,{color:"secondary",variant:"outlined",startIcon:Object(g.jsx)(gr.a,{}),onClick:function(){Xt()},children:"Back"}),Object(g.jsx)(C.a,{color:"secondary",variant:"contained",endIcon:Object(g.jsx)(xr.a,{}),onClick:function(){ea()},children:"Next"})]})})}),Object(g.jsx)(z.a,{in:3==Yt,children:Object(g.jsx)(Ne.a,{mx:2,my:0,boxShadow:0,display:3==Yt?"block":"none",children:Object(g.jsxs)(Or.a,{display:3==Yt?"block":"none",children:[Object(g.jsx)(C.a,{color:"secondary",variant:"outlined",startIcon:Object(g.jsx)(gr.a,{}),onClick:function(){Xt()},children:"Back"}),Object(g.jsx)(C.a,{color:"primary",variant:"contained",endIcon:Object(g.jsx)(er.a,{}),onClick:function(){Kt()},disabled:o,children:"Create"})]})})})]})]}):null})};kr.defaultProps={appState:{},setParentAlert:function(){},getParentData:function(){},setCreateUserDialog:function(){},setCreateUserDialogExecuting:function(){}};var Dr=kr;var _r=function(e,t,a){h()({method:"delete",url:"/api/"+e,headers:{"Content-Type":"application/json",Authorization:"Bearer "+t},timeout:5e3}).then((function(e){a(null,e)})).catch((function(e){a(e,null)}))},Pr=Object(ot.a)((function(e){return{root:{flexGrow:1,height:"100%"}}})),Ir=function(e){Pr();var t=e.appState,a=e.getParentData,n=e.setParentAlert,i=e.deleteUserDialog,s=e.setDeleteUserDialog,o=e.deleteUserDialogExecuting,c=e.setDeleteUserDialogExecuting,l=e.selectedDataItemsList,d=e.setSelectedDataItemsList,j=Object(r.useCallback)((function(){l?l.forEach((function(e){_r("users/"+e._id,t.token,(function(e,t){e?(s(!1),n(new st("Unable to delete user(s). Please try again.","error"))):200===t.status?(a(),n(new st("Successfully deleted. You can continue working.","success"))):(s(!1),n(new st("Unable to delete user(s). Please try again.","error")))}))})):(s(!1),n(new st("Unable to delete user(s). Please try again.","error")))}),[t,l,s,n,a]),h=Object(r.useCallback)((function(){s(!1)}),[s]),u=Object(r.useCallback)((function(){try{c(!0),j(),c(!1),s(!1),d([])}catch(e){}}),[c,j,d,s]);return Object(g.jsx)(g.Fragment,{children:l?Object(g.jsxs)(ca.a,{id:"delete-user-dialog",fullWidth:!0,maxWidth:"md",open:i,onClose:function(){h()},children:[Object(g.jsxs)(la.a,{children:["Delete user",1===l.length?null:"s"]}),Object(g.jsx)(da.a,{children:o?Object(g.jsx)(S.a,{}):Object(g.jsx)(dr.a,{children:1===l.length?Object(g.jsx)(g.Fragment,{children:"Are you sure you would like to delete the user?"}):Object(g.jsx)(g.Fragment,{children:"Are you sure you would like to delete ".concat(l.length," users?")})})}),Object(g.jsxs)(ja.a,{children:[Object(g.jsx)(C.a,{color:"primary",variant:"contained",onClick:function(){h()},disabled:o,children:"Cancel"}),Object(g.jsx)(C.a,{color:"primary",variant:"contained",startIcon:Object(g.jsx)(Ua.a,{}),onClick:function(){u()},disabled:o,children:"Delete"})]})]}):null})};Ir.defaultProps={appState:{},getParentData:function(){},setParentAlert:function(){},deleteUserDialog:{},setDeleteUserDialog:function(){},deleteUserDialogExecuting:{},setDeleteUserDialogExecuting:function(){},selectedDataItemsList:{},setSelectedDataItemsList:function(){}};var Ar=Ir,Br=Object(ot.a)((function(e){return{root:{flexGrow:1}}})),Nr=function(e){var t=Br(),a=e.appState,n=e.ToggleDrawerClose,i=e.CheckAuthenticationValidity,s=e.mode,o=Object(r.useState)(!0),c=Object(nt.a)(o,2),l=c[0],d=c[1],j=Object(r.useState)(null),h=Object(nt.a)(j,2),u=h[0],p=h[1],O=Object(r.useState)(null),m=Object(nt.a)(O,2),x=m[0],y=m[1],v=Object(r.useState)(null),C=Object(nt.a)(v,2),w=C[0],k=C[1],D=Object(r.useState)(!1),_=Object(nt.a)(D,2),P=_[0],I=_[1],A=Object(r.useState)(!1),B=Object(nt.a)(A,2),N=B[0],L=B[1],E=Object(r.useState)(!1),U=Object(nt.a)(E,2),T=U[0],M=U[1],F=Object(r.useState)(!1),W=Object(nt.a)(F,2),R=W[0],V=W[1],Q=Object(r.useState)(!1),z=Object(nt.a)(Q,2),H=z[0],J=z[1],Y=Object(r.useState)(!1),q=Object(nt.a)(Y,2),G=q[0],$=q[1],Z=Object(r.useState)(new st),K=Object(nt.a)(Z,2),X=K[0],ee=K[1],te=Object(r.useCallback)((function(e){var t=new Array;e&&Array.isArray(e)&&e.forEach((function(e){e._id!==a._id&&t.push({_id:e._id,sequenceId:e.sequenceId,collections:e.collections,email:e.email,enabled:e.enabled,info:e.info,patients:e.patients,workers:e.workers,research:e.research,role:e.role,createdBy:e.createdBy,createdAt:e.updatedAt,modifiedBy:e.modifiedBy,updatedAt:e.updatedAt})})),p([].concat(t)),y([].concat(t)),k([])}),[a]),ae=Object(r.useCallback)((function(){a&&("Admin"===s?b("users/",a.token,(function(e,t){e?ee(new st("Unable to retrieve Users. Please refresh and try again.","error")):200===t.status?te(t.data.response.users):ee(new st("Unable to retrieve Users. Please refresh and try again.","error"))})):"Other"===s&&b("users/"+a._id,a.token,(function(e,t){e?ee(new st("Unable to retrieve Users. Please refresh and try again.","error")):200===t.status?te(t.data.user.patients):ee(new st("Unable to retrieve Users. Please refresh and try again.","error"))})))}),[te,a,s]);return Object(r.useEffect)((function(){n(),setTimeout((function(){i((function(e){e?ae():ee(null)}))}),200)}),[]),Object(r.useEffect)((function(){ae()}),[s]),Object(r.useEffect)((function(){y(u),k([])}),[u]),null!=X?Object(g.jsxs)("div",{className:t.root,children:[Object(g.jsxs)(Be.a,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"stretch",style:{height:"100%"},spacing:1,children:[Object(g.jsx)(Be.a,{item:!0,xs:5,children:Object(g.jsxs)(Ne.a,{mx:1,my:1,children:["Admin"===s?Object(g.jsx)(f.a,{variant:"h5",color:"inherit",align:"left",gutterBottom:!0,children:"Manage Users"}):Object(g.jsx)(g.Fragment,{}),"Other"===s?Object(g.jsxs)(Be.a,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"flex-end",spacing:2,children:[Object(g.jsx)(Be.a,{item:!0,children:Object(g.jsx)(he.a,{color:"primary"})}),Object(g.jsx)(Be.a,{item:!0,xs:!0,children:Object(g.jsx)(f.a,{variant:"h5",color:"secondary",align:"left",gutterBottom:!1,children:"Your Members"})})]}):Object(g.jsx)(g.Fragment,{})]})}),Object(g.jsx)(Be.a,{item:!0,xs:6,children:Object(g.jsx)(Ne.a,{mx:1,my:1,children:Object(g.jsx)(jt,{alert:X,setParentAlert:ee})})}),Object(g.jsx)(Be.a,{item:!0,xs:12,children:Object(g.jsx)(Ne.a,{mx:1,my:1,boxShadow:3,children:Object(g.jsx)(Le.a,{raised:!0,children:Object(g.jsx)(Be.a,{container:!0,direction:"column",justifyContent:"flex-start",alignItems:"stretch",spacing:0,children:u&&x&&w?Object(g.jsxs)(Be.a,{item:!0,xs:12,children:[Object(g.jsx)(cr,{mode:s,isDense:l,setIsDense:d,dataList:u,getParentData:ae,setSearchFilteredDataList:y,setCreateUserDialog:M,setAssignUserDialog:I,setParentAlert:ee}),Object(g.jsx)(qa,{appState:a,isDense:l,searchFilteredDataList:x,selectedDataItemsList:w,setSelectedDataItemsList:k,setParentDeleteUserDialog:J})]}):Object(g.jsx)(Be.a,{item:!0,xs:12,container:!0,direction:"row",justifyContent:"center",alignItems:"stretch",spacing:1,children:Object(g.jsx)(Be.a,{item:!0,children:Object(g.jsx)(Ne.a,{mx:1,my:1,boxShadow:0,children:Object(g.jsx)(S.a,{})})})})})})})})]}),Object(g.jsx)(pr,{assignUserDialog:P,setAssignUserDialog:I,assignUserDialogExecuting:N,setAssignUserDialogExecuting:L,setParentAlert:ee,getParentData:ae,selectedUserList:w,appState:a}),Object(g.jsx)(Dr,{createUserDialog:T,setCreateUserDialog:M,createUserDialogExecuting:R,setCreateUserDialogExecuting:V,setParentAlert:ee,getParentData:ae,appState:a}),Object(g.jsx)(Ar,{deleteUserDialog:H,setDeleteUserDialog:J,deleteUserDialogExecuting:G,setDeleteUserDialogExecuting:$,selectedDataItemsList:w,setSelectedDataItemsList:k,setParentAlert:ee,getParentData:ae,appState:a})]}):Object(g.jsx)(f.a,{variant:"h6",color:"inherit",align:"center",gutterBottom:!0,children:"Not Authorized. Please refresh and try again."})};Nr.defaultProps={appState:{},ToggleDrawerClose:function(){},CheckAuthenticationValidity:function(){}};var Lr=Nr,Er=a(48),Ur=a.n(Er),Tr=Object(ot.a)((function(e){return{root:{flexGrow:1,height:"100%"},rootGrid:{height:"100%"}}})),Mr=function(e){Tr(),e.appState;var t=e.setParentAlert,a=e.user,n=e.toBePanelIndex,i=e.setPanelIndex,s=e.changesUserDialog,o=e.setChangesUserDialog,c=e.changesUserDialogExecuting,l=e.setChangesUserDialogExecuting,d=Object(r.useCallback)((function(){o(!1)}),[o]),j=Object(r.useCallback)((function(){try{l(!0),l(!1),o(!1),i(n)}catch(e){}}),[l,o,t,i,n]);return Object(g.jsx)(g.Fragment,{children:a?Object(g.jsxs)(ca.a,{id:"save-user-dialog",fullWidth:!0,maxWidth:"md",open:s,onClose:function(){d()},children:[Object(g.jsx)(la.a,{children:"Unsaved Changes"}),Object(g.jsx)(da.a,{children:c?Object(g.jsx)(S.a,{}):Object(g.jsx)(dr.a,{children:"You have some unsaved changes. Would you like to save the user changes?"})}),Object(g.jsxs)(ja.a,{children:[Object(g.jsx)(C.a,{color:"primary",variant:"contained",onClick:function(){d()},disabled:c,children:"Back"}),Object(g.jsx)(C.a,{color:"primary",variant:"contained",startIcon:Object(g.jsx)(Ur.a,{}),onClick:function(){j()},disabled:c,children:"Save"})]})]}):null})};Mr.defaultProps={appState:{},setParentAlert:function(){},user:{},toBePanelIndex:{},setPanelIndex:function(){},changesUserDialog:{},setChangesUserDialog:function(){},changesUserDialogExecuting:{},setChangesUserDialogExecuting:function(){}};var Fr=Mr,Wr=Object(ot.a)((function(e){return{visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1}}})),Rr=[{id:"collectionId",numeric:!1,disablePadding:!0,label:"Collection ID"},{id:"overallCompleteness",numeric:!1,disablePadding:!0,label:"Overall Completeness"},{id:"patientName",numeric:!1,disablePadding:!0,label:"Patient Name"},{id:"patientId",numeric:!1,disablePadding:!0,label:"patient ID"},{id:"numberOfChapters",numeric:!0,disablePadding:!1,label:"# of Chapters"},{id:"createdAt",numeric:!0,disablePadding:!1,label:"Date Created"},{id:"updatedAt",numeric:!0,disablePadding:!1,label:"Date Last Modified"}],Vr=[{id:"collectionId",numeric:!1,disablePadding:!0,label:"Collection ID"},{id:"overallCompleteness",numeric:!1,disablePadding:!0,label:"Overall Completeness"},{id:"numberOfChapters",numeric:!0,disablePadding:!1,label:"# of Chapters"},{id:"createdAt",numeric:!0,disablePadding:!1,label:"Date Created"},{id:"updatedAt",numeric:!0,disablePadding:!1,label:"Date Last Modified"}],Qr=function(e){var t=Wr(),a=e.userID,n=e.onSelectAllClick,i=e.order,s=e.orderBy,o=e.numSelected,c=e.rowCount,l=e.onRequestSort,d=Object(r.useState)(a?Vr:Rr),j=Object(nt.a)(d,2),h=j[0],u=(j[1],Object(r.useCallback)((function(e){return function(t){l(t,e)}}),[l]));return Object(g.jsx)(ra.a,{children:Object(g.jsxs)(na.a,{children:[Object(g.jsx)(aa.a,{padding:"checkbox",children:Object(g.jsx)(_a.a,{indeterminate:o>0&&o<c,checked:c>0&&o===c,onChange:n,inputProps:{"aria-label":"select all"}})}),h?h.map((function(e){return Object(g.jsx)(aa.a,{align:e.numeric?"right":"left",padding:e.disablePadding?"none":"normal",sortDirection:s===e.id&&i,children:Object(g.jsxs)(Da.a,{active:s===e.id,direction:s===e.id?i:"asc",onClick:u(e.id),children:[e.label,s===e.id?Object(g.jsx)("span",{className:t.visuallyHidden,children:"desc"===i?"sorted descending":"sorted ascending"}):null]})},e.id)})):null]})})};Qr.defaultProps={userID:null,numSelected:{},onRequestSort:function(){},onSelectAllClick:function(){},order:{},orderBy:{},rowCount:{}};var zr=Qr,Hr=Object(ot.a)((function(e){return{root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1)},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(La.d)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},title:{flex:"1 1 100%"}}})),Jr=function(e){var t=Hr(),a=e.appState,n=e.selectedDataItemsList,i=e.setParentDeleteCollectionDialog,s=e.setParentExportCollectionDialog,o=Object(r.useState)(""),c=Object(nt.a)(o,2),l=c[0],d=c[1],j=Object(r.useState)(""),h=Object(nt.a)(j,2),u=(h[0],h[1],Object(r.useState)(!1)),b=Object(nt.a)(u,2),O=b[0],m=b[1],x=Object(r.useState)(!1),y=Object(nt.a)(x,2),v=y[0],C=y[1],S=Object(r.useState)(!1),w=Object(nt.a)(S,2),k=w[0],D=w[1],_=Object(r.useCallback)((function(){0===n.length?(m(!0),C(!1),D(!1)):1===n.length?(m(!1),C(!0),D(!1)):n.length>1&&(m(!1),C(!1),D(!0))}),[n,m,C,D]),P=Object(r.useCallback)((function(){i(!0)}),[i]),I=Object(r.useCallback)((function(){s(!0)}),[s]);return Object(r.useEffect)((function(){_()}),[n,_]),Object(r.useEffect)((function(){O||k?d(""):v&&("Admin"===a.role?d("/administration/collections/view/"+n[0]._id):"Coordinator"===a.role||"Volunteer"===a.role?d("/staff/collections/view/"+n[0]._id):d("/client/collections/view/"+n[0]._id))}),[O,v,k]),Object(g.jsxs)(Oe.a,{className:Object(Na.a)(t.root,Object(p.a)({},t.highlight,n.length>0)),children:[n.length>0?Object(g.jsxs)(f.a,{className:t.title,color:"inherit",variant:"subtitle1",component:"div",children:[n.length," Selected Item",n.length>1?"s":null]}):Object(g.jsx)(f.a,{className:t.title,variant:"h6",component:"div",children:"Collection Results"}),O?Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(Ve.a,{title:"Filter list",children:Object(g.jsx)(fe.a,{"aria-label":"filter list",children:Object(g.jsx)(Ma.a,{})})})}):null,v?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(Ve.a,{title:"View",children:Object(g.jsx)(fe.a,{"aria-label":"view",component:M.b,to:l,children:Object(g.jsx)(Zt.a,{})})}),Object(g.jsx)(Ve.a,{title:"Export",onClick:function(){return I()},children:Object(g.jsx)(fe.a,{"aria-label":"export",children:Object(g.jsx)($e.a,{})})}),Object(g.jsx)(Ve.a,{title:"Delete",children:Object(g.jsx)(fe.a,{"aria-label":"delete",onClick:function(){return P()},children:Object(g.jsx)(Ua.a,{})})})]}):null,k?Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(Ve.a,{title:"Delete",children:Object(g.jsx)(fe.a,{"aria-label":"delete",onClick:function(){return P()},children:Object(g.jsx)(Ua.a,{})})})}):null]})};Jr.defaultProps={appState:{},selectedDataItemsList:{},setParentDeleteCollectionDialog:function(){},setParentExportCollectionDialog:function(){}};var Yr=Jr,qr=function(e,t,a){return t[a]<e[a]?-1:t[a]>e[a]?1:0},Gr=function(e,t){return"desc"===e?function(e,a){return qr(e,a,t)}:function(e,a){return-qr(e,a,t)}},$r=function(e,t){var a=e.map((function(e,t){return[e,t]}));return a.sort((function(e,a){var r=t(e[0],a[0]);return 0!==r?r:e[1]-a[1]})),a.map((function(e){return e[0]}))},Zr=Object(ot.a)((function(e){return{root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1)},tableRow:{cursor:"pointer"}}}));function Kr(e){var t=Zr(),a=e.appState,n=e.isDense,i=e.userID,s=e.searchFilteredDataList,o=e.setParentDeleteCollectionDialog,c=e.setParentExportCollectionDialog,l=e.selectedDataItemsList,d=e.setSelectedDataItemsList,j=Object(r.useState)("asc"),h=Object(nt.a)(j,2),u=h[0],b=h[1],p=Object(r.useState)("collectionId"),O=Object(nt.a)(p,2),m=O[0],x=O[1],y=Object(r.useState)(0),v=Object(nt.a)(y,2),S=v[0],w=v[1],k=Object(r.useState)(20),D=Object(nt.a)(k,2),_=D[0],I=D[1],A=_-Math.min(_,s.length-S*_),B=Object(r.useCallback)((function(e,t){b(m===t&&"asc"===u?"desc":"asc"),x(t)}),[u,b,m,x]),N=Object(r.useCallback)((function(e){if(e.target.checked){var t=[];return s.forEach((function(e){t.push(e)})),void d(t)}d([])}),[s,d]),L=Object(r.useCallback)((function(e,t){var a=l.map((function(e){return e._id})).indexOf(t._id),r=[];-1===a?r=r.concat(l,t):0===a?r=r.concat(l.slice(1)):a===l.length-1?r=r.concat(l.slice(0,-1)):a>0&&(r=r.concat(l.slice(0,a),l.slice(a+1))),d(r)}),[l,d]),E=Object(r.useCallback)((function(e){return-1!==l.map((function(e){return e._id})).indexOf(e._id)}),[l]),U=Object(r.useCallback)((function(e){w(e)}),[w]),T=Object(r.useCallback)((function(e){I(parseInt(e.target.value,10)),w(0)}),[I,w]);return Object(r.useEffect)((function(){w(0)}),[s]),Object(g.jsx)("div",{className:t.root,children:Object(g.jsx)(Ne.a,{mx:1,my:1,children:Object(g.jsxs)(P.a,{className:t.paper,children:[Object(g.jsx)(Yr,{appState:a,selectedDataItemsList:l,setParentDeleteCollectionDialog:o,setParentExportCollectionDialog:c}),Object(g.jsx)(Va.a,{children:Object(g.jsxs)(ea.a,{className:t.table,"aria-labelledby":"tableTitle",size:n?"small":"medium","aria-label":"enhanced table",children:[Object(g.jsx)(zr,{userID:i,numSelected:l.length,order:u,orderBy:m,onSelectAllClick:N,onRequestSort:B,rowCount:s.length}),Object(g.jsxs)(ta.a,{children:[$r(s,Gr(u,m)).slice(S*_,S*_+_).map((function(e,a){var r=E(e),n="enhanced-table-checkbox-".concat(a);return Object(g.jsxs)(na.a,{className:t.tableRow,hover:!0,onClick:function(t){return L(t,e)},role:"checkbox","aria-checked":r,tabIndex:-1,selected:r,children:[Object(g.jsx)(aa.a,{padding:"checkbox",children:Object(g.jsx)(_a.a,{checked:r,inputProps:{"aria-labelledby":n}})}),Object(g.jsx)(aa.a,{component:"th",id:n,scope:"row",padding:"none",children:Object(g.jsx)(f.a,{color:"textPrimary",variant:"subtitle2",style:{display:"inline-block"},children:e._id})}),Object(g.jsx)(aa.a,{align:"left",padding:"none",children:Object(g.jsx)(f.a,{color:"primary",variant:"body2",style:{display:"inline-block"},children:e.overallCompleteness})}),i?Object(g.jsx)(g.Fragment,{}):Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(aa.a,{align:"left",padding:"none",children:Object(g.jsx)(f.a,{color:"secondary",variant:"body2",style:{display:"inline-block"},children:e.patientName})}),Object(g.jsx)(aa.a,{align:"left",padding:"none",children:Object(g.jsx)(f.a,{color:"textPrimary",variant:"body2",style:{display:"inline-block"},children:e.patientId})})]}),Object(g.jsx)(aa.a,{align:"right",padding:"normal",children:Object(g.jsx)(Ve.a,{title:Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(f.a,{color:"inherit",children:"Chapter Templates"}),Object(g.jsx)("ol",{children:e.chapterTemplates.map((function(e,t){return Object(g.jsx)("li",{children:e.name},"subrow".concat(t,"-").concat(e._id))}))}),Object(g.jsx)("em",{children:"Public templates that this"})," ",Object(g.jsx)("b",{children:"collection"})," ",Object(g.jsx)("u",{children:"is created from"}),"."," "]}),placement:"top",children:Object(g.jsx)(C.a,{children:Object(g.jsx)(f.a,{color:"secondary",variant:"body2",style:{display:"inline-block"},children:e.memberChapters.length})})})}),Object(g.jsxs)(aa.a,{align:"right",children:[Object(g.jsx)(f.a,{color:"primary",variant:"body2",style:{display:"inline-block",width:"120px"},children:new Date(e.createdAt).toLocaleDateString()}),Object(g.jsx)(f.a,{color:"secondary",variant:"body2",style:{display:"inline-block",width:"120px"},children:new Date(e.createdAt).toLocaleTimeString()})]}),Object(g.jsxs)(aa.a,{align:"right",children:[Object(g.jsx)(f.a,{color:"primary",variant:"body2",style:{display:"inline-block",width:"120px"},children:new Date(e.updatedAt).toLocaleDateString()}),Object(g.jsx)(Ne.a,{component:"span",mr:1}),Object(g.jsx)(f.a,{color:"secondary",variant:"body2",style:{display:"inline-block",width:"120px"},children:new Date(e.updatedAt).toLocaleTimeString()})]})]},"row".concat(a,"-").concat(e._id))})),A>0&&Object(g.jsx)(na.a,{style:{height:(n?33:53)*A},children:Object(g.jsx)(aa.a,{colSpan:6})})]})]})}),s.length>0?Object(g.jsx)(Qa.a,{rowsPerPageOptions:[5,10,15,20,25],component:"div",count:s.length,rowsPerPage:_,page:s.length<=_?0:S,onPageChange:function(e,t){U(t)},onRowsPerPageChange:T}):null]})})})}Kr.defaultProps={appState:{},userID:null,searchFilteredDataList:{},setParentDeleteCollectionDialog:function(){},setParentExportCollectionDialog:function(){},selectedDataItemsList:{},setSelectedDataItemsList:function(){}};var Xr=Object(ot.a)((function(e){return{root:{flexGrow:1,height:"100%"},rootGrid:{height:"100%"}}})),en=[{key:"CollectionId",value:"collectionId",display:"Collection ID"},{key:"PatientName",value:"patientName",display:"Patient Name"},{key:"PatientId",value:"patientId",display:"Patient ID"}],tn=[{key:"CollectionId",value:"collectionId",display:"Collection ID"}],an=function(e){Xr();var t=e.setParentAlert,a=e.isDense,n=e.setIsDense,i=e.dataList,s=e.getParentData,o=e.userID,c=e.setSearchFilteredDataList,l=e.setCreateCollectionDialog,d=Object(r.useState)(en[0].value),j=Object(nt.a)(d,2),h=j[0],u=j[1],b=Object(r.useState)(""),p=Object(nt.a)(b,2),O=p[0],m=p[1],x=Object(r.useCallback)((function(){try{s(),t(new st("Refreshed initiated...","info"))}catch(e){}}),[s,t]),y=Object(r.useCallback)((function(){l(!0)}),[l]),v=Object(r.useCallback)((function(e){n(e.target.checked)}),[n]),S=Object(r.useCallback)((function(e){m(""),u(e.target.value)}),[u]),w=Object(r.useCallback)((function(e){var t=e.target.value.toUpperCase(),a=[];i.forEach((function(e){switch(h){case"collectionId":e._id.toUpperCase().indexOf(t)>-1&&a.push(e);break;case"patientId":e.patientId.toUpperCase().indexOf(t)>-1&&a.push(e);break;case"patientName":e.patientName.toUpperCase().indexOf(t)>-1&&a.push(e)}})),m(e.target.value),c(a)}),[i,c,h]);return Object(r.useEffect)((function(){m("")}),[i]),Object(r.useEffect)((function(){""===O&&c(i)}),[u,O]),Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(Ne.a,{mx:2,my:1,boxShadow:0,children:Object(g.jsxs)(Be.a,{container:!0,direction:"column",justifyContent:"flex-start",alignItems:"stretch",spacing:1,children:[Object(g.jsxs)(Be.a,{item:!0,xs:12,container:!0,direction:"row",justifyContent:"space-between",alignItems:"stretch",spacing:1,children:[Object(g.jsxs)(Be.a,{item:!0,children:[Object(g.jsx)(f.a,{variant:"h6",component:"h6",children:"Manage"}),Object(g.jsx)(V.a,{})]}),Object(g.jsx)(Be.a,{item:!0,xs:!0,children:Object(g.jsx)(Ne.a,{mx:3,my:1,boxShadow:0,children:Object(g.jsxs)(Be.a,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"center",spacing:1,children:[Object(g.jsx)(Be.a,{item:!0,children:Object(g.jsx)(Ve.a,{placement:"bottom",title:"Refresh Online Collections",children:Object(g.jsx)(C.a,{size:"small",variant:"contained",color:"primary",startIcon:Object(g.jsx)(ar.a,{}),onClick:function(){x()},children:"Refresh"})})}),Object(g.jsx)(Be.a,{item:!0,children:Object(g.jsx)(Ve.a,{placement:"bottom",title:"Create Collection",children:Object(g.jsx)(C.a,{size:"small",variant:"contained",color:"primary",startIcon:Object(g.jsx)(er.a,{}),onClick:function(){y()},children:"Start a Collection"})})})]})})}),Object(g.jsx)(Be.a,{item:!0,children:Object(g.jsx)(Ve.a,{placement:"left",title:"Use this page to manage your collections.",children:Object(g.jsx)(fe.a,{children:Object(g.jsx)(Ka.a,{})})})})]}),Object(g.jsx)(Be.a,{item:!0,xs:12,container:!0,direction:"column",justifyContent:"flex-start",alignItems:"stretch",spacing:1,children:Object(g.jsx)(Ne.a,{mx:1,my:1,boxShadow:0,children:Object(g.jsx)(Le.a,{children:Object(g.jsx)(Ne.a,{mx:1,my:1,boxShadow:0,children:Object(g.jsxs)(Be.a,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"center",spacing:3,children:[Object(g.jsx)(Be.a,{item:!0,children:Object(g.jsx)(f.a,{color:"textPrimary",variant:"subtitle2",children:"Table Options"})}),Object(g.jsx)(Be.a,{item:!0,children:Object(g.jsx)(Ga.a,{control:Object(g.jsx)($a.a,{checked:a,onChange:function(e){v(e)}}),label:"Compact",labelPlacement:"end"})}),Object(g.jsx)(Be.a,{item:!0,children:Object(g.jsxs)(k.a,{id:"search-filter-select-label",variant:"filled",size:"small",style:{minWidth:140},disabled:!i,children:[Object(g.jsx)(_.a,{children:"Search Filter"}),Object(g.jsx)(Re.a,{autoWidth:!0,labelId:"search-filter-select-label",value:h,onChange:function(e){S(e)},children:o?tn.map((function(e){return Object(g.jsx)(xe.a,{value:e.value,children:Object(g.jsx)("em",{children:e.display})},e.key)})):en.map((function(e){return Object(g.jsx)(xe.a,{value:e.value,children:Object(g.jsx)("em",{children:e.display})},e.key)}))})]})}),Object(g.jsx)(Be.a,{item:!0,xs:!0,children:Object(g.jsx)(ba.a,{label:"Search",type:"search",size:"small",variant:"filled",fullWidth:!0,value:O,onChange:function(e){w(e)},disabled:!i})})]})})})})}),Object(g.jsx)(Be.a,{item:!0,xs:12,container:!0,direction:"row",justifyContent:"flex-start",alignItems:"flex-start",spacing:1,children:Object(g.jsxs)(Be.a,{item:!0,children:[Object(g.jsx)(f.a,{variant:"h6",component:"h6",children:"Table"}),Object(g.jsx)(V.a,{})]})})]})})})};an.defaultProps={setParentAlert:function(){},setIsDense:function(){},dataList:{},getParentData:function(){},userID:null,setSearchFilteredDataList:function(){},setCreateCollectionDialog:function(){}};var rn=an,nn=Object(ot.a)((function(e){return{root:{flexGrow:1,height:"100%"},rootGrid:{height:"100%"}}})),sn=210,on=297,cn={inputProps:{min:1}},ln=function(e){nn();var t=e.getParentData,a=e.setParentAlert,n=e.selectedDataItemsList,i=e.exportCollectionDialog,s=e.setExportCollectionDialog,o=e.exportCollectionDialogExecuting,c=e.setExportCollectionDialogExecuting,l=Object(r.useState)(sn),d=Object(nt.a)(l,2),j=d[0],h=d[1],u=Object(r.useState)(on),b=Object(nt.a)(u,2),p=b[0],O=b[1],m=Object(r.useState)(0),x=Object(nt.a)(m,2),f=x[0],y=x[1],v=Object(r.useCallback)((function(){if(!(j>0&&p>0&&n.length>0))throw new Error("Bad Export.");var e=new Array;n.forEach((function(t){t.memberChapters.forEach((function(t){e.push(new Promise((function(e,a){var r="",n="{}";""!==t.surveyJSON&&(r=JSON.parse(t.surveyJSON)),Object.prototype.hasOwnProperty.call(t,"responseJSON")&&(n=JSON.parse(t.responseJSON));var i={format:[parseInt(j)||sn,parseInt(p)||on],fontSize:14,margins:{left:10,right:10,top:18,bot:10}},s=new at.SurveyPDF(r,i);Object.prototype.hasOwnProperty.call(t,"responseJSON")&&(s.data=n),s.save((new Date).getTime().toString()+t._id+t.name+".pdf"),e()})).catch((function(e){console.log("Error: ",e)})))}))})),Promise.all(e).then((function(){a(new st("Successfully exported ".concat(f," chapter").concat(f>1?"s":"","."),"success"))})).catch((function(){a(new st("Unable export ".concat(f," chapter").concat(f>1?"s":"",". Please refresh and try again."),"error"))}))}),[j,p,n,f]),w=Object(r.useCallback)((function(){s(!1),h(sn),O(on)}),[h,O,s]),k=Object(r.useCallback)((function(){try{c(!0),v(),c(!1),s(!1),h(sn),O(on),t()}catch(e){a(new st("Unable export collection(s). Please refresh and try again.","error"))}}),[h,O,v,n,c,s,a,t]),D=Object(r.useCallback)((function(e){""!==e.target.value&&h(parseInt(e.target.value))}),[h]),_=Object(r.useCallback)((function(e){""!==e.target.value&&O(parseInt(e.target.value))}),[O]);return Object(r.useEffect)((function(){tt.StylesManager.applyTheme("default"),n&&y((function(){var e=0;return n.forEach((function(t){e+=t.memberChapters.length})),e}))}),[]),Object(r.useEffect)((function(){n&&y((function(){var e=0;return n.forEach((function(t){e+=t.memberChapters.length})),e}))}),[n]),Object(g.jsx)(g.Fragment,{children:i?Object(g.jsxs)(ca.a,{id:"export-collection-chapter-dialog",fullWidth:!0,maxWidth:"md",open:i,onClose:function(){w()},children:[Object(g.jsxs)(la.a,{children:["Export collection",n.length>1?"s":""]}),Object(g.jsx)(da.a,{children:o?Object(g.jsx)(S.a,{}):Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)(dr.a,{children:["Exporting ",n.length," collection",n.length>1?"s":"",", totalling ",f," chapter",f>1?"s":"",". Please enter valid pdf width and height values for your export."]}),Object(g.jsx)(Ne.a,{mx:1,my:1,boxShadow:0,children:Object(g.jsxs)(Be.a,{container:!0,direction:"column",justifyContent:"flex-start",alignItems:"stretch",spacing:1,children:[Object(g.jsx)(Be.a,{item:!0,xs:!0,children:Object(g.jsx)(ba.a,{label:"Pdf Width",type:"number",size:"small",variant:"filled",InputProps:cn,error:j<=0,fullWidth:!0,value:j,onChange:function(e){D(e)}})}),Object(g.jsx)(Be.a,{item:!0,xs:!0,children:Object(g.jsx)(ba.a,{label:"Pdf Height",type:"number",size:"small",variant:"filled",InputProps:cn,error:p<=0,fullWidth:!0,value:p,onChange:function(e){_(e)}})})]})})]})}),Object(g.jsxs)(ja.a,{children:[Object(g.jsx)(C.a,{color:"primary",variant:"contained",onClick:function(){w()},disabled:o,children:"Cancel"}),Object(g.jsx)(C.a,{color:"primary",variant:"contained",startIcon:Object(g.jsx)($e.a,{}),onClick:function(){k()},disabled:o,children:"Export"})]})]}):null})};ln.defaultProps={getParentData:function(){},setParentAlert:function(){},selectedDataItemsList:{},exportCollectionDialog:{},setExportCollectionDialog:function(){},exportCollectionDialogExecuting:{},setExportCollectionDialogExecuting:function(){}};var dn=ln,jn=Object(ot.a)((function(e){return{root:{flexGrow:1,height:"100%"},rootGrid:{height:"100%"}}})),hn=function(e){jn();var t=e.appState,a=e.setParentAlert,n=e.getParentData,i=e.userID,s=e.createCollectionDialog,o=e.setCreateCollectionDialog,c=e.createCollectionDialogExecuting,l=e.setCreateCollectionDialogExecuting,d=Object(r.useState)(null),j=Object(nt.a)(d,2),h=j[0],u=j[1],b=Object(r.useState)(null),p=Object(nt.a)(b,2),O=p[0],m=p[1],x=Object(r.useState)(""),y=Object(nt.a)(x,2),v=y[0],w=y[1],D=Object(r.useCallback)((function(){We("surveys/query",t.token,{isPublic:{$in:!0}},(function(e,t){e?a(new st("Unable to get public templats. Please refresh and try again.","error")):200===t.status?m(t.data.response.surveys):a(new st("Unable to get public templats. Please refresh and try again.","error"))}))}),[t]),P=Object(r.useCallback)((function(){var e;e=i?{_id:i}:{role:{$in:"Patient"}},We("users/query",t.token,e,(function(e,t){e?a(new st("Unable to get patients. Please refresh and try again.","error")):200===t.status?I(t.data.response.users):a(new st("Unable to get patients. Please refresh and try again.","error"))}))}),[t,I]),I=Object(r.useCallback)((function(e){var t=new Array;e&&Array.isArray(e)&&e.forEach((function(e){t.push({_id:e._id,name:e.info.name,role:e.role,email:e.email,createdAt:e.createdAt})})),u([].concat(t))}),[]),A=Object(r.useCallback)((function(){var e={createdBy:t._id,modifiedBy:t._id,patientId:v};We("collections/",t.token,e,(function(e,t){e?a(new st("Unable create collection. Please refresh and try again.","error")):201===t.status?(n(),a(new st("Collection created.","success"))):a(new st("Unable create collection. Please refresh and try again.","error"))}))}),[t,v]),B=Object(r.useCallback)((function(){o(!1)}),[o]),N=Object(r.useCallback)((function(){try{l(!0),A(),l(!1),o(!1)}catch(e){}}),[l,A,o,a]),L=Object(r.useCallback)((function(e){w(e.target.value)}),[]);return Object(r.useEffect)((function(){D(),P()}),[]),Object(g.jsx)(g.Fragment,{children:s?Object(g.jsxs)(ca.a,{id:"create-collection-dialog",fullWidth:!0,maxWidth:"md",open:s,onClose:function(){B()},children:[Object(g.jsx)(la.a,{children:"Create collection"}),Object(g.jsx)(da.a,{children:c?Object(g.jsx)(S.a,{}):Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(f.a,{component:"div",variant:"body1",color:"inherit",gutterBottom:!0,children:"Please enter a valid patient to start a collection."}),O?Object(g.jsxs)(f.a,{component:"div",variant:"body2",color:"textSecondary",gutterBottom:!0,children:[Object(g.jsx)("em",{children:"The following public templates that this"})," ",Object(g.jsx)("b",{children:"collection"})," ",Object(g.jsx)("u",{children:"will be created from"}),".",Object(g.jsx)("ol",{children:O.map((function(e,t){return Object(g.jsx)("li",{children:e.name},e._id)}))})]}):Object(g.jsx)(g.Fragment,{}),Object(g.jsx)(Ne.a,{mx:1,my:1,boxShadow:0,children:Object(g.jsx)(Be.a,{container:!0,direction:"column",justifyContent:"flex-start",alignItems:"stretch",spacing:1,children:Object(g.jsx)(Be.a,{item:!0,children:h?Object(g.jsxs)(k.a,{id:"patient-options-label",variant:"filled",size:"small",fullWidth:!0,disabled:!h,children:[Object(g.jsx)(_.a,{children:"Patient"}),Object(g.jsxs)(Re.a,{fullWidth:!0,labelId:"patient-options-label",value:v,onChange:function(e){L(e)},children:[Object(g.jsx)(xe.a,{value:"",children:Object(g.jsx)("em",{children:"None"})}),h.map((function(e,t){return Object(g.jsx)(xe.a,{value:e._id,children:Object(g.jsx)("em",{children:e.name})},e._id)}))]})]}):Object(g.jsx)(S.a,{})})})})]})}),Object(g.jsxs)(ja.a,{children:[Object(g.jsx)(C.a,{color:"primary",variant:"contained",onClick:function(){B()},disabled:c,children:"Cancel"}),Object(g.jsx)(C.a,{color:"primary",variant:"contained",startIcon:Object(g.jsx)(er.a,{}),onClick:function(){N()},disabled:c||""==v,children:"Create"})]})]}):null})};hn.defaultProps={appState:{},setParentAlert:function(){},getParentData:function(){},userID:null,setCreateCollectionDialog:function(){},setCreateCollectionDialogExecuting:function(){}};var un=hn,bn=Object(ot.a)((function(e){return{root:{flexGrow:1,height:"100%"}}})),pn=function(e){bn();var t=e.appState,a=e.getParentData,n=e.setParentAlert,i=e.deleteCollectionDialog,s=e.setDeleteCollectionDialog,o=e.deleteCollectionDialogExecuting,c=e.setDeleteCollectionDialogExecuting,l=e.selectedDataItemsList,d=e.setSelectedDataItemsList,j=Object(r.useCallback)((function(){l?l.forEach((function(e){_r("collections/"+e._id,t.token,(function(e,t){e?(s(!1),n(new st("Unable to save collection(s). Please try again.","error"))):200===t.status?(a(),n(new st("Successfully deleted. You can continue working.","success"))):(s(!1),n(new st("Unable to save collection(s). Please try again.","error")))}))})):(s(!1),n(new st("Unable to save collection(s). Please try again.","error")))}),[t,l,s,n,a]),h=Object(r.useCallback)((function(){s(!1)}),[s]),u=Object(r.useCallback)((function(){try{c(!0),j(),c(!1),s(!1),d([])}catch(e){}}),[c,j,d,s]);return Object(g.jsx)(g.Fragment,{children:l?Object(g.jsxs)(ca.a,{id:"delete-collection-dialog",fullWidth:!0,maxWidth:"md",open:i,onClose:function(){h()},children:[Object(g.jsxs)(la.a,{children:["Delete collection",1===l.length?null:"s"]}),Object(g.jsx)(da.a,{children:o?Object(g.jsx)(S.a,{}):Object(g.jsx)(dr.a,{children:1===l.length?Object(g.jsx)(g.Fragment,{children:"Are you sure you would like to delete the collection?"}):Object(g.jsx)(g.Fragment,{children:"Are you sure you would like to delete ".concat(l.length," collections?")})})}),Object(g.jsxs)(ja.a,{children:[Object(g.jsx)(C.a,{color:"primary",variant:"contained",onClick:function(){h()},disabled:o,children:"Cancel"}),Object(g.jsx)(C.a,{color:"primary",variant:"contained",startIcon:Object(g.jsx)(Ua.a,{}),onClick:function(){u()},disabled:o,children:"Delete"})]})]}):null})};pn.defaultProps={appState:{},getParentData:function(){},setParentAlert:function(){},deleteCollectionDialog:{},setDeleteCollectionDialog:function(){},deleteCollectionDialogExecuting:{},setDeleteCollectionDialogExecuting:function(){},selectedDataItemsList:{},setSelectedDataItemsList:function(){}};var On=pn,mn=Object(ot.a)((function(e){return{root:{flexGrow:1,height:"100%"},rootGrid:{height:"100%"}}})),xn=function(e){mn();var t=e.appState,a=e.userID,n=e.setParentAlert,i=e.panelId,s=e.panelIndex,o=e.userOriginal,c=Object(r.useState)(!0),l=Object(nt.a)(c,2),d=l[0],j=l[1],h=Object(r.useState)(null),u=Object(nt.a)(h,2),p=u[0],O=u[1],m=Object(r.useState)(null),x=Object(nt.a)(m,2),y=x[0],v=x[1],C=Object(r.useState)(null),w=Object(nt.a)(C,2),k=w[0],D=w[1],_=Object(r.useState)(!1),P=Object(nt.a)(_,2),I=P[0],A=P[1],B=Object(r.useState)(!1),N=Object(nt.a)(B,2),L=N[0],E=N[1],U=Object(r.useState)(!1),T=Object(nt.a)(U,2),M=T[0],F=T[1],W=Object(r.useState)(!1),R=Object(nt.a)(W,2),Q=R[0],H=R[1],J=Object(r.useState)(!1),Y=Object(nt.a)(J,2),q=Y[0],G=Y[1],$=Object(r.useState)(!1),Z=Object(nt.a)($,2),K=Z[0],X=Z[1],ee=Object(r.useCallback)((function(e){var t=new Array;e&&Array.isArray(e)&&e.forEach((function(e){t.push({_id:e._id,patientName:e.patientName,patientId:e.patientId,chapterTemplates:e.chapterTemplates,memberChapters:e.memberChapters,overallCompleteness:e.overallCompleteness,createdBy:e.createdBy,createdAt:e.updatedAt,modifiedBy:e.modifiedBy,updatedAt:e.updatedAt})})),O([].concat(t)),v([].concat(t)),D([])}),[]),te=Object(r.useCallback)((function(){null!=a?b("collections/patient/"+a,t.token,(function(e,t){e?n(new st("Unable to retrieve user Collections. Please refresh and try again.","error")):200===t.status||304===t.status?ee(t.data.collections):n(new st("Unable to retrieve user Collections. Please refresh and try again.","error"))})):n(new st("Unable to retrieve user Collections. Please refresh and try again.","error"))}),[a,t,ee]);return Object(r.useEffect)((function(){v(p),D([])}),[p]),Object(r.useEffect)((function(){s!==i?(O(null),v(null),D(null)):a&&te()}),[s,i,a,te]),null!=o?Object(g.jsxs)("div",{role:"tabpanel",hidden:s!==i,id:"Panel-".concat(i),children:[Object(g.jsx)(z.a,{in:s==i,children:p?Object(g.jsxs)(Be.a,{container:!0,direction:"column",justifyContent:"flex-start",alignItems:"stretch",spacing:1,children:[Object(g.jsxs)(Be.a,{item:!0,xs:12,container:!0,direction:"row",justifyContent:"space-between",alignItems:"stretch",spacing:1,children:[Object(g.jsxs)(Be.a,{item:!0,children:[Object(g.jsx)(f.a,{variant:"h6",component:"h6",children:"My Collections"}),Object(g.jsx)(V.a,{})]}),Object(g.jsx)(Be.a,{item:!0,xs:!0,children:Object(g.jsx)(Ne.a,{mx:3,my:1,boxShadow:0,children:Object(g.jsx)(Be.a,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"center",spacing:1})})})]}),Object(g.jsx)(Be.a,{item:!0,xs:12,children:Object(g.jsx)(Ne.a,{mx:1,my:1,boxShadow:0,children:Object(g.jsx)(Le.a,{raised:!0,children:Object(g.jsx)(Be.a,{container:!0,direction:"column",justifyContent:"flex-start",alignItems:"stretch",spacing:0,children:p&&y&&k?Object(g.jsxs)(Be.a,{item:!0,xs:12,children:[Object(g.jsx)(rn,{isDense:d,setIsDense:j,dataList:p,getParentData:te,userID:a,setSearchFilteredDataList:v,setCreateCollectionDialog:A,setParentAlert:n}),Object(g.jsx)(Kr,{appState:t,isDense:d,userID:a,searchFilteredDataList:y,selectedDataItemsList:k,setSelectedDataItemsList:D,setParentDeleteCollectionDialog:G,setParentExportCollectionDialog:F})]}):Object(g.jsx)(Be.a,{item:!0,xs:12,container:!0,direction:"row",justifyContent:"center",alignItems:"stretch",spacing:1,children:Object(g.jsx)(Be.a,{item:!0,children:Object(g.jsx)(Ne.a,{mx:1,my:1,boxShadow:0,children:Object(g.jsx)(S.a,{})})})})})})})})]}):Object(g.jsx)(Be.a,{container:!0,direction:"column",justifyContent:"flex-start",alignItems:"stretch",spacing:1,children:Object(g.jsx)(Be.a,{item:!0,xs:12,container:!0,direction:"row",justifyContent:"center",alignItems:"stretch",spacing:1,children:Object(g.jsx)(Be.a,{item:!0,children:Object(g.jsx)(Ne.a,{mx:1,my:1,boxShadow:0,children:Object(g.jsx)(S.a,{})})})})})}),Object(g.jsx)(un,{createCollectionDialog:I,setCreateCollectionDialog:A,createCollectionDialogExecuting:L,setCreateCollectionDialogExecuting:E,setParentAlert:n,getParentData:te,userID:a,appState:t}),Object(g.jsx)(dn,{exportCollectionDialog:M,setExportCollectionDialog:F,exportCollectionDialogExecuting:Q,setExportCollectionDialogExecuting:H,selectedDataItemsList:k,setParentAlert:n,getParentData:te}),Object(g.jsx)(On,{deleteCollectionDialog:q,setDeleteCollectionDialog:G,deleteCollectionDialogExecuting:K,setDeleteCollectionDialogExecuting:X,selectedDataItemsList:k,setSelectedDataItemsList:D,setParentAlert:n,getParentData:te,appState:t})]}):Object(g.jsx)(g.Fragment,{})};xn.defaultProps={appState:{},userID:null,setParentAlert:function(){},panelId:null,panelIndex:null,userOriginal:{}};var fn=xn,gn=a(381),yn=a(380),vn=a(142),Cn=a.n(vn),Sn=Object(ot.a)((function(e){return{root:{flexGrow:1,height:"100%"},rootGrid:{height:"100%"}}})),wn="/administration",kn="/staff",Dn=function(e){Sn();var t=e.appState,a=(e.userID,e.setParentAlert,e.getParentInfo,e.panelId),n=e.panelIndex,i=e.userOriginal,s=Object(r.useState)(null),o=Object(nt.a)(s,2),c=o[0],l=o[1],d=Object(r.useCallback)((function(e){i&&l(Object(T.a)({},i))}),[i]);return Object(r.useEffect)((function(){l(i)}),[i]),Object(r.useEffect)((function(){n!==a&&d()}),[n,a,d]),null!=i?Object(g.jsx)("div",{role:"tabpanel",hidden:n!==a,id:"Panel-".concat(a),children:Object(g.jsx)(z.a,{in:n==a,children:c?Object(g.jsxs)(Be.a,{container:!0,direction:"column",justifyContent:"flex-start",alignItems:"stretch",spacing:1,children:[Object(g.jsxs)(Be.a,{item:!0,xs:12,container:!0,direction:"row",justifyContent:"space-between",alignItems:"stretch",spacing:1,children:[Object(g.jsxs)(Be.a,{item:!0,children:[Object(g.jsx)(f.a,{variant:"h6",component:"h6",children:"My Community"}),Object(g.jsx)(V.a,{})]}),Object(g.jsx)(Be.a,{item:!0,xs:!0,children:Object(g.jsx)(Ne.a,{mx:3,my:1,boxShadow:0,children:Object(g.jsx)(Be.a,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"center",spacing:1})})}),Object(g.jsx)(Be.a,{item:!0,children:Object(g.jsx)(Ve.a,{placement:"left",title:"This page views user information.",children:Object(g.jsx)(fe.a,{children:Object(g.jsx)(Ka.a,{})})})})]}),Object(g.jsx)(Be.a,{item:!0,xs:12,children:Object(g.jsx)(Ne.a,{mx:1,my:1,boxShadow:0,children:Object(g.jsx)(Be.a,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"stretch",spacing:3,children:"Patient"===c.role?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)(Be.a,{item:!0,xs:12,children:[Object(g.jsx)(f.a,{variant:"subtitle2",component:"h6",color:"textPrimary",children:"Assigned Helpers"}),Object(g.jsx)(V.a,{light:!0})]}),Object(g.jsx)(Be.a,{item:!0,children:Object(g.jsx)(C.a,{size:"small",variant:"outlined",color:"primary",startIcon:Object(g.jsx)(Cn.a,{}),disabled:!0,children:"remove"})}),Object(g.jsx)(Be.a,{item:!0,children:Object(g.jsx)(C.a,{size:"small",variant:"outlined",color:"secondary",startIcon:Object(g.jsx)(Cn.a,{}),disabled:!0,children:"assign"})}),Object(g.jsx)(Be.a,{item:!0,xs:12,container:!0,direction:"row",justifyContent:"space-between",alignItems:"stretch",spacing:1,children:Object(g.jsx)(Be.a,{item:!0,xs:!0,children:c.workers?Object(g.jsx)(G.a,{dense:!1,children:c.workers.map((function(e,a){var r="Admin"===t.role?wn:"";return r="Coordinator"===t.role?kn:r,r="Volunteer"===t.role?kn:r,Object(g.jsxs)($.a,{dense:!1,divider:!0,children:[Object(g.jsx)(yn.a,{children:Object(g.jsx)(v.a,{children:Object(g.jsx)(we.a,{})})}),Object(g.jsx)(K.a,{primary:e.info?e.info.name:"",secondary:e.role?e.role:""}),Object(g.jsx)(gn.a,{children:Object(g.jsx)(fe.a,{edge:"end","aria-label":"edit",size:"small",disabled:!0,component:M.b,to:r+"/users/view/"+e._id,children:Object(g.jsx)(Zt.a,{})})})]},"helper".concat(a,"-").concat(e._id))}))}):Object(g.jsx)(f.a,{variant:"body2",component:"h6",color:"textPrimary",children:"None available"})})})]}):Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)(Be.a,{item:!0,xs:12,children:[Object(g.jsx)(f.a,{variant:"subtitle2",component:"h6",color:"textPrimary",children:"Assigned Clients"}),Object(g.jsx)(V.a,{light:!0})]}),Object(g.jsx)(Be.a,{item:!0,children:Object(g.jsx)(C.a,{size:"small",variant:"outlined",color:"primary",startIcon:Object(g.jsx)(Cn.a,{}),disabled:!0,children:"remove"})}),Object(g.jsx)(Be.a,{item:!0,children:Object(g.jsx)(C.a,{size:"small",variant:"outlined",color:"secondary",startIcon:Object(g.jsx)(Cn.a,{}),disabled:!0,children:"assign"})}),Object(g.jsx)(Be.a,{item:!0,xs:!0}),Object(g.jsx)(Be.a,{item:!0,xs:12,container:!0,direction:"row",justifyContent:"space-between",alignItems:"stretch",spacing:1,children:Object(g.jsx)(Be.a,{item:!0,xs:!0,children:c.patients?Object(g.jsx)(G.a,{dense:!1,children:c.patients.map((function(e,a){var r="Admin"===t.role?wn:"";return r="Coordinator"===t.role?kn:r,r="Volunteer"===t.role?kn:r,Object(g.jsxs)($.a,{dense:!1,divider:!0,children:[Object(g.jsx)(yn.a,{children:Object(g.jsx)(v.a,{children:Object(g.jsx)(we.a,{})})}),Object(g.jsx)(K.a,{primary:e.info?e.info.name:"",secondary:e.role?e.role:""}),Object(g.jsx)(gn.a,{children:Object(g.jsx)(fe.a,{edge:"end","aria-label":"edit",size:"small",disabled:e._id===t._id,component:M.b,to:r+"/users/view/"+e._id,children:Object(g.jsx)(Zt.a,{})})})]},"client".concat(a,"-").concat(e._id))}))}):Object(g.jsx)(f.a,{variant:"body2",component:"h6",color:"textPrimary",children:"None available"})})})]})})})})]}):Object(g.jsx)(Be.a,{container:!0,direction:"column",justifyContent:"flex-start",alignItems:"stretch",spacing:1,children:Object(g.jsx)(Be.a,{item:!0,xs:12,container:!0,direction:"row",justifyContent:"center",alignItems:"stretch",spacing:1,children:Object(g.jsx)(Be.a,{item:!0,children:Object(g.jsx)(Ne.a,{mx:1,my:1,boxShadow:0,children:Object(g.jsx)(S.a,{})})})})})})}):Object(g.jsx)(g.Fragment,{})};Dn.defaultProps={appState:{},userID:null,setParentAlert:function(){},getParentInfo:function(){},panelId:null,panelIndex:null,userOriginal:{}};var _n=Dn,Pn=Object(ot.a)((function(e){return{root:{flexGrow:1,height:"100%"},rootGrid:{height:"100%"}}})),In=function(e){Pn(),e.appState,e.userID,e.setParentAlert,e.getParentInfo;var t=e.panelId,a=e.panelIndex,n=e.userOriginal,i=Object(r.useState)(null),s=Object(nt.a)(i,2),o=s[0],c=s[1],l=Object(r.useCallback)((function(e){n&&c(Object(T.a)({},n))}),[n]);return Object(r.useEffect)((function(){c(n)}),[n]),Object(r.useEffect)((function(){a!==t&&l()}),[a,t,l]),null!=n?Object(g.jsx)("div",{role:"tabpanel",hidden:a!==t,id:"Panel-".concat(t),children:Object(g.jsx)(z.a,{in:a==t,children:o?Object(g.jsx)(Be.a,{container:!0,direction:"column",justifyContent:"flex-start",alignItems:"stretch",spacing:1,children:Object(g.jsxs)(Be.a,{item:!0,xs:12,container:!0,direction:"row",justifyContent:"space-between",alignItems:"stretch",spacing:1,children:[Object(g.jsxs)(Be.a,{item:!0,children:[Object(g.jsx)(f.a,{variant:"h6",component:"h6",children:"My Notes"}),Object(g.jsx)(V.a,{})]}),Object(g.jsx)(Be.a,{item:!0,xs:!0,children:Object(g.jsx)(Ne.a,{mx:3,my:1,boxShadow:0,children:Object(g.jsx)(Be.a,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"center",spacing:1})})}),Object(g.jsx)(Be.a,{item:!0,children:Object(g.jsx)(Ve.a,{placement:"left",title:"This page views user information.",children:Object(g.jsx)(fe.a,{children:Object(g.jsx)(Ka.a,{})})})})]})}):Object(g.jsx)(Be.a,{container:!0,direction:"column",justifyContent:"flex-start",alignItems:"stretch",spacing:1,children:Object(g.jsx)(Be.a,{item:!0,xs:12,container:!0,direction:"row",justifyContent:"center",alignItems:"stretch",spacing:1,children:Object(g.jsx)(Be.a,{item:!0,children:Object(g.jsx)(Ne.a,{mx:1,my:1,boxShadow:0,children:Object(g.jsx)(S.a,{})})})})})})}):Object(g.jsx)(g.Fragment,{})};In.defaultProps={appState:{},userID:null,setParentAlert:function(){},getParentInfo:function(){},panelId:null,panelIndex:null,userOriginal:{}};var An=In,Bn=a(96),Nn=a.n(Bn),Ln=a(95),En=a.n(Ln),Un=Object(ot.a)((function(e){return{root:{flexGrow:1,height:"100%"},rootGrid:{height:"100%"}}})),Tn=/^\s*(?:\+?(\d{1,3}))?[-. (]*(\d{3})[-. )]*(\d{3})[-. ]*(\d{4})(?: *x(\d+))?\s*$/,Mn=/^.+$/,Fn=/^(\d{1,})[a-zA-Z0-9\s]+(\.)?$/,Wn=/^[ABCEGHJ-NPRSTVXY]\d[ABCEGHJ-NPRSTV-Z][ -]?\d[ABCEGHJ-NPRSTV-Z]\d$/i,Rn=function(e){Un();var t=e.appState,a=e.userID,n=e.setParentAlert,i=e.getParentInfo,s=e.panelId,o=e.panelIndex,c=e.userOriginal,l=Object(r.useState)(null),d=Object(nt.a)(l,2),j=d[0],h=d[1],u=Object(r.useState)(!1),b=Object(nt.a)(u,2),p=b[0],O=b[1],m=Object(r.useState)(!1),x=Object(nt.a)(m,2),y=x[0],v=x[1],w=Object(r.useState)(""),k=Object(nt.a)(w,2),D=(k[0],k[1]),_=Object(r.useState)(!1),P=Object(nt.a)(_,2),I=P[0],A=P[1],B=Object(r.useState)(""),N=Object(nt.a)(B,2),L=(N[0],N[1]),E=Object(r.useState)(!1),U=Object(nt.a)(E,2),M=U[0],F=U[1],W=Object(r.useState)(""),R=Object(nt.a)(W,2),Q=R[0],H=R[1],J=Object(r.useState)(!1),Y=Object(nt.a)(J,2),q=Y[0],G=Y[1],$=Object(r.useState)(""),Z=Object(nt.a)($,2),K=Z[0],X=Z[1],ee=Object(r.useState)(""),te=Object(nt.a)(ee,2),ae=te[0],re=te[1],ne=Object(r.useState)(!1),ie=Object(nt.a)(ne,2),se=ie[0],oe=ie[1],ce=Object(r.useState)(""),le=Object(nt.a)(ce,2),de=le[0],je=le[1],he=Object(r.useState)(!1),ue=Object(nt.a)(he,2),be=ue[0],pe=ue[1],Oe=Object(r.useState)(""),me=Object(nt.a)(Oe,2),ge=me[0],ye=me[1],ve=Object(r.useState)(!1),Ce=Object(nt.a)(ve,2),Se=Ce[0],we=Ce[1],ke=Object(r.useState)(!1),De=Object(nt.a)(ke,2),_e=De[0],Pe=De[1],Ie=Object(r.useState)(""),Ae=Object(nt.a)(Ie,2),Le=Ae[0],Ee=Ae[1],Ue=Object(r.useState)(!1),Te=Object(nt.a)(Ue,2),Me=Te[0],Fe=Te[1],We=Object(r.useState)(""),Re=Object(nt.a)(We,2),Qe=Re[0],ze=Re[1],He=Object(r.useState)(!1),Je=Object(nt.a)(He,2),qe=Je[0],Ge=Je[1],$e=Object(r.useState)(""),Ze=Object(nt.a)($e,2),Ke=Ze[0],Xe=Ze[1],et=Object(r.useState)(!1),tt=Object(nt.a)(et,2),at=tt[0],rt=tt[1],it=Object(r.useState)(""),ot=Object(nt.a)(it,2),ct=ot[0],lt=ot[1],dt=Object(r.useState)(!1),jt=Object(nt.a)(dt,2),ht=jt[0],ut=jt[1],bt=Object(r.useState)(""),pt=Object(nt.a)(bt,2),Ot=pt[0],mt=pt[1],xt=Object(r.useState)(!1),ft=Object(nt.a)(xt,2),gt=ft[0],yt=ft[1],vt=Object(r.useState)(""),Ct=Object(nt.a)(vt,2),St=Ct[0],wt=Ct[1],kt=Object(r.useState)(!1),Dt=Object(nt.a)(kt,2),_t=Dt[0],Pt=Dt[1],It=Object(r.useCallback)((function(e){O(!p),c&&(h(Object(T.a)({},c)),D(c.info.name),A(!1),L(c.info.dateOfBirth),F(!1),"Male"!=c.info.gender&&"Female"!=c.info.gender?(H("NonBinary"),re(!0),c&&c.info&&(X(c.info.gender),0===c.info.gender.length?oe(!0):oe(!1))):(H(c.info.gender),re(!1),X(""),oe(!1)),G(!1),"English"!=c.info.language?(je("Other"),ye(c.info.language),0===c.info.language.length?Pe(!0):Pe(!1)):(je(c.info.language),we(!1),ye(""),Pe(!1)),pe(!1),c.info&&c.info.phone?Ee(c.info.phone):Ee(""),Fe(!1),c.info&&c.info.currentAddress&&c.info.currentAddress.street?ze(c.info.currentAddress.street):ze(""),Ge(!1),c.info&&c.info.currentAddress&&c.info.currentAddress.city?lt(c.info.currentAddress.city):lt(""),ut(!1),c.info&&c.info.currentAddress&&c.info.currentAddress.code?Xe(c.info.currentAddress.code):Xe(""),rt(!1),c.info&&c.info.currentAddress&&c.info.currentAddress.state?mt(c.info.currentAddress.state):mt(""),yt(!1),c.info&&c.info.currentAddress&&c.info.currentAddress.country?wt(c.info.currentAddress.country):wt(""),Pt(!1))}),[p,O,c,h,D,A,L,F,H,G,re,X,oe,je,pe,we,ye,Pe,Ee,Fe,ze,Ge,Xe,rt,lt,ut,mt,yt,wt,Pt]),At=Object(r.useCallback)((function(e){0===e.target.value.length&&A(!0),h(Object(T.a)(Object(T.a)({},j),{},{info:Object(T.a)(Object(T.a)({},j.info),{},{name:e.target.value})}))}),[j,h,A]),Bt=Object(r.useCallback)((function(e){H(e.target.value)}),[H]),Nt=Object(r.useCallback)((function(e){Mn.test(String(e.target.value))?oe(!1):oe(!0),X(e.target.value)}),[Mn,X,oe]),Lt=Object(r.useCallback)((function(e){h(Object(T.a)(Object(T.a)({},j),{},{info:Object(T.a)(Object(T.a)({},j.info),{},{dateOfBirth:new Date(e.target.value)})}))}),[j,h,F]),Et=Object(r.useCallback)((function(e){je(e.target.value)}),[je]),Ut=Object(r.useCallback)((function(e){Mn.test(String(e.target.value))?Pe(!1):Pe(!0),ye(e.target.value)}),[Mn,ye,Pe]),Tt=Object(r.useCallback)((function(e){Tn.test(String(e.target.value))||0===e.target.value.length?Fe(!1):Fe(!0),Ee(e.target.value)}),[Ee,Fe,Tn]),Mt=Object(r.useCallback)((function(e){Fn.test(String(e.target.value))||0===e.target.value.length?Ge(!1):Ge(!0),ze(e.target.value)}),[ze,Ge,Fn]),Ft=Object(r.useCallback)((function(e){lt(e.target.value)}),[lt]),Wt=Object(r.useCallback)((function(e){mt(e.target.value)}),[mt]),Rt=Object(r.useCallback)((function(e){Wn.test(String(e.target.value))||0===e.target.value.length?rt(!1):rt(!0),Xe(e.target.value)}),[Xe,rt,Wn]),Vt=(Object(r.useCallback)((function(e){wt(e.target.value)}),[wt]),Object(r.useCallback)((function(e){c&&(h(Object(T.a)({},c)),D(c.info.name),A(!1),L(c.info.dateOfBirth),F(!1),"Male"!=c.info.gender&&"Female"!=c.info.gender?(H("NonBinary"),re(!0),c&&c.info&&(X(c.info.gender),0===c.info.gender.length?oe(!0):oe(!1))):(H(c.info.gender),re(!1),X(""),oe(!1)),G(!1),"English"!=c.info.language?(je("Other"),ye(c.info.language),0===c.info.language.length?Pe(!0):Pe(!1)):(je(c.info.language),we(!1),ye(""),Pe(!1)),pe(!1),c.info&&c.info.phone?Ee(c.info.phone):Ee(""),Fe(!1),c.info&&c.info.currentAddress&&c.info.currentAddress.street?ze(c.info.currentAddress.street):ze(""),Ge(!1),c.info&&c.info.currentAddress&&c.info.currentAddress.city?lt(c.info.currentAddress.city):lt(""),ut(!1),c.info&&c.info.currentAddress&&c.info.currentAddress.code?Xe(c.info.currentAddress.code):Xe(""),rt(!1),c.info&&c.info.currentAddress&&c.info.currentAddress.state?mt(c.info.currentAddress.state):mt(""),yt(!1),c.info&&c.info.currentAddress&&c.info.currentAddress.country?wt(c.info.currentAddress.country):wt(""),Pt(!1))}),[c,h,D,A,L,F,H,G,re,X,oe,je,pe,we,ye,Pe,Ee,Fe,ze,Ge,Xe,rt,lt,ut,mt,yt,wt,Pt])),Qt=Object(r.useCallback)((function(e){if(I||q||se||M||be||_e||Me||qe||ht||at||gt||_t)n(new st("One or more fields have errors. Please correct them and try again.","error"));else{var r={info:{name:j.info.name,dateOfBirth:j.info.dateOfBirth,currentAddress:{_id:j.info.currentAddress._id,country:j.info.currentAddress.country}}};ae?K!==j.info.gender&&(r=Object(T.a)(Object(T.a)({},r),{},{info:Object(T.a)(Object(T.a)({},r.info),{},{gender:K})})):Q!==j.info.gender&&(r=Object(T.a)(Object(T.a)({},r),{},{info:Object(T.a)(Object(T.a)({},r.info),{},{gender:Q})})),Se?ge!==j.info.language&&(r=Object(T.a)(Object(T.a)({},r),{},{info:Object(T.a)(Object(T.a)({},r.info),{},{language:ge})})):de!==j.info.language&&(r=Object(T.a)(Object(T.a)({},r),{},{info:Object(T.a)(Object(T.a)({},r.info),{},{language:de})})),Le!==j.info.phone&&(r=Object(T.a)(Object(T.a)({},r),{},{info:Object(T.a)(Object(T.a)({},r.info),{},{phone:Le})})),Qe!==j.info.currentAddress.street&&(r=Object(T.a)(Object(T.a)({},r),{},{info:Object(T.a)(Object(T.a)({},r.info),{},{currentAddress:Object(T.a)(Object(T.a)({},r.info.currentAddress),{},{street:Qe})})})),ct!==j.info.currentAddress.city&&(r=Object(T.a)(Object(T.a)({},r),{},{info:Object(T.a)(Object(T.a)({},r.info),{},{currentAddress:Object(T.a)(Object(T.a)({},r.info.currentAddress),{},{city:ct})})})),Ke!==j.info.currentAddress.code&&(r=Object(T.a)(Object(T.a)({},r),{},{info:Object(T.a)(Object(T.a)({},r.info),{},{currentAddress:Object(T.a)(Object(T.a)({},r.info.currentAddress),{},{code:Ke})})})),Ot!==j.info.currentAddress.state&&(r=Object(T.a)(Object(T.a)({},r),{},{info:Object(T.a)(Object(T.a)({},r.info),{},{currentAddress:Object(T.a)(Object(T.a)({},r.info.currentAddress),{},{state:Ot})})})),null!=a?Ye("users/"+a,t.token,r,(function(e,t){e?n(new st("Unable to save changes to User. Please refresh and try again.","error")):200===t.status||304===t.status?(i(),Vt(),n(new st("Successfully saved changes to user.","success"))):n(new st("Unable to save changes to User. Please refresh and try again.","error"))})):n(new st("Unable to save changes to User. Please refresh and try again.","error"))}}),[t,a,j,n,i,I,q,se,M,be,_e,Me,qe,ht,at,gt,_t,Q,ae,K,de,Se,ge,Le,Qe,ct,Ke,Ot]);return Object(r.useEffect)((function(){h(c),c&&("Male"!=c.info.gender&&"Female"!=c.info.gender?H("NonBinary"):H(c.info.gender),G(!1),"English"!=c.info.language?je("Other"):je(c.info.language),pe(!1),c.info&&c.info.phone?Ee(c.info.phone):Ee(""),Fe(!1),c.info&&c.info.currentAddress&&c.info.currentAddress.street?ze(c.info.currentAddress.street):ze(""),Ge(!1),c.info&&c.info.currentAddress&&c.info.currentAddress.city?lt(c.info.currentAddress.city):lt(""),ut(!1),c.info&&c.info.currentAddress&&c.info.currentAddress.code?Xe(c.info.currentAddress.code):Xe(""),rt(!1),c.info&&c.info.currentAddress&&c.info.currentAddress.state?mt(c.info.currentAddress.state):mt(""),yt(!1),c.info&&c.info.currentAddress&&c.info.currentAddress.country?wt(c.info.currentAddress.country):wt(""),Pt(!1))}),[c]),Object(r.useEffect)((function(){o!==s&&Vt()}),[o,s,Vt]),Object(r.useEffect)((function(){JSON.stringify(j)===JSON.stringify(c)?v(!1):v(!0)}),[c,j,v]),Object(r.useEffect)((function(){"NonBinary"==Q?(re(!0),c&&c.info&&(X(c.info.gender),0===c.info.gender.length?oe(!0):oe(!1))):(re(!1),X(""),oe(!1))}),[c,Q,re,X,oe]),Object(r.useEffect)((function(){"Other"==de?(we(!0),c&&c.info&&(ye(c.info.language),0===c.info.language.length?Pe(!0):Pe(!1))):(we(!1),ye(""),Pe(!1))}),[c,de,we,ye,Pe]),Object(r.useEffect)((function(){j&&(new Date(j.info.dateOfBirth).toISOString().split("T")[0]>(new Date).toISOString().split("T")[0]?F(!0):F(!1))}),[j,F]),Object(r.useEffect)((function(){c&&c.info&&(ae?K!==c.info.gender?v(!0):v(!1):Q!==c.info.gender?v(!0):v(!1))}),[c,Q,ae,K,v]),Object(r.useEffect)((function(){c&&c.info&&(Se?Se&&ge!==c.info.language?v(!0):v(!1):de!==c.info.language?v(!0):v(!1))}),[c,de,Se,ge,v]),Object(r.useEffect)((function(){c&&c.info&&(Le!==c.info.phone?0===Le.length&&void 0===c.info.phone?v(!1):v(!0):v(!1))}),[Le,c,v]),Object(r.useEffect)((function(){c&&c.info&&c.info.currentAddress&&(Qe!==c.info.currentAddress.street?0===Qe.length&&void 0===c.info.currentAddress.street?v(!1):v(!0):v(!1))}),[Qe,c,v]),Object(r.useEffect)((function(){c&&c.info&&c.info.currentAddress&&(ct!==c.info.currentAddress.city?0===ct.length&&void 0===c.info.currentAddress.city?v(!1):v(!0):v(!1))}),[ct,c,v]),Object(r.useEffect)((function(){c&&c.info&&c.info.currentAddress&&(Ke!==c.info.currentAddress.code?0===Ke.length&&void 0===c.info.currentAddress.code?v(!1):v(!0):v(!1))}),[Ke,c,v]),Object(r.useEffect)((function(){c&&c.info&&c.info.currentAddress&&(Ot!==c.info.currentAddress.state?0===Ot.length&&void 0===c.info.currentAddress.state?v(!1):v(!0):v(!1))}),[Ot,c,v]),null!=c?Object(g.jsx)("div",{role:"tabpanel",hidden:o!==s,id:"Panel-".concat(s),children:Object(g.jsx)(z.a,{in:o==s,children:j?Object(g.jsxs)(Be.a,{container:!0,direction:"column",justifyContent:"flex-start",alignItems:"stretch",spacing:1,children:[Object(g.jsxs)(Be.a,{item:!0,xs:12,container:!0,direction:"row",justifyContent:"space-between",alignItems:"stretch",spacing:1,children:[Object(g.jsxs)(Be.a,{item:!0,children:[Object(g.jsx)(f.a,{variant:"h6",component:"h6",children:"My Information"}),Object(g.jsx)(V.a,{})]}),Object(g.jsx)(Be.a,{item:!0,xs:!0,children:Object(g.jsx)(Ne.a,{mx:3,my:1,boxShadow:0,children:Object(g.jsxs)(Be.a,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"center",spacing:1,children:[Object(g.jsx)(Be.a,{item:!0,children:Object(g.jsx)(Ve.a,{placement:"bottom",title:"Unlock editable fields",children:Object(g.jsx)(fe.a,{size:"small",color:"primary",onClick:function(){It()},children:p?Object(g.jsx)(En.a,{}):Object(g.jsx)(Nn.a,{})})})}),Object(g.jsx)(Be.a,{item:!0,hidden:!p,children:Object(g.jsx)(z.a,{in:p,children:Object(g.jsxs)(Or.a,{color:"primary",children:[Object(g.jsx)(C.a,{size:"small",variant:"outlined",color:"default",startIcon:Object(g.jsx)(ar.a,{}),onClick:function(){Vt()},children:"Reset"}),Object(g.jsx)(C.a,{size:"small",variant:"outlined",color:"secondary",disabled:!y,startIcon:Object(g.jsx)(Ur.a,{}),onClick:function(){Qt()},children:"Save"})]})})}),Object(g.jsx)(Be.a,{item:!0,children:Object(g.jsx)(z.a,{in:y,children:Object(g.jsx)(f.a,{variant:"caption",color:"textSecondary",align:"left",gutterBottom:!0,children:y?"Changes have been made.":""})})})]})})}),Object(g.jsx)(Be.a,{item:!0,children:Object(g.jsx)(Ve.a,{placement:"left",title:"This page views user information.",children:Object(g.jsx)(fe.a,{children:Object(g.jsx)(Ka.a,{})})})})]}),Object(g.jsx)(Be.a,{item:!0,xs:12,children:Object(g.jsx)(Ne.a,{mx:1,my:1,boxShadow:0,children:Object(g.jsxs)(Be.a,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"stretch",spacing:3,children:[Object(g.jsxs)(Be.a,{item:!0,xs:12,children:[Object(g.jsx)(f.a,{variant:"subtitle2",component:"h6",color:"textPrimary",children:"System Information"}),Object(g.jsx)(V.a,{light:!0})]}),Object(g.jsx)(Be.a,{item:!0,xs:1,children:Object(g.jsx)(ba.a,{id:"Sequence-id",size:"small",variant:"outlined",fullWidth:!0,label:"Sequence ID",readOnly:!0,disabled:!0,value:j.sequence_id})}),Object(g.jsx)(Be.a,{item:!0,xs:1,children:Object(g.jsx)(ba.a,{id:"Sequence-prefix",size:"small",variant:"outlined",fullWidth:!0,label:"Facility Prefix",readOnly:!0,disabled:!0,value:j.facilityId?j.facilityId.prefix:""})}),Object(g.jsx)(Be.a,{item:!0,xs:3,children:Object(g.jsx)(ba.a,{id:"Facility-name",size:"small",variant:"outlined",fullWidth:!0,label:"Facility",readOnly:!0,disabled:!0,value:j.facilityId?j.facilityId.name:""})}),Object(g.jsx)(Be.a,{item:!0,xs:7}),Object(g.jsxs)(Be.a,{item:!0,xs:12,children:[Object(g.jsx)(f.a,{variant:"subtitle2",component:"h6",color:"textPrimary",children:"General User Information"}),Object(g.jsx)(V.a,{light:!0})]}),Object(g.jsx)(Be.a,{item:!0,xs:5,children:Object(g.jsx)(ba.a,{id:"Name",required:!0,size:"small",variant:"outlined",fullWidth:!0,label:"Name",onChange:function(e){At(e)},value:j.info.name,error:I,readOnly:!p,disabled:!p})}),Object(g.jsx)(Be.a,{item:!0,xs:7}),Object(g.jsx)(Be.a,{item:!0,xs:1,children:Object(g.jsxs)(ba.a,{id:"Gender",select:!0,required:!0,fullWidth:!0,label:"Gender",value:Q,onChange:function(e){Bt(e)},size:"small",variant:"outlined",readOnly:!p,disabled:!p,children:[Object(g.jsx)(xe.a,{value:"Male",children:"Male"},"Male"),Object(g.jsx)(xe.a,{value:"Female",children:"Female"},"Female"),Object(g.jsx)(xe.a,{value:"NonBinary",children:"Non-Binary"},"NonBinary")]})}),Object(g.jsx)(Be.a,{item:!0,xs:1,children:Object(g.jsx)(ba.a,{id:"Gender2",fullWidth:!0,label:"Specify Gender",onChange:function(e){Nt(e)},value:K,error:se,size:"small",variant:"outlined",required:ae,readOnly:!p||!ae,disabled:!p||!ae})}),Object(g.jsx)(Be.a,{item:!0,xs:10}),Object(g.jsx)(Be.a,{item:!0,xs:2,children:Object(g.jsx)(ba.a,{id:"Date-Of-Birth",fullWidth:!0,label:"Date of Birth",type:"date",value:new Date(j.info.dateOfBirth).toISOString().split("T")[0],error:M,onChange:function(e){Lt(e)},InputLabelProps:{shrink:!0},inputProps:{required:!0,max:(new Date).toISOString().split("T")[0]},size:"small",variant:"outlined",required:!0,readOnly:!p,disabled:!p})}),Object(g.jsx)(Be.a,{item:!0,xs:10}),Object(g.jsx)(Be.a,{item:!0,xs:1,children:Object(g.jsxs)(ba.a,{id:"Language",select:!0,required:!0,fullWidth:!0,label:"Language",value:de,onChange:function(e){Et(e)},size:"small",variant:"outlined",readOnly:!p,disabled:!p,children:[Object(g.jsx)(xe.a,{value:"English",children:"English"},"English"),Object(g.jsx)(xe.a,{value:"Other",children:"Other"},"Other")]})}),Object(g.jsx)(Be.a,{item:!0,xs:1,children:Object(g.jsx)(ba.a,{id:"Language2",fullWidth:!0,label:"Specify Language",onChange:function(e){Ut(e)},value:ge,error:_e,size:"small",variant:"outlined",required:Se,readOnly:!p||!Se,disabled:!p||!Se})}),Object(g.jsx)(Be.a,{item:!0,xs:10}),Object(g.jsx)(Be.a,{item:!0,xs:10}),Object(g.jsxs)(Be.a,{item:!0,xs:12,children:[Object(g.jsx)(f.a,{variant:"subtitle2",component:"h6",color:"textPrimary",children:"User Contact Information"}),Object(g.jsx)(V.a,{light:!0})]}),Object(g.jsx)(Be.a,{item:!0,xs:2,children:Object(g.jsx)(ba.a,{id:"Phone",size:"small",variant:"outlined",fullWidth:!0,label:"Phone",onChange:function(e){Tt(e)},value:Le,error:Me,readOnly:!p,disabled:!p})}),Object(g.jsx)(Be.a,{item:!0,xs:10}),Object(g.jsx)(Be.a,{item:!0,xs:2,children:Object(g.jsx)(ba.a,{id:"Street",size:"small",variant:"outlined",fullWidth:!0,label:"Street",onChange:function(e){Mt(e)},value:Qe,error:qe,readOnly:!p,disabled:!p})}),Object(g.jsx)(Be.a,{item:!0,xs:10}),Object(g.jsx)(Be.a,{item:!0,xs:2,children:Object(g.jsx)(ba.a,{id:"City",size:"small",variant:"outlined",fullWidth:!0,label:"City",onChange:function(e){Ft(e)},value:ct,error:ht,readOnly:!p,disabled:!p})}),Object(g.jsx)(Be.a,{item:!0,xs:10}),Object(g.jsx)(Be.a,{item:!0,xs:2,children:Object(g.jsx)(ba.a,{id:"PostalCode",size:"small",variant:"outlined",fullWidth:!0,label:"Postal Code",onChange:function(e){Rt(e)},value:Ke,error:at,readOnly:!p,disabled:!p})}),Object(g.jsx)(Be.a,{item:!0,xs:10}),Object(g.jsx)(Be.a,{item:!0,xs:2,children:Object(g.jsxs)(ba.a,{id:"Province",select:!0,fullWidth:!0,label:"Province",value:Ot,onChange:function(e){Wt(e)},size:"small",variant:"outlined",readOnly:!p,disabled:!p,children:[Object(g.jsx)(xe.a,{value:"",children:"None"},"None"),Object(g.jsx)(xe.a,{value:"AB",children:"Alberta"},"AB"),Object(g.jsx)(xe.a,{value:"BC",children:"British Columbia"},"BC"),Object(g.jsx)(xe.a,{value:"MB",children:"Manitoba"},"MB"),Object(g.jsx)(xe.a,{value:"NB",children:"New Brunswick"},"NB"),Object(g.jsx)(xe.a,{value:"NL",children:"Newfoundland and Labrador"},"NL"),Object(g.jsx)(xe.a,{value:"NT",children:"Northwest Territories"},"NT"),Object(g.jsx)(xe.a,{value:"NS",children:"Nova Scotia"},"NS"),Object(g.jsx)(xe.a,{value:"NU",children:"Nunavut"},"NU"),Object(g.jsx)(xe.a,{value:"ON",children:"Ontario"},"ON"),Object(g.jsx)(xe.a,{value:"PE",children:"Prince Edward Island"},"PE"),Object(g.jsx)(xe.a,{value:"QC",children:"Quebec"},"QC"),Object(g.jsx)(xe.a,{value:"SK",children:"Saskatchewan"},"SK"),Object(g.jsx)(xe.a,{value:"YT",children:"Yukon"},"YT")]})}),Object(g.jsx)(Be.a,{item:!0,xs:10}),Object(g.jsx)(Be.a,{item:!0,xs:2,children:Object(g.jsx)(ba.a,{id:"Country",size:"small",variant:"outlined",fullWidth:!0,label:"Country",value:St,error:_t,required:!0,readOnly:!0,disabled:!p})}),Object(g.jsx)(Be.a,{item:!0,xs:10})]})})})]}):Object(g.jsx)(Be.a,{container:!0,direction:"column",justifyContent:"flex-start",alignItems:"stretch",spacing:1,children:Object(g.jsx)(Be.a,{item:!0,xs:12,container:!0,direction:"row",justifyContent:"center",alignItems:"stretch",spacing:1,children:Object(g.jsx)(Be.a,{item:!0,children:Object(g.jsx)(Ne.a,{mx:1,my:1,boxShadow:0,children:Object(g.jsx)(S.a,{})})})})})})}):Object(g.jsx)(g.Fragment,{})};Rn.defaultProps={appState:{},userID:null,setParentAlert:function(){},getParentInfo:function(){},panelId:null,panelIndex:null,userOriginal:{}};var Vn=Rn,Qn=Object(ot.a)((function(e){return{root:{flexGrow:1,height:"100%"},rootGrid:{height:"100%"}}})),zn=/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/,Hn=/^.{4,}$/,Jn=function(e){Qn();var t=e.appState,a=e.userID,n=e.setParentAlert,i=e.getParentInfo,s=e.panelId,o=e.panelIndex,c=e.userOriginal,l=Object(r.useState)(null),d=Object(nt.a)(l,2),j=d[0],h=d[1],u=Object(r.useState)(!1),b=Object(nt.a)(u,2),p=b[0],O=b[1],m=Object(r.useState)(!1),x=Object(nt.a)(m,2),y=x[0],v=x[1],w=Object(r.useState)(!1),k=Object(nt.a)(w,2),D=k[0],_=k[1],P=Object(r.useState)(""),I=Object(nt.a)(P,2),A=I[0],B=I[1],N=Object(r.useState)(!1),L=Object(nt.a)(N,2),E=L[0],U=L[1],M=Object(r.useState)(""),F=Object(nt.a)(M,2),W=F[0],R=F[1],Q=Object(r.useState)(!1),H=Object(nt.a)(Q,2),J=H[0],Y=H[1],q=Object(r.useState)(""),G=Object(nt.a)(q,2),$=G[0],Z=G[1],K=Object(r.useState)(!1),X=Object(nt.a)(K,2),ee=X[0],te=X[1],ae=Object(r.useCallback)((function(e){te(e.target.checked)}),[te]),re=Object(r.useCallback)((function(e){O(!p),c&&(h(Object(T.a)({},c)),_(!1),B(""),U(!1),R(""),Y(!1),Z(c.role),te(c.enabled))}),[p,O,c,_,U,Y,Z,te]),ne=Object(r.useCallback)((function(e){Z(e.target.value)}),[Z]),ie=Object(r.useCallback)((function(e){zn.test(String(e.target.value))?_(!1):_(!0),h(Object(T.a)(Object(T.a)({},j),{},{email:e.target.value}))}),[j,h,_,zn]),se=Object(r.useCallback)((function(e){Hn.test(String(e.target.value))?U(!1):U(!0),B(e.target.value)}),[B,U,Hn]),oe=Object(r.useCallback)((function(e){e.target.value!=A?Y(!0):Y(!1),R(e.target.value)}),[R,A]),ce=Object(r.useCallback)((function(e){c&&(h(Object(T.a)({},c)),_(!1),B(""),U(!1),R(""),Y(!1),Z(c.role),te(c.enabled))}),[c,h,_,B,U,R,Y,Z,te]),le=Object(r.useCallback)((function(e){if(D||E||J)n(new st("One or more fields have errors. Please correct them and try again.","error"));else{var r={email:j.email,role:$,enabled:ee};A.length>0&&W.length>0&&(r=Object(T.a)(Object(T.a)({},r),{},{password:A})),null!=a?Ye("users/"+a,t.token,r,(function(e,t){e?n(new st("Unable to save changes to User. Please refresh and try again.","error")):200===t.status||304===t.status?(i(),ce(),n(new st("Successfully saved changes to user.","success"))):n(new st("Unable to save changes to User. Please refresh and try again.","error"))})):n(new st("Unable to save changes to User. Please refresh and try again.","error"))}}),[t,a,D,E,J,j,$,ee,A,W,n,i]);return Object(r.useEffect)((function(){c&&Object.keys(c).length>0&&Object.getPrototypeOf(c)===Object.prototype&&(h(c),Z(c.role),te(c.enabled))}),[c]),Object(r.useEffect)((function(){c&&($!==c.role?v(!0):v(!1))}),[c,$]),Object(r.useEffect)((function(){c&&(ee!==c.enabled?v(!0):v(!1))}),[c,ee]),Object(r.useEffect)((function(){o!==s&&ce()}),[o,s,ce]),Object(r.useEffect)((function(){JSON.stringify(j)===JSON.stringify(c)?v(!1):v(!0)}),[c,j,v]),Object(r.useEffect)((function(){A.length>0&&W.length>0&&A===W&&!E&&!J&&v(!0)}),[A,W,E,J,v]),Object(r.useEffect)((function(){0===A.length?Y(!1):A.length>0&&(0===W.length?Y(!0):W.length>0&&Y(A!==W))}),[A,W,Y]),null!=c?Object(g.jsx)("div",{role:"tabpanel",hidden:o!==s,id:"Panel-".concat(s),children:Object(g.jsx)(z.a,{in:o==s,children:j?Object(g.jsxs)(Be.a,{container:!0,direction:"column",justifyContent:"flex-start",alignItems:"stretch",spacing:1,children:[Object(g.jsxs)(Be.a,{item:!0,xs:12,container:!0,direction:"row",justifyContent:"space-between",alignItems:"stretch",spacing:1,children:[Object(g.jsxs)(Be.a,{item:!0,children:[Object(g.jsx)(f.a,{variant:"h6",component:"h6",children:"General Properties"}),Object(g.jsx)(V.a,{})]}),Object(g.jsx)(Be.a,{item:!0,xs:!0,children:Object(g.jsx)(Ne.a,{mx:3,my:1,boxShadow:0,children:Object(g.jsxs)(Be.a,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"center",spacing:1,children:[Object(g.jsx)(Be.a,{item:!0,children:Object(g.jsx)(Ve.a,{placement:"bottom",title:"Unlock editable fields",children:Object(g.jsx)(fe.a,{size:"small",color:"primary",onClick:function(){re()},children:p?Object(g.jsx)(En.a,{}):Object(g.jsx)(Nn.a,{})})})}),Object(g.jsx)(Be.a,{item:!0,hidden:!p,children:Object(g.jsx)(z.a,{in:p,children:Object(g.jsxs)(Or.a,{color:"primary",children:[Object(g.jsx)(C.a,{size:"small",variant:"outlined",color:"default",startIcon:Object(g.jsx)(ar.a,{}),onClick:function(){ce()},children:"Reset"}),Object(g.jsx)(C.a,{size:"small",variant:"outlined",color:"secondary",disabled:!y,startIcon:Object(g.jsx)(Ur.a,{}),onClick:function(){le()},children:"Save"})]})})}),Object(g.jsx)(Be.a,{item:!0,children:Object(g.jsx)(z.a,{in:y,children:Object(g.jsx)(f.a,{variant:"caption",color:"textSecondary",align:"left",gutterBottom:!0,children:y?"Changes have been made.":""})})})]})})}),Object(g.jsx)(Be.a,{item:!0,children:Object(g.jsx)(Ve.a,{placement:"left",title:"This page views user properties.",children:Object(g.jsx)(fe.a,{children:Object(g.jsx)(Ka.a,{})})})})]}),Object(g.jsx)(Be.a,{item:!0,xs:12,children:Object(g.jsx)(Ne.a,{mx:1,my:1,boxShadow:0,children:Object(g.jsxs)(Be.a,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"stretch",spacing:3,children:[Object(g.jsxs)(Be.a,{item:!0,xs:12,children:[Object(g.jsx)(f.a,{variant:"subtitle2",component:"h6",color:"textPrimary",children:"System Properties"}),Object(g.jsx)(V.a,{light:!0})]}),Object(g.jsx)(Be.a,{item:!0,xs:2,children:Object(g.jsx)(ba.a,{label:"User ID",disabled:!0,size:"small",variant:"outlined",fullWidth:!0,value:j._id})}),Object(g.jsx)(Be.a,{item:!0,xs:2,children:Object(g.jsx)(ba.a,{label:"Updated",disabled:!0,size:"small",fullWidth:!0,variant:"outlined",value:new Date(j.updatedAt).toLocaleString(),InputProps:{readOnly:!0}})}),Object(g.jsx)(Be.a,{item:!0,xs:2,children:Object(g.jsx)(ba.a,{label:"Created",disabled:!0,size:"small",fullWidth:!0,variant:"outlined",value:new Date(j.createdAt).toLocaleString(),InputProps:{readOnly:!0}})}),j.role?Object(g.jsx)(Be.a,{item:!0,xs:2,children:Object(g.jsxs)(ba.a,{id:"Role",select:!0,required:!0,fullWidth:!0,label:"Role",value:$,readOnly:!p,disabled:!p,onChange:function(e){ne(e)},variant:"outlined",size:"small",children:[Object(g.jsx)(xe.a,{value:"Admin",children:"Admin"},"Admin"),Object(g.jsx)(xe.a,{value:"Coordinator",children:"Coordinator"},"Coordinator"),Object(g.jsx)(xe.a,{value:"Volunteer",children:"Volunteer"},"Volunteer"),Object(g.jsx)(xe.a,{value:"Patient",children:"Patient"},"Patient")]})}):Object(g.jsx)(g.Fragment,{}),j.enabled?Object(g.jsx)(Be.a,{item:!0,xs:2,children:Object(g.jsx)(Ga.a,{control:Object(g.jsx)($a.a,{checked:ee,onChange:function(e){ae(e)},color:"primary",disabled:!p}),label:"Enabled"})}):Object(g.jsx)(g.Fragment,{}),Object(g.jsx)(Be.a,{item:!0,xs:!0}),Object(g.jsxs)(Be.a,{item:!0,xs:12,children:[Object(g.jsx)(f.a,{variant:"subtitle2",component:"h6",color:"textPrimary",children:"Login Properties"}),Object(g.jsx)(V.a,{light:!0})]}),Object(g.jsx)(Be.a,{item:!0,xs:4,children:Object(g.jsx)(ba.a,{id:"Email",size:"small",variant:"outlined",fullWidth:!0,label:"Email",required:!0,onChange:function(e){ie(e)},value:j.email,error:D,readOnly:!p,disabled:!p})}),Object(g.jsx)(Be.a,{item:!0,xs:8}),Object(g.jsx)(Be.a,{item:!0,xs:4,children:Object(g.jsx)(ba.a,{id:"New-Password",size:"small",variant:"outlined",fullWidth:!0,type:"password",label:"New Password",required:!0,onChange:function(e){se(e)},value:A,error:E,readOnly:!p,disabled:!p})}),Object(g.jsx)(Be.a,{item:!0,xs:8}),Object(g.jsx)(Be.a,{item:!0,xs:4,children:Object(g.jsx)(ba.a,{id:"Confirm-New-Password",size:"small",variant:"outlined",fullWidth:!0,type:"password",label:"Confirm Password",required:!0,onChange:function(e){oe(e)},value:W,error:J,readOnly:!p,disabled:!p})})]})})})]}):Object(g.jsx)(Be.a,{container:!0,direction:"column",justifyContent:"flex-start",alignItems:"stretch",spacing:1,children:Object(g.jsx)(Be.a,{item:!0,xs:12,container:!0,direction:"row",justifyContent:"center",alignItems:"stretch",spacing:1,children:Object(g.jsx)(Be.a,{item:!0,children:Object(g.jsx)(Ne.a,{mx:1,my:1,boxShadow:0,children:Object(g.jsx)(S.a,{})})})})})})}):Object(g.jsx)(g.Fragment,{})};Jn.defaultProps={appState:{},userID:null,setParentAlert:function(){},getParentInfo:function(){},panelId:null,panelIndex:null,userOriginal:{}};var Yn=Jn,qn=a(382),Gn=Object(ot.a)((function(e){return{root:{flexGrow:1,height:"100%"},rootGrid:{height:"100%"}}})),$n=function(e){var t=Gn(),a=e.appState,n=e.userID,i=e.ToggleDrawerClose,s=e.CheckAuthenticationValidity,o=Object(r.useState)(null),c=Object(nt.a)(o,2),l=c[0],d=c[1],j=Object(r.useState)(null),h=Object(nt.a)(j,2),u=h[0],p=h[1],O=Object(r.useState)(new st),m=Object(nt.a)(O,2),x=m[0],y=m[1],v=Object(r.useState)(0),C=Object(nt.a)(v,2),S=C[0],w=C[1],k=Object(r.useState)(0),D=Object(nt.a)(k,2),_=D[0],P=D[1],I=Object(r.useState)(!1),A=Object(nt.a)(I,2),B=A[0],N=A[1],L=Object(r.useState)(!1),E=Object(nt.a)(L,2),U=E[0],T=E[1],M=Object(r.useCallback)((function(){null!=n?b("users/"+n,a.token,(function(e,t){e?y(new st("Unable to retrieve User. Please refresh and try again.","error")):200===t.status||304===t.status?d(t.data.user):y(new st("Unable to retrieve User. Please refresh and try again.","error"))})):y(new st("Unable to retrieve User. Please refresh and try again.","error"))}),[n,a]),F=Object(r.useCallback)((function(e,t){P(t),JSON.stringify(u)===JSON.stringify(l)?w(t):N(!0)}),[u,l,P,w,N]);return Object(r.useEffect)((function(){i(),setTimeout((function(){s((function(e){e?M():y(null)}))}),200)}),[]),Object(r.useEffect)((function(){n&&(M(),w(0))}),[n]),Object(r.useEffect)((function(){p(l)}),[l]),null!=x?Object(g.jsxs)("div",{className:t.root,children:[Object(g.jsxs)(Be.a,{container:!0,className:t.rootGrid,direction:"row",justifyContent:"flex-start",alignItems:"stretch",spacing:1,children:[Object(g.jsx)(Be.a,{item:!0,xs:5,children:Object(g.jsx)(Ne.a,{mx:1,my:1,children:Object(g.jsx)(Be.a,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"stretch",spacing:1,children:Object(g.jsx)(Be.a,{item:!0,xs:!0,children:a._id===n?Object(g.jsxs)(Be.a,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"flex-end",spacing:2,children:[Object(g.jsx)(Be.a,{item:!0,children:Object(g.jsx)(de.a,{color:"primary"})}),Object(g.jsx)(Be.a,{item:!0,xs:!0,children:Object(g.jsx)(f.a,{variant:"h5",color:"secondary",align:"left",gutterBottom:!1,children:"Your Profile"})})]}):Object(g.jsxs)(f.a,{variant:"h5",color:"inherit",align:"left",gutterBottom:!0,children:["Viewing User ",l?'"'.concat(l.info.name,'"'):null]})})})})}),Object(g.jsx)(Be.a,{item:!0,xs:6,children:Object(g.jsx)(Ne.a,{mx:1,my:1,children:Object(g.jsx)(jt,{alert:x,setParentAlert:y})})}),Object(g.jsx)(Be.a,{item:!0,xs:12,children:Object(g.jsxs)(Le.a,{raised:!0,children:[Object(g.jsx)(pe.a,{position:"static",disabled:!u,children:"Patient"!==a.role?Object(g.jsxs)(ha.a,{value:S,onChange:function(e,t){F(e,t)},"aria-label":"Account Tabs",children:[Object(g.jsx)(ua.a,{label:"Collections",id:"Tab-".concat(0),"aria-controls":"Tab-".concat(0)}),Object(g.jsx)(ua.a,{label:"Community",id:"Tab-".concat(1),"aria-controls":"Tab-".concat(1)}),Object(g.jsx)(ua.a,{label:"Notes",id:"Tab-".concat(2),"aria-controls":"Tab-".concat(2)}),Object(g.jsx)(ua.a,{label:"Information",id:"Tab-".concat(3),"aria-controls":"Tab-".concat(3)}),Object(g.jsx)(ua.a,{label:"Properties",id:"Tab-".concat(4),"aria-controls":"Tab-".concat(4)})]}):Object(g.jsxs)(ha.a,{value:S,onChange:function(e,t){F(e,t)},"aria-label":"Account Tabs",children:[Object(g.jsx)(ua.a,{label:"Collections",id:"Tab-".concat(0),"aria-controls":"Tab-".concat(0)}),Object(g.jsx)(ua.a,{label:"Community",id:"Tab-".concat(1),"aria-controls":"Tab-".concat(1)}),Object(g.jsx)(ua.a,{label:"Information",id:"Tab-".concat(2),"aria-controls":"Tab-".concat(2)}),Object(g.jsx)(ua.a,{label:"Properties",id:"Tab-".concat(3),"aria-controls":"Tab-".concat(3)})]})}),Object(g.jsx)(Ne.a,{mx:2,my:1,boxShadow:0,children:"Patient"!==a.role?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(fn,{appState:a,userID:n,setParentAlert:y,panelId:0,panelIndex:S,userOriginal:l}),Object(g.jsx)(_n,{appState:a,userID:n,setParentAlert:y,getParentInfo:M,panelId:1,panelIndex:S,userOriginal:l}),Object(g.jsx)(An,{appState:a,userID:n,setParentAlert:y,getParentInfo:M,panelId:2,panelIndex:S,userOriginal:l}),Object(g.jsx)(Vn,{appState:a,userID:n,setParentAlert:y,getParentInfo:M,panelId:3,panelIndex:S,userOriginal:l}),Object(g.jsx)(Yn,{appState:a,userID:n,setParentAlert:y,getParentInfo:M,panelId:4,panelIndex:S,userOriginal:l})]}):Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(fn,{appState:a,userID:n,setParentAlert:y,panelId:0,panelIndex:S,userOriginal:l}),Object(g.jsx)(_n,{appState:a,userID:n,setParentAlert:y,getParentInfo:M,panelId:1,panelIndex:S,userOriginal:l}),Object(g.jsx)(Vn,{appState:a,userID:n,setParentAlert:y,getParentInfo:M,panelId:2,panelIndex:S,userOriginal:l}),Object(g.jsx)(Yn,{appState:a,userID:n,setParentAlert:y,getParentInfo:M,panelId:3,panelIndex:S,userOriginal:l})]})})]})})]}),Object(g.jsx)(Fr,{changesUserDialog:B,setChangesUserDialog:N,changesUserDialogExecuting:U,setChangesUserDialogExecuting:T,toBePanelIndex:_,setPanelIndex:w,user:u,setParentAlert:y,getParentData:M,appState:a})]}):Object(g.jsx)(f.a,{variant:"h6",color:"inherit",align:"center",gutterBottom:!0,children:"Not Authorized. Please refresh and try again."})};$n.defaultProps={appState:{},userID:{},ToggleDrawerClose:function(){},CheckAuthenticationValidity:function(){}};var Zn=$n,Kn=a(236),Xn=a.n(Kn),ei=a(125),ti=a.n(ei),ai=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var r;return Object(o.a)(this,a),(r=t.call(this,e)).componentDidMount=function(){var e=r.props.match.params.profileID;r.user={},null!=e?r.setState({profileID:e},(function(){setTimeout((function(){r.props.ToggleDrawerClose(),r.props.CheckAuthenticationValidity((function(e){e&&r.loadUserInformation()}))}),200)})):r.setState({error:"Please navigate to a proper profile id.",render:!0})},r.loadUserInformation=function(){var e=r.state.profileID,t=r.props.appState;b("users/"+e,t.token,(function(e,t){if(e)r.setState({error:"Unable to load profile.",render:!0});else if(200===t.status||304===t.status){r.user=t.data;var a=r.user.user;r.setState({error:"",email:a.email,name:a.info.name,phone:a.info.phone,render:!0})}else r.setState({error:"Unable to load profile.  Please make sure your User ID is correct and you have proper permissions.",render:!0})}))},r.saveUserInformation=function(){var e=r.state,t=e.email,a=e.name,n=e.phone,i=e.profileID,s=r.props.appState;if(""!==t&&""!==a&&""!==n){r.setState({error:"",success:""});var o={email:t,info:{name:a,phone:n}};Ye("users/"+i,s.token,o,(function(e,t){if(e)r.setState({error:"Unable to save profile.",success:"",render:!0});else if(200===t.status||304===t.status){r.user=t.data;var a=r.user.user;r.setState({error:"",success:"User profile information saved.",email:a.email||"",name:a.info.name||"",phone:a.info.phone||"",render:!0})}else r.setState({error:"Unable to load profile.  Please make sure your User ID is correct and you have proper permissions.",success:"",render:!0})}))}else r.setState({error:"Please ensure all fields are filled out",success:""})},r.HandleChange=function(e){r.setState(Object(p.a)({},e.target.name,e.target.value))},r.renderForm=function(){var e=r.state,t=e.email,a=e.name,n=e.phone;return Object(g.jsxs)(Be.a,{container:!0,spacing:10,children:[Object(g.jsx)(Be.a,{item:!0,xs:12,children:Object(g.jsx)(oa,{id:"email",fullWidth:!0,label:"Email",onChange:r.HandleChange,value:t})}),Object(g.jsx)(Be.a,{item:!0,xs:12,children:Object(g.jsx)(oa,{id:"name",fullWidth:!0,label:"Name",onChange:r.HandleChange,value:a})}),Object(g.jsx)(Be.a,{item:!0,xs:12,children:Object(g.jsx)(oa,{id:"phone",fullWidth:!0,label:"Phone",onChange:r.HandleChange,value:n})})]})},r.state={profileID:"",error:"",success:"",name:"",email:"",role:"",phone:"",saving:!1,render:!1},r}return Object(c.a)(a,[{key:"render",value:function(){var e=this.props.classes,t=this.state,a=t.error,r=t.render,n=t.saving,i=t.success;return r?Object(g.jsx)(Be.a,{container:!0,spacing:10,align:"center",justifyContent:"center",children:Object(g.jsx)(Be.a,{item:!0,xs:12,sm:10,md:8,lg:6,xl:4,children:Object(g.jsxs)(Le.a,{children:[Object(g.jsxs)(Ue.a,{children:[Object(g.jsx)(f.a,{variant:"h5",className:e.title,children:"Edit User Profile"}),""!==a&&Object(g.jsx)(y,{color:e.error,children:a}),""!==i&&Object(g.jsx)(y,{color:e.success,children:i}),this.renderForm()]}),Object(g.jsx)(Ee.a,{children:Object(g.jsxs)("div",{className:e.alignLeftSpacer,children:[Object(g.jsxs)(C.a,{size:"small",variant:"contained",color:"default",component:M.b,to:"/administration/users/management",style:{margin:5},children:[Object(g.jsx)(ti.a,{className:e.rightIcon}),"Back To Management Index"]}),n?Object(g.jsx)(S.a,{className:e.spinner}):Object(g.jsxs)(C.a,{size:"small",variant:"contained",color:"secondary",onClick:this.saveUserInformation,children:["Save User Profile",Object(g.jsx)(Xn.a,{className:e.rightIcon,children:"send"})]})]})})]})})}):Object(g.jsx)(S.a,{})}}]),a}(r.Component),ri=Object(I.a)((function(e){return{title:e.title,error:e.error,success:e.success,alignLeftSpacer:e.alignLeftSpacer,spinner:e.spinner,rightIcon:e.rightIcon}}))(ai),ni=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var r;return Object(o.a)(this,a),(r=t.call(this,e)).componentDidMount=function(){var e=r.props.match.params.profileID;r.user={},null!=e?r.setState({profileID:e},(function(){setTimeout((function(){r.props.ToggleDrawerClose(),r.props.CheckAuthenticationValidity((function(e){e&&r.loadUserInformation()}))}),200)})):r.setState({error:"Please navigate to a proper profile id.",render:!0})},r.loadUserInformation=function(){var e=r.state.profileID,t=r.props.appState;b("users/"+e,t.token,(function(e,t){if(e)r.setState({error:"Unable to load profile.",render:!0});else if(200===t.status||304===t.status){r.user=t.data;var a=r.user.user;r.setState({error:"",enabled:a.enabled,name:a.info.name,render:!0})}else r.setState({error:"Unable to load profile.  Please make sure your User ID is correct and you have proper permissions.",render:!0})}))},r.saveUserInformation=function(){var e=r.state,t=e.enabled,a=e.profileID,n=r.props.appState,i={enabled:!t};Ye("users/"+a,n.token,i,(function(e,t){if(e)r.setState({error:"-",success:"",render:!0});else if(200===t.status||304===t.status){r.user=t.data;var a=r.user.user;r.setState({error:"",enabled:a.enabled,success:"This users account status has been succesfully changed.",render:!0})}else r.setState({error:"Unable to load profile.  Please make sure your User ID is correct and you have proper permissions.",success:"",render:!0})}))},r.HandleChange=function(e){r.setState(Object(p.a)({},e.target.name,e.target.value))},r.renderForm=function(){var e=r.state,t=e.enabled,a=e.name;return Object(g.jsx)("div",{children:Object(g.jsxs)(f.a,{children:["This user is currently ",t?"enabled":"disabled",". ",Object(g.jsx)("br",{}),"Click below if you wish to change this status.",Object(g.jsx)("br",{}),Object(g.jsx)(C.a,{color:"primary",variant:"contained",style:{margin:10},onClick:r.saveUserInformation,children:t?"Disable "+a:"Enable "+a})]})})},r.state={profileID:"",name:"",error:"",success:"",enabled:!0,render:!1},r}return Object(c.a)(a,[{key:"render",value:function(){var e=this.props.classes,t=this.state,a=t.error,r=t.render,n=t.success;return r?Object(g.jsx)(Be.a,{container:!0,spacing:10,align:"center",justify:"center",children:Object(g.jsx)(Be.a,{item:!0,xs:12,sm:10,md:8,lg:6,xl:4,children:Object(g.jsxs)(Le.a,{children:[Object(g.jsxs)(Ue.a,{children:[Object(g.jsx)(f.a,{variant:"h5",className:e.title,children:"Enable / Disable User"}),""!==a&&Object(g.jsx)(y,{color:e.error,children:a}),this.renderForm(),""!==n&&Object(g.jsx)(y,{color:e.success,children:n})]}),Object(g.jsx)(Ee.a,{children:Object(g.jsx)("div",{className:e.alignLeftSpacer,children:Object(g.jsxs)(C.a,{size:"small",variant:"contained",color:"default",component:M.b,to:"/administration/users/management",style:{margin:5},children:[Object(g.jsx)(ti.a,{className:e.rightIcon}),"Back To Management Index"]})})})]})})}):Object(g.jsx)(S.a,{})}}]),a}(r.Component),ii=(Object(I.a)((function(e){return{title:e.title,error:e.error,success:e.success,alignLeftSpacer:e.alignLeftSpacer,spinner:e.spinner,rightIcon:e.rightIcon}}))(ni),function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var r;return Object(o.a)(this,a),(r=t.call(this,e)).componentDidMount=function(){var e=r.props.match.params.profileID;r.user={},null!=e?r.setState({profileID:e},(function(){setTimeout((function(){r.props.ToggleDrawerClose(),r.props.CheckAuthenticationValidity((function(e){e&&r.loadUserInformation()}))}),200)})):r.setState({error:"Please navigate to a proper profile id.",render:!0})},r.loadUserInformation=function(){var e=r.state.profileID,t=r.props.appState;b("users/"+e,t.token,(function(e,t){if(e)r.setState({error:"Unable to load profile.",render:!0});else if(200===t.status||304===t.status){r.user=t.data;var a=r.user.user;r.setState({error:"",name:a.info.name,research:a.research,render:!0})}else r.setState({error:"Unable to load profile.  Please make sure your User ID is correct and you have proper permissions.",render:!0})}))},r.createResearchId=function(){var e=r.state.profileID,t=r.props.appState;b("users/research/create/"+e,t.token,(function(e,t){if(e)r.setState({error:"-",success:"",render:!0});else if(200===t.status||304===t.status){r.user=t.data;var a=r.user.user;r.setState({error:"",research:a.research,success:"A Research ID has been created for this person.",render:!0})}else r.setState({error:"Unable to load profile.  Please make sure your User ID is correct and you have proper permissions.",success:"",render:!0})}))},r.enableDisableResearchId=function(){var e=r.state,t=e.profileID,a=e.research,n=r.props.appState,i={research:a};i.research.enabled=!i.research.enabled,Ye("users/"+t,n.token,i,(function(e,t){if(e)r.setState({error:"-",success:"",render:!0});else if(200===t.status||304===t.status){r.user=t.data;var a=r.user.user;r.setState({error:"",research:a.research,success:"Research ID status updated.",render:!0})}else r.setState({error:"Unable to load profile.  Please make sure your User ID is correct and you have proper permissions.",success:"",render:!0})}))},r.HandleChange=function(e){r.setState(Object(p.a)({},e.target.name,e.target.value))},r.renderForm=function(){var e=r.state.research;return""===e.full||void 0===e.full||null===e.full?Object(g.jsxs)("div",{children:[Object(g.jsx)(f.a,{children:"This user currently does not have a research ID."}),Object(g.jsx)(C.a,{color:"primary",variant:"contained",style:{margin:10},onClick:r.saveUserInformation,children:"Create Research ID"})]}):e.enabled?Object(g.jsxs)("div",{children:[Object(g.jsxs)(f.a,{children:["Unique Research ID: ",e.full,Object(g.jsx)("br",{}),"This users research ID is currently enabled.",Object(g.jsx)("br",{}),"Click below to disable it."]}),Object(g.jsx)(C.a,{color:"primary",variant:"contained",style:{margin:10},onClick:r.enableDisableResearchId,children:"Disable Research ID"})]}):Object(g.jsxs)("div",{children:[Object(g.jsxs)(f.a,{children:["Unique Research ID: ",e.full,Object(g.jsx)("br",{}),"This users research ID is currently disabled.",Object(g.jsx)("br",{}),"Click below to enable it."]}),Object(g.jsx)(C.a,{color:"primary",variant:"contained",style:{margin:10},onClick:r.enableDisableResearchId,children:"Enable Research ID"})]})},r.state={profileID:"",name:"",research:{},error:"",success:"",render:!1},r}return Object(c.a)(a,[{key:"render",value:function(){var e=this.props.classes,t=this.state,a=t.error,r=t.render,n=t.success;return r?Object(g.jsxs)(Le.a,{children:[Object(g.jsxs)(Ue.a,{children:[Object(g.jsx)(f.a,{variant:"h5",className:e.title,children:"Enable / Disable User"}),""!==a&&Object(g.jsx)(y,{color:e.error,children:a}),this.renderForm(),""!==n&&Object(g.jsx)(y,{color:e.success,children:n})]}),Object(g.jsx)(Ee.a,{children:Object(g.jsx)("div",{className:e.alignLeftSpacer,children:Object(g.jsxs)(C.a,{size:"small",variant:"contained",color:"default",component:M.b,to:"/administration/users/management",style:{margin:5},children:[Object(g.jsx)(ti.a,{className:e.rightIcon}),"Back To Management Index"]})})})]}):Object(g.jsx)(S.a,{})}}]),a}(r.Component)),si=Object(I.a)((function(e){return{title:e.title,error:e.error,success:e.success,alignLeftSpacer:e.alignLeftSpacer,spinner:e.spinner,rightIcon:e.rightIcon}}))(ii),oi=a(106),ci=a.n(oi),li=Object(ot.a)((function(e){return{root:{flexGrow:1,height:"100%"},rootGrid:{height:"100%"}}})),di=function(e){li();var t=e.chapter,a=e.setParentAlert,n=e.setParentLoadChapter,i=e.pullChapterDialog,s=e.setPullChapterDialog,o=e.pullChapterDialogExecuting,c=e.setPullChapterDialogExecuting,l=Object(r.useCallback)((function(){s(!1)}),[s]),d=Object(r.useCallback)((function(){try{c(!0),n(),c(!1),s(!1),a(new st("Successfully pulled saved state from online. You can continue editing if you wish.","success"))}catch(e){}}),[c,n,s,a]);return Object(g.jsx)(g.Fragment,{children:t?Object(g.jsxs)(ca.a,{id:"pull-chapter-dialog",fullWidth:!0,maxWidth:"md",open:i,onClose:function(){l()},children:[Object(g.jsxs)(la.a,{children:["Pull chapter ",t.name?'"'.concat(t.name,'"'):null]}),Object(g.jsx)(da.a,{children:o?Object(g.jsx)(S.a,{}):Object(g.jsx)(dr.a,{children:"Are you sure you would like to refresh and pull the chapter from online?"})}),Object(g.jsxs)(ja.a,{children:[Object(g.jsx)(C.a,{color:"primary",variant:"contained",onClick:function(){l()},disabled:o,children:"Cancel"}),Object(g.jsx)(C.a,{color:"primary",variant:"contained",startIcon:Object(g.jsx)(ci.a,{}),onClick:function(){d()},disabled:o,children:"Pull"})]})]}):null})};di.defaultProps={chapter:function(){},setParentAlert:function(){},setParentLoadChapter:function(){},pullChapterDialog:{},setPullChapterDialog:function(){},pullChapterDialogExecuting:{},setPullChapterDialogExecuting:function(){}};var ji=di,hi=Object(ot.a)((function(e){return{root:{flexGrow:1,height:"100%"},rootGrid:{height:"100%"}}})),ui=function(e){hi();var t=e.appState,a=e.setParentAlert,n=e.isTemplate,i=e.chapter,s=e.chapterID,o=e.saveChapterDialog,c=e.setSaveChapterDialog,l=e.saveChapterDialogExecuting,d=e.setSaveChapterDialogExecuting,j=Object(r.useCallback)((function(){var e;i?(e=n?{name:i.name,surveyJSON:i.surveyJSON,isPublic:i.isPublic}:{approved:i.approved,completeStatus:i.completeStatus,responseJSON:i.responseJSON},Ye((n?"surveys/":"membersurveys/")+s,t.token,e,(function(e,t){e?(c(!1),a(new st("Unable to retrieve save chapter. Please try again.","error"))):200===t.status||(c(!1),a(new st("Unable to retrieve save chapter. Please try again.","error")))}))):(c(!1),a(new st("Unable to retrieve save chapter. Please try again.","error")))}),[c,a,i,s,t,n]),h=Object(r.useCallback)((function(){c(!1)}),[c]),u=Object(r.useCallback)((function(){try{d(!0),j(),d(!1),c(!1),a(new st("Successfully Saved. You can continue editing if you wish.","success"))}catch(e){}}),[d,j,c,a]);return Object(g.jsx)(g.Fragment,{children:i?Object(g.jsxs)(ca.a,{id:"save-chapter-dialog",fullWidth:!0,maxWidth:"md",open:o,onClose:function(){h()},children:[Object(g.jsxs)(la.a,{children:["Save chapter ",i.name?'"'.concat(i.name,'"'):null]}),Object(g.jsx)(da.a,{children:l?Object(g.jsx)(S.a,{}):Object(g.jsx)(dr.a,{children:"Are you sure you would like to save the chapter?"})}),Object(g.jsxs)(ja.a,{children:[Object(g.jsx)(C.a,{color:"primary",variant:"contained",onClick:function(){h()},disabled:l,children:"Cancel"}),Object(g.jsx)(C.a,{color:"primary",variant:"contained",startIcon:Object(g.jsx)(Ur.a,{}),onClick:function(){u()},disabled:l,children:"Save"})]})]}):null})};ui.defaultProps={appState:{},setParentAlert:function(){},isTemplate:{},chapter:{},chapterID:{},saveChapterDialog:{},setSaveChapterDialog:function(){},saveChapterDialogExecuting:{},setSaveChapterDialogExecuting:function(){}};var bi=ui,pi=(a(161),a(162),a(163),a(133)),Oi=a(87),mi=a(196),xi=(a(295),a(177)),fi=a.n(xi),gi=Object(ot.a)((function(e){return{root:{flexGrow:1,height:"100%"},rootGrid:{height:"100%"},FormControlLabel:{marginLeft:"1rem",marginRight:"1rem"}}})),yi={showLogicTab:!0,showToolbox:"left",showPropertyGrid:"right"},vi="surveyCreatorContainer";mi.StylesManager.applyTheme("default"),Oi.nouislider(pi),Oi.bootstrapslider(pi);var Ci=function(e){var t=gi(),a=Object(r.useRef)(null),n=e.appState,i=e.ChapterID,s=e.ToggleDrawerClose,o=e.CheckAuthenticationValidity,c=Object(r.useState)(null),l=Object(nt.a)(c,2),d=l[0],j=l[1],h=Object(r.useState)(null),u=Object(nt.a)(h,2),p=u[0],O=u[1],m=Object(r.useState)(!0),x=Object(nt.a)(m,2),y=x[0],v=x[1],w=Object(r.useState)(!1),k=Object(nt.a)(w,2),D=k[0],_=k[1],P=Object(r.useState)(!1),I=Object(nt.a)(P,2),A=I[0],B=I[1],N=Object(r.useState)(!1),L=Object(nt.a)(N,2),E=L[0],U=L[1],F=Object(r.useState)(!1),W=Object(nt.a)(F,2),R=W[0],Q=W[1],H=Object(r.useState)(new st),J=Object(nt.a)(H,2),Y=J[0],q=J[1],G=Object(r.useCallback)((function(){null!=i?b("surveys/"+i,n.token,(function(e,t){e?q(new st("Unable to retrieve User Chapters. Please refresh and try again.","error")):200===t.status||304===t.status?(v(!0),j(t.data.survey)):q(new st("Unable to retrieve User Chapters. Please refresh and try again.","error"))})):q(new st("Unable to retrieve User Chapters. Please refresh and try again.","error"))}),[i,n]),$=Object(r.useCallback)((function(e){O(Object(T.a)(Object(T.a)({},p),{},{name:e.target.value}))}),[p]),Z=Object(r.useCallback)((function(){U(!0)}),[]),K=Object(r.useCallback)((function(){O(Object(T.a)(Object(T.a)({},p),{},{surveyJSON:JSON.stringify(a.current.text)})),_(!0)}),[p]),X=Object(r.useCallback)((function(){j(Object(T.a)(Object(T.a)({},d),{},{name:d.name})),q(new st("Successfully restored back to previous saved state. You can continue editing if you wish.","success"))}),[d]),ee=Object(r.useCallback)((function(e){O(Object(T.a)(Object(T.a)({},p),{},{isPublic:e.target.checked}))}),[p]);return Object(r.useEffect)((function(){s(),setTimeout((function(){o((function(e){e?(a.current=new mi.SurveyCreator(vi,yi),G()):q(null)}))}),200)}),[]),Object(r.useEffect)((function(){d&&(O(Object(T.a)({},d)),""!==d.surveyJSON?a.current.text=JSON.parse(d.surveyJSON):a.current.text=JSON.parse(null),v(!1))}),[d]),null!=Y?Object(g.jsxs)("div",{className:t.root,children:[Object(g.jsxs)(Be.a,{container:!0,className:t.rootGrid,direction:"row",justifyContent:"flex-start",alignItems:"stretch",spacing:1,children:[Object(g.jsx)(Be.a,{item:!0,xs:5,children:Object(g.jsx)(Ne.a,{mx:1,my:1,children:Object(g.jsxs)(Be.a,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"stretch",spacing:1,children:[Object(g.jsx)(Be.a,{item:!0,children:Object(g.jsx)(fe.a,{component:M.b,to:"/administration/booklets/management",children:Object(g.jsx)(et.a,{})})}),Object(g.jsx)(Be.a,{item:!0,xs:!0,children:Object(g.jsxs)(f.a,{variant:"h4",color:"inherit",align:"left",gutterBottom:!0,children:["Editing ",d?'"'.concat(d.name,'"'):null]})})]})})}),Object(g.jsx)(Be.a,{item:!0,xs:6,children:Object(g.jsx)(Ne.a,{mx:1,my:1,children:Object(g.jsx)(jt,{alert:Y,setParentAlert:q})})}),Object(g.jsx)(Be.a,{item:!0,xs:12,children:Object(g.jsx)(Le.a,{raised:!0,children:Object(g.jsx)(Ne.a,{mx:2,my:1,boxShadow:0,children:Object(g.jsxs)(Be.a,{container:!0,direction:"column",justifyContent:"flex-start",alignItems:"stretch",spacing:1,children:[p?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)(Be.a,{item:!0,xs:12,container:!0,direction:"row",justifyContent:"space-between",alignItems:"stretch",spacing:1,children:[Object(g.jsxs)(Be.a,{item:!0,children:[Object(g.jsx)(f.a,{variant:"h6",component:"h6",children:"Chapter Template Properties"}),Object(g.jsx)(V.a,{})]}),Object(g.jsx)(Be.a,{item:!0,xs:!0,children:Object(g.jsx)(Ne.a,{mx:3,my:1,boxShadow:0,children:Object(g.jsxs)(Be.a,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"stretch",spacing:1,children:[Object(g.jsx)(Be.a,{item:!0,children:Object(g.jsx)(Ve.a,{placement:"bottom",title:"View Chapter",children:Object(g.jsx)(C.a,{size:"small",variant:"contained",color:"secondary",startIcon:Object(g.jsx)(Zt.a,{}),component:M.b,to:"/administration/booklets/template/view/".concat(i),children:"View"})})}),Object(g.jsx)(Be.a,{item:!0,children:Object(g.jsx)(Ve.a,{placement:"bottom",title:"Refresh Online Chapter",children:Object(g.jsx)(C.a,{size:"small",variant:"contained",color:"primary",startIcon:Object(g.jsx)(ar.a,{}),onClick:function(){Z()},children:"Refresh"})})}),Object(g.jsx)(Be.a,{item:!0,children:Object(g.jsx)(Ve.a,{placement:"bottom",title:"Restore Chapter Progress",children:Object(g.jsx)(C.a,{size:"small",variant:"contained",color:"primary",startIcon:Object(g.jsx)(fi.a,{}),onClick:function(){X()},children:"Restore"})})}),Object(g.jsx)(Be.a,{item:!0,children:Object(g.jsx)(Ve.a,{placement:"bottom",title:"Save Chapter Progress",children:Object(g.jsx)(C.a,{size:"small",variant:"contained",color:"primary",disabled:""===p.name,startIcon:Object(g.jsx)(Ur.a,{}),onClick:function(){K()},children:"Save"})})}),Object(g.jsx)(Be.a,{item:!0,children:Object(g.jsx)(Ga.a,{className:t.FormControlLabel,control:Object(g.jsx)($a.a,{checked:p.isPublic,onChange:function(e){ee(e)}}),label:p.isPublic?"Public":"Not Public",labelPlacement:"end"})})]})})}),Object(g.jsx)(Be.a,{item:!0,children:Object(g.jsx)(Ve.a,{placement:"left",title:"Use this page to edit your chapter. Any information that a patient has answered in a previous chapter version along with the questions they answered will still exist. Only NEW chapters will be affected.",children:Object(g.jsx)(fe.a,{children:Object(g.jsx)(Ka.a,{})})})})]}),Object(g.jsx)(Be.a,{item:!0,xs:12,children:Object(g.jsx)(Ne.a,{mx:1,my:1,boxShadow:0,children:Object(g.jsxs)(Be.a,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"stretch",spacing:1,children:[Object(g.jsx)(Be.a,{item:!0,xs:4,children:Object(g.jsx)(ba.a,{label:"Chapter Name",size:"small",variant:"filled",error:""===p.name,fullWidth:!0,value:p.name?p.name:"",onChange:function(e){$(e)}})}),Object(g.jsx)(Be.a,{item:!0,xs:2,children:Object(g.jsx)(ba.a,{label:"Updated",disabled:!0,size:"small",fullWidth:!0,variant:"filled",value:new Date(d.updatedAt).toLocaleString(),InputProps:{readOnly:!0}})}),Object(g.jsx)(Be.a,{item:!0,xs:2,children:Object(g.jsx)(ba.a,{label:"Updated By",disabled:!0,size:"small",fullWidth:!0,variant:"filled",value:d.modifiedBy,InputProps:{readOnly:!0}})}),Object(g.jsx)(Be.a,{item:!0,xs:2,children:Object(g.jsx)(ba.a,{label:"Created",disabled:!0,size:"small",fullWidth:!0,variant:"filled",value:new Date(d.createdAt).toLocaleString(),InputProps:{readOnly:!0}})}),Object(g.jsx)(Be.a,{item:!0,xs:2,children:Object(g.jsx)(ba.a,{label:"Created By",disabled:!0,size:"small",fullWidth:!0,variant:"filled",value:d.createdBy,InputProps:{readOnly:!0}})})]})})}),Object(g.jsx)(Be.a,{item:!0,xs:12,container:!0,direction:"row",justifyContent:"space-between",alignItems:"stretch",spacing:1,children:Object(g.jsxs)(Be.a,{item:!0,children:[Object(g.jsx)(f.a,{variant:"h6",component:"h6",className:t.button,children:"Chapter Survey"}),Object(g.jsx)(V.a,{})]})})]}):Object(g.jsx)(Be.a,{item:!0,xs:12,container:!0,direction:"row",justifyContent:"center",alignItems:"stretch",spacing:1,children:Object(g.jsx)(Be.a,{item:!0,children:Object(g.jsx)(Ne.a,{mx:1,my:1,boxShadow:0,children:Object(g.jsx)(S.a,{})})})}),Object(g.jsx)(Be.a,{item:!0,xs:12,children:Object(g.jsx)(Ne.a,{mx:1,my:1,boxShadow:0,children:Object(g.jsx)(z.a,{in:!y,children:Object(g.jsx)("div",{id:vi})})})})]})})})})]}),Object(g.jsx)(bi,{saveChapterDialog:D,setSaveChapterDialog:_,saveChapterDialogExecuting:A,setSaveChapterDialogExecuting:B,setParentAlert:q,appState:n,isTemplate:!0,chapter:p,chapterID:i}),Object(g.jsx)(ji,{chapter:d,setParentAlert:q,setParentLoadChapter:G,pullChapterDialog:E,setPullChapterDialog:U,pullChapterDialogExecuting:R,setPullChapterDialogExecuting:Q})]}):Object(g.jsx)(f.a,{variant:"h6",color:"inherit",align:"center",gutterBottom:!0,children:"Not Authorized. Please refresh and try again."})};Ci.defaultProps={appState:{},ChapterID:{},ToggleDrawerClose:function(){},CheckAuthenticationValidity:function(){}};var Si=Ci,wi=a(50),ki=a.n(wi);tt.StylesManager.applyTheme("default"),Oi.nouislider(tt),Oi.bootstrapslider(tt);var Di=Object(ot.a)((function(e){return{root:{flexGrow:1,height:"100%"},rootGrid:{height:"100%"}}})),_i=function(e){var t=Di(),a=e.appState,n=e.ChapterID,i=e.ToggleDrawerClose,s=e.CheckAuthenticationValidity,o=Object(r.useState)(null),c=Object(nt.a)(o,2),l=c[0],d=c[1],j=Object(r.useState)(null),h=Object(nt.a)(j,2),u=h[0],p=h[1],O=Object(r.useState)(!0),m=Object(nt.a)(O,2),x=m[0],y=m[1],v=Object(r.useState)(new st),w=Object(nt.a)(v,2),k=w[0],D=w[1],_=Object(r.useCallback)((function(){null!=n?b("surveys/"+n,a.token,(function(e,t){e?D(new st("Unable to retrieve User Chapters. Please refresh and try again.","error")):200===t.status||304===t.status?(y(!0),d(t.data.survey)):D(new st("Unable to retrieve User Chapters. Please refresh and try again.","error"))})):D(new st("Unable to retrieve User Chapters. Please refresh and try again.","error"))}),[n,a]);return Object(r.useEffect)((function(){i(),setTimeout((function(){s((function(e){e?_():D(null)}))}),200)}),[]),Object(r.useEffect)((function(){l&&(""!==l.surveyJSON?p(JSON.parse(l.surveyJSON)):(p(null),D(new st("Chapter survey is empty. Please go to the Edit page to add content to it.","info"))),y(!1))}),[l]),null!=k?Object(g.jsx)("div",{className:t.root,children:Object(g.jsxs)(Be.a,{container:!0,className:t.rootGrid,direction:"row",justifyContent:"flex-start",alignItems:"stretch",spacing:1,children:[Object(g.jsx)(Be.a,{item:!0,xs:5,children:Object(g.jsx)(Ne.a,{mx:1,my:1,children:Object(g.jsxs)(Be.a,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"stretch",spacing:1,children:[Object(g.jsx)(Be.a,{item:!0,children:Object(g.jsx)(fe.a,{component:M.b,to:"/administration/booklets/management",children:Object(g.jsx)(et.a,{})})}),Object(g.jsx)(Be.a,{item:!0,xs:!0,children:Object(g.jsxs)(f.a,{variant:"h4",color:"inherit",align:"left",gutterBottom:!0,children:["Viewing ",l?'"'.concat(l.name,'"'):null]})})]})})}),Object(g.jsx)(Be.a,{item:!0,xs:6,children:Object(g.jsx)(Ne.a,{mx:1,my:1,children:Object(g.jsx)(jt,{alert:k,setParentAlert:D})})}),Object(g.jsx)(Be.a,{item:!0,xs:12,children:Object(g.jsx)(Le.a,{raised:!0,children:Object(g.jsx)(Ne.a,{mx:2,my:1,boxShadow:0,children:Object(g.jsxs)(Be.a,{container:!0,direction:"column",justifyContent:"flex-start",alignItems:"stretch",spacing:1,children:[l?Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)(Be.a,{item:!0,xs:12,container:!0,direction:"row",justifyContent:"space-between",alignItems:"stretch",spacing:1,children:[Object(g.jsxs)(Be.a,{item:!0,children:[Object(g.jsx)(f.a,{variant:"h6",component:"h6",children:"View Chapter Template"}),Object(g.jsx)(V.a,{})]}),Object(g.jsx)(Be.a,{item:!0,xs:!0,children:Object(g.jsx)(Ne.a,{mx:3,my:1,boxShadow:0,children:Object(g.jsx)(Be.a,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"stretch",spacing:1,children:Object(g.jsx)(Be.a,{item:!0,children:Object(g.jsx)(Ve.a,{placement:"bottom",title:"Edit Chapter",children:Object(g.jsx)(C.a,{size:"small",variant:"contained",color:"secondary",startIcon:Object(g.jsx)(ki.a,{}),component:M.b,to:"/administration/booklets/template/edit/".concat(n),children:"Edit"})})})})})}),Object(g.jsx)(Be.a,{item:!0,children:Object(g.jsx)(Ve.a,{placement:"left",title:"This page is to view the selected chapter. The chapter here will be in READ-ONLY mode. If you need to test your chapter, please navigate to the 'Edit' page from the management page.",children:Object(g.jsx)(fe.a,{children:Object(g.jsx)(Ka.a,{})})})})]})}):Object(g.jsx)(Be.a,{item:!0,xs:12,container:!0,direction:"row",justifyContent:"center",alignItems:"stretch",spacing:1,children:Object(g.jsx)(Be.a,{item:!0,children:Object(g.jsx)(Ne.a,{mx:1,my:1,boxShadow:0,children:Object(g.jsx)(S.a,{})})})}),Object(g.jsx)(Be.a,{item:!0,xs:12,children:Object(g.jsx)(Ne.a,{mx:1,my:1,boxShadow:0,children:Object(g.jsx)(z.a,{in:!x,children:null!=u?Object(g.jsx)(tt.Survey,{id:"surveyCreatorContainer",json:u,mode:"display"}):null})})})]})})})})]})}):Object(g.jsx)(f.a,{variant:"h6",color:"inherit",align:"center",gutterBottom:!0,children:"Not Authorized. Please refresh and try again."})};_i.defaultProps={appState:{},ChapterID:{},ToggleDrawerClose:function(){},CheckAuthenticationValidity:function(){}};var Pi=_i,Ii=a(237),Ai=a.n(Ii);tt.StylesManager.applyTheme("default");var Bi=Object(ot.a)((function(e){return{root:{flexGrow:1,height:"100%"},rootGrid:{height:"100%"},FormControlLabel:{marginLeft:"1rem",marginRight:"1rem"}}})),Ni=function(e){var t=Bi(),a=e.appState,n=e.ChapterID,i=e.ToggleDrawerClose,s=e.CheckAuthenticationValidity,o=e.mode,c=Object(r.useState)(null),l=Object(nt.a)(c,2),d=l[0],j=l[1],h=Object(r.useState)(null),u=Object(nt.a)(h,2),p=u[0],O=u[1],m=Object(r.useState)(!0),x=Object(nt.a)(m,2),y=x[0],v=x[1],w=Object(r.useRef)(null),k=Object(r.useState)(!1),D=Object(nt.a)(k,2),_=D[0],P=D[1],I=Object(r.useState)(!1),A=Object(nt.a)(I,2),B=A[0],N=A[1],L=Object(r.useState)(!1),E=Object(nt.a)(L,2),U=E[0],F=E[1],W=Object(r.useState)(!1),R=Object(nt.a)(W,2),Q=R[0],H=R[1],J=Object(r.useState)(!1),Y=Object(nt.a)(J,2),q=Y[0],G=Y[1],$=Object(r.useState)(new st),Z=Object(nt.a)($,2),K=Z[0],X=Z[1],ee=Object(r.useCallback)((function(){null!=n?b("membersurveys/"+n,a.token,(function(e,t){e?X(new st("Unable to retrieve User Chapter. Please refresh and try again.","error")):200===t.status||304===t.status?(v(!0),j(t.data.memberSurvey)):X(new st("Unable to retrieve User Chapter. Please refresh and try again.","error"))})):X(new st("Unable to retrieve User Chapter. Please refresh and try again.","error"))}),[n,a]),te=Object(r.useCallback)((function(e){p&&(w.current.hasErrors()||O(Object(T.a)(Object(T.a)({},p),{},{completeStatus:qe(w.current),responseJSON:JSON.stringify(e.data)})))}),[p]),ae=Object(r.useCallback)((function(e){p&&(w.current.hasPageErrors()||O(Object(T.a)(Object(T.a)({},p),{},{responseJSON:JSON.stringify(e.data)})))}),[p]),re=Object(r.useCallback)((function(){H(!0)}),[]),ne=Object(r.useCallback)((function(){O(d),w.current.clear(),w.current.mergeData(JSON.parse(d.responseJSON)),w.current.render(),X(new st("Restored chapter back to previous saved state. You can continue editing if you wish.","info"))}),[d]),ie=Object(r.useCallback)((function(){w.current.clear(),w.current.mergeData(JSON.parse(p.responseJSON)),w.current.render(),X(new st("Restarted chapter survey to most recently completed page. You can continue to modify if you wish.","info"))}),[p]),se=Object(r.useCallback)((function(){null!=p&&N(!0)}),[p]),oe=Object(r.useCallback)((function(e){O(Object(T.a)(Object(T.a)({},p),{},{approved:e.target.checked}))}),[p]),ce=Object(r.useCallback)((function(){p.responseJSON!==d.responseJSON||p.approved!==d.approved?P(!0):P(!1)}),[d,p]);return Object(r.useEffect)((function(){i(),setTimeout((function(){s((function(e){e?ee():X(null)}))}),200)}),[]),Object(r.useEffect)((function(){if(d){if(O(Object(T.a)({},d)),""!==d.surveyJSON){var e=JSON.parse(d.surveyJSON),t=JSON.parse(d.responseJSON),a=new tt.Model(e);a.data=t,a.showProgressBar="top",a.sendResultOnPageNext=!0,w.current=a}else w.current=null,X(new st("Chapter survey is empty.","info"));v(!1)}}),[d]),Object(r.useEffect)((function(){p&&ce()}),[p,ce]),null!=K?Object(g.jsxs)("div",{className:t.root,children:[Object(g.jsxs)(Be.a,{container:!0,className:t.rootGrid,direction:"row",justifyContent:"flex-start",alignItems:"stretch",spacing:1,children:[Object(g.jsx)(Be.a,{item:!0,xs:5,children:Object(g.jsx)(Ne.a,{mx:1,my:1,children:Object(g.jsx)(Be.a,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"stretch",spacing:1,children:Object(g.jsx)(Be.a,{item:!0,xs:!0,children:Object(g.jsxs)(f.a,{variant:"h4",color:"inherit",align:"left",gutterBottom:!0,children:["Filling in ",d?'"'.concat(d.name,'"'):null]})})})})}),Object(g.jsx)(Be.a,{item:!0,xs:6,children:Object(g.jsx)(Ne.a,{mx:1,my:1,children:Object(g.jsx)(jt,{alert:K,setParentAlert:X})})}),Object(g.jsx)(Be.a,{item:!0,xs:12,children:Object(g.jsx)(Le.a,{raised:!0,children:Object(g.jsx)(Ne.a,{mx:2,my:1,boxShadow:0,children:Object(g.jsxs)(Be.a,{container:!0,direction:"column",justifyContent:"flex-start",alignItems:"stretch",spacing:1,children:[p?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)(Be.a,{item:!0,xs:12,container:!0,direction:"row",justifyContent:"space-between",alignItems:"stretch",spacing:1,children:[Object(g.jsxs)(Be.a,{item:!0,children:[Object(g.jsx)(f.a,{variant:"h6",component:"h6",children:"Chapter Properties"}),Object(g.jsx)(V.a,{})]}),Object(g.jsx)(Be.a,{item:!0,xs:!0,children:Object(g.jsx)(Ne.a,{mx:3,my:1,boxShadow:0,children:Object(g.jsxs)(Be.a,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"center",spacing:1,children:[Object(g.jsx)(Be.a,{item:!0,children:Object(g.jsx)(Ve.a,{placement:"bottom",title:"View Chapter",children:"Admin"===o?Object(g.jsx)(C.a,{size:"small",variant:"contained",color:"secondary",startIcon:Object(g.jsx)(Zt.a,{}),component:M.b,to:"/administration/booklets/user/view/".concat(n),children:"View"}):Object(g.jsx)(g.Fragment,{})})}),Object(g.jsx)(Be.a,{item:!0,children:Object(g.jsx)(Ve.a,{placement:"bottom",title:"Refresh Online Chapter",children:Object(g.jsx)(C.a,{size:"small",variant:"contained",color:"primary",startIcon:Object(g.jsx)(ar.a,{}),onClick:function(){re()},children:"Refresh"})})}),Object(g.jsx)(Be.a,{item:!0,children:Object(g.jsx)(Ve.a,{placement:"bottom",title:"Restore Chapter",children:Object(g.jsx)(C.a,{size:"small",variant:"contained",color:"primary",startIcon:Object(g.jsx)(fi.a,{}),onClick:function(){ne()},children:"Restore"})})}),Object(g.jsx)(Be.a,{item:!0,children:Object(g.jsx)(Ve.a,{placement:"bottom",title:"Restart Survey Progress",children:Object(g.jsx)(C.a,{size:"small",variant:"contained",color:"primary",startIcon:Object(g.jsx)(Ai.a,{}),onClick:function(){ie()},children:"Restart"})})}),Object(g.jsx)(Be.a,{item:!0,children:_?Object(g.jsx)(Ve.a,{placement:"bottom",title:"Save Chapter",children:Object(g.jsx)(C.a,{size:"small",variant:"contained",color:"primary",startIcon:Object(g.jsx)(Ur.a,{}),disabled:!_,onClick:function(){se()},children:"Save"})}):Object(g.jsx)(C.a,{size:"small",variant:"contained",color:"primary",startIcon:Object(g.jsx)(Ur.a,{}),disabled:!_,onClick:function(){se()},children:"Save"})}),Object(g.jsx)(Be.a,{item:!0,children:Object(g.jsx)(Ga.a,{className:t.FormControlLabel,control:Object(g.jsx)($a.a,{checked:p.approved,onChange:function(e){oe(e)}}),label:p.approved?"Approved":"Not Approved",labelPlacement:"end"})})]})})}),Object(g.jsx)(Be.a,{item:!0,children:Object(g.jsx)(Ve.a,{placement:"left",title:"Use this page to Fill in your chapter. Any information that a patient has answered in a previous chapter version along with the questions they answered will still exist. Only NEW chapters will be affected.",children:Object(g.jsx)(fe.a,{children:Object(g.jsx)(Ka.a,{})})})})]}),Object(g.jsx)(Be.a,{item:!0,xs:12,children:Object(g.jsx)(Ne.a,{mx:1,my:1,boxShadow:0,children:Object(g.jsxs)(Be.a,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"stretch",spacing:1,children:[Object(g.jsx)(Be.a,{item:!0,xs:3,children:Object(g.jsx)(ba.a,{label:"Name",disabled:!0,size:"small",fullWidth:!0,variant:"filled",value:d.name,InputProps:{readOnly:!0}})}),Object(g.jsx)(Be.a,{item:!0,xs:1,children:Object(g.jsx)(ba.a,{label:"Version",disabled:!0,size:"small",fullWidth:!0,variant:"filled",value:d.__v,InputProps:{readOnly:!0}})}),Object(g.jsx)(Be.a,{item:!0,xs:2,children:Object(g.jsx)(ba.a,{label:"Updated",disabled:!0,size:"small",fullWidth:!0,variant:"filled",value:new Date(d.updatedAt).toLocaleString(),InputProps:{readOnly:!0}})}),Object(g.jsx)(Be.a,{item:!0,xs:2,children:Object(g.jsx)(ba.a,{label:"Updated By",disabled:!0,size:"small",fullWidth:!0,variant:"filled",value:d.modifiedBy,InputProps:{readOnly:!0}})}),Object(g.jsx)(Be.a,{item:!0,xs:2,children:Object(g.jsx)(ba.a,{label:"Created",disabled:!0,size:"small",fullWidth:!0,variant:"filled",value:new Date(d.createdAt).toLocaleString(),InputProps:{readOnly:!0}})}),Object(g.jsx)(Be.a,{item:!0,xs:2,children:Object(g.jsx)(ba.a,{label:"Created By",disabled:!0,size:"small",fullWidth:!0,variant:"filled",value:d.createdBy,InputProps:{readOnly:!0}})})]})})}),Object(g.jsx)(Be.a,{item:!0,xs:12,container:!0,direction:"row",justifyContent:"space-between",alignItems:"stretch",spacing:1,children:Object(g.jsxs)(Be.a,{item:!0,children:[Object(g.jsx)(f.a,{variant:"h6",component:"h6",className:t.button,children:"Chapter Survey"}),Object(g.jsx)(V.a,{})]})})]}):Object(g.jsx)(Be.a,{item:!0,xs:12,container:!0,direction:"row",justifyContent:"center",alignItems:"stretch",spacing:1,children:Object(g.jsx)(Be.a,{item:!0,children:Object(g.jsx)(Ne.a,{mx:1,my:1,boxShadow:0,children:Object(g.jsx)(S.a,{})})})}),Object(g.jsx)(Be.a,{item:!0,xs:12,children:Object(g.jsx)(Ne.a,{mx:1,my:1,boxShadow:0,children:Object(g.jsx)(z.a,{in:!y,children:null!=w.current?Object(g.jsx)(tt.Survey,{id:"surveyCreatorContainer",model:w.current,onComplete:function(e){te(e)},onCurrentPageChanged:function(e){ae(e)},onValueChanged:function(e,t){!function(e,t){p.responseJSON!=JSON.stringify(e.data)?P(!0):P(!1),O(Object(T.a)(Object(T.a)({},p),{},{completeStatus:qe(w.current),responseJSON:JSON.stringify(e.data)}))}(e)}}):null})})})]})})})})]}),Object(g.jsx)(bi,{saveChapterDialog:B,setSaveChapterDialog:N,saveChapterDialogExecuting:U,setSaveChapterDialogExecuting:F,setParentAlert:X,appState:a,isTemplate:!1,chapter:p,chapterID:n}),Object(g.jsx)(ji,{chapter:d,setParentAlert:X,setParentLoadChapter:ee,pullChapterDialog:Q,setPullChapterDialog:H,pullChapterDialogExecuting:q,setPullChapterDialogExecuting:G})]}):Object(g.jsx)(f.a,{variant:"h6",color:"inherit",align:"center",gutterBottom:!0,children:"Not Authorized. Please refresh and try again."})};Ni.defaultProps={appState:{},ChapterID:{},ToggleDrawerClose:function(){},CheckAuthenticationValidity:function(){},mode:null};var Li=Ni,Ei=Object(ot.a)((function(e){return{root:{flexGrow:1,height:"100%"},rootGrid:{height:"100%"}}})),Ui="default";tt.StylesManager.applyTheme(Ui),Oi.nouislider(tt),Oi.bootstrapslider(tt);var Ti=function(e){var t=Ei(),a=e.appState,n=e.ChapterID,i=e.ToggleDrawerClose,s=e.CheckAuthenticationValidity,o=Object(r.useState)(null),c=Object(nt.a)(o,2),l=c[0],d=c[1],j=Object(r.useState)(null),h=Object(nt.a)(j,2),u=h[0],p=h[1],O=Object(r.useState)(!0),m=Object(nt.a)(O,2),x=m[0],y=m[1],v=Object(r.useState)(new st),w=Object(nt.a)(v,2),k=w[0],D=w[1],_=Object(r.useCallback)((function(){null!=n?b("membersurveys/"+n,a.token,(function(e,t){e?D(new st("Unable to retrieve User Chapters. Please refresh and try again.","error")):200===t.status||304===t.status?(y(!0),d(t.data.memberSurvey)):D(new st("Unable to retrieve User Chapters. Please refresh and try again.","error"))})):D(new st("Unable to retrieve User Chapters. Please refresh and try again.","error"))}),[n,a]);return Object(r.useEffect)((function(){i(),setTimeout((function(){s((function(e){e?(tt.StylesManager.applyTheme(Ui),_()):D(null)}))}),200)}),[]),Object(r.useEffect)((function(){if(l)try{var e=JSON.parse(l.surveyJSON),t=JSON.parse(l.responseJSON),a=new tt.Model(e);a.data=t,p(a),y(!1),D(new st("Successfully pulled survey. Please go to the Edit page to add content to it.","success"))}catch(r){D(new st("Chapter survey is empty. Please go to the Edit page to add content to it.","error"))}else p(null)}),[l]),null!=k?Object(g.jsx)("div",{className:t.root,children:Object(g.jsxs)(Be.a,{container:!0,className:t.rootGrid,direction:"row",justifyContent:"flex-start",alignItems:"stretch",spacing:1,children:[Object(g.jsx)(Be.a,{item:!0,xs:5,children:Object(g.jsx)(Ne.a,{mx:1,my:1,children:Object(g.jsx)(Be.a,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"stretch",spacing:1,children:Object(g.jsx)(Be.a,{item:!0,xs:!0,children:Object(g.jsxs)(f.a,{variant:"h4",color:"inherit",align:"left",gutterBottom:!0,children:["Viewing ",l?'"'.concat(l.name,'"'):null]})})})})}),Object(g.jsx)(Be.a,{item:!0,xs:6,children:Object(g.jsx)(Ne.a,{mx:1,my:1,children:Object(g.jsx)(jt,{alert:k,setParentAlert:D})})}),Object(g.jsx)(Be.a,{item:!0,xs:12,children:Object(g.jsx)(Le.a,{raised:!0,children:Object(g.jsx)(Ne.a,{mx:2,my:1,boxShadow:0,children:Object(g.jsxs)(Be.a,{container:!0,direction:"column",justifyContent:"flex-start",alignItems:"stretch",spacing:1,children:[l?Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)(Be.a,{item:!0,xs:12,container:!0,direction:"row",justifyContent:"space-between",alignItems:"stretch",spacing:1,children:[Object(g.jsxs)(Be.a,{item:!0,children:[Object(g.jsx)(f.a,{variant:"h6",component:"h6",children:"View User Chapter"}),Object(g.jsx)(V.a,{})]}),Object(g.jsx)(Be.a,{item:!0,xs:!0,children:Object(g.jsx)(Ne.a,{mx:3,my:1,boxShadow:0,children:Object(g.jsx)(Be.a,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"stretch",spacing:1,children:Object(g.jsx)(Be.a,{item:!0,children:Object(g.jsx)(Ve.a,{placement:"bottom",title:"Edit Chapter",children:Object(g.jsx)(C.a,{size:"small",variant:"contained",color:"secondary",startIcon:Object(g.jsx)(ki.a,{}),component:M.b,to:"/administration/booklets/user/edit/".concat(n),children:"Edit"})})})})})}),Object(g.jsx)(Be.a,{item:!0,children:Object(g.jsx)(Ve.a,{placement:"left",title:"This page is to view the selected chapter. The chapter here will be in READ-ONLY mode. If you need to test your chapter, please navigate to the 'Edit' page from the management page.",children:Object(g.jsx)(fe.a,{children:Object(g.jsx)(Ka.a,{})})})})]})}):Object(g.jsx)(Be.a,{item:!0,xs:12,container:!0,direction:"row",justifyContent:"center",alignItems:"stretch",spacing:1,children:Object(g.jsx)(Be.a,{item:!0,children:Object(g.jsx)(Ne.a,{mx:1,my:1,boxShadow:0,children:Object(g.jsx)(S.a,{})})})}),Object(g.jsx)(Be.a,{item:!0,xs:12,children:Object(g.jsx)(Ne.a,{mx:1,my:1,boxShadow:0,children:Object(g.jsx)(z.a,{in:!x,children:null!=u?Object(g.jsx)(tt.Survey,{id:"surveyCreatorContainer",model:u,mode:"display"}):null})})})]})})})})]})}):Object(g.jsx)(f.a,{variant:"h6",color:"inherit",align:"center",gutterBottom:!0,children:"Not Authorized. Please refresh and try again."})};Ti.defaultProps={appState:{},ChapterID:{},ToggleDrawerClose:function(){},CheckAuthenticationValidity:function(){}};var Mi=Ti,Fi=a(165),Wi=a.n(Fi),Ri=a(166),Vi=a.n(Ri),Qi=Object(ot.a)((function(e){return{root:{flexGrow:1,height:"100%"},rootGrid:{height:"100%"}}})),zi=[{key:"Name",value:"name",display:"Name"},{key:"CollectionId",value:"collectionId",display:"Collection ID"},{key:"PatientName",value:"patientName",display:"Patient Name"},{key:"PatientId",value:"patientId",display:"Patient ID"}],Hi=function(e){Qi();var t=e.setParentAlert,a=e.isDense,n=e.setIsDense,i=e.isTemplates,s=e.setIsTemplates,o=e.dataList,c=e.getParentData,l=e.setSearchFilteredDataList,d=e.setCreateChapterTemplateDialog,j=e.setCreateChapterUserDialog,h=Object(r.useState)(zi[0].value),u=Object(nt.a)(h,2),b=u[0],p=u[1],O=Object(r.useState)(""),m=Object(nt.a)(O,2),x=m[0],y=m[1],v=Object(r.useCallback)((function(){try{c(),t(new st("Refreshed initiated...","info"))}catch(e){}}),[c,t]),S=Object(r.useCallback)((function(){d(!0)}),[d]),w=Object(r.useCallback)((function(){j(!0)}),[j]),D=Object(r.useCallback)((function(e){n(e.target.checked)}),[n]),P=Object(r.useCallback)((function(){s(!0),p(zi[0].value)}),[s]),I=Object(r.useCallback)((function(){s(!1),p(zi[0].value)}),[s]),A=Object(r.useCallback)((function(e){y(""),p(e.target.value)}),[p]),B=Object(r.useCallback)((function(e){var t=e.target.value.toUpperCase(),a=[];o.forEach((function(e){switch(b){case"name":e.name.toUpperCase().indexOf(t)>-1&&a.push(e);break;case"collectionId":e.collectionId.toUpperCase().indexOf(t)>-1&&a.push(e);break;case"patientId":e.patientId.toUpperCase().indexOf(t)>-1&&a.push(e);break;case"patientName":e.patientName.toUpperCase().indexOf(t)>-1&&a.push(e)}})),y(e.target.value),l(a)}),[o,l,b]);return Object(r.useEffect)((function(){y("")}),[o]),Object(r.useEffect)((function(){""===x&&l(o)}),[p,x]),Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(Ne.a,{mx:2,my:1,boxShadow:0,children:Object(g.jsxs)(Be.a,{container:!0,direction:"column",justifyContent:"flex-start",alignItems:"stretch",spacing:1,children:[Object(g.jsxs)(Be.a,{item:!0,xs:12,container:!0,direction:"row",justifyContent:"space-between",alignItems:"stretch",spacing:1,children:[Object(g.jsxs)(Be.a,{item:!0,children:[Object(g.jsx)(f.a,{variant:"h6",component:"h6",children:"Manage"}),Object(g.jsx)(V.a,{})]}),Object(g.jsx)(Be.a,{item:!0,xs:!0,children:Object(g.jsx)(Ne.a,{mx:3,my:1,boxShadow:0,children:Object(g.jsxs)(Be.a,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"center",spacing:1,children:[Object(g.jsx)(Be.a,{item:!0,children:Object(g.jsxs)(Or.a,{size:"small",variant:"contained",color:"secondary",children:[Object(g.jsx)(C.a,{startIcon:Object(g.jsx)(Wi.a,{}),disabled:i,onClick:function(){P()},children:"Chapter Templates"}),Object(g.jsx)(C.a,{startIcon:Object(g.jsx)(Vi.a,{}),disabled:!i,onClick:function(){I()},children:"User Chapters"})]})}),Object(g.jsx)(Be.a,{item:!0,children:Object(g.jsx)(Ve.a,{placement:"bottom",title:"Refresh Online Chapters",children:Object(g.jsx)(C.a,{size:"small",variant:"contained",color:"primary",startIcon:Object(g.jsx)(ar.a,{}),onClick:function(){v()},children:"Refresh"})})}),i?Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(Be.a,{item:!0,children:Object(g.jsx)(Ve.a,{placement:"bottom",title:"Create Chapter Template",children:Object(g.jsx)(C.a,{size:"small",variant:"contained",color:"primary",disabled:!i,startIcon:Object(g.jsx)(er.a,{}),onClick:function(){S()},children:"Create Template"})})})}):Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(Be.a,{item:!0,children:Object(g.jsx)(Ve.a,{placement:"bottom",title:"Start User Chapter",children:Object(g.jsx)(C.a,{size:"small",variant:"contained",color:"primary",disabled:i,startIcon:Object(g.jsx)(er.a,{}),onClick:function(){w()},children:"Start User Chapter"})})})})]})})}),Object(g.jsx)(Be.a,{item:!0,children:Object(g.jsx)(Ve.a,{placement:"left",title:"Use this page to manage your chapters. Any information that a patient has answered in a chapter along with its versions exist in the Chapter Tab. Otherwise, created chapter Templates exists in its own tab.",children:Object(g.jsx)(fe.a,{children:Object(g.jsx)(Ka.a,{})})})})]}),Object(g.jsx)(Be.a,{item:!0,xs:12,container:!0,direction:"column",justifyContent:"flex-start",alignItems:"stretch",spacing:1,children:Object(g.jsx)(Ne.a,{mx:1,my:1,boxShadow:0,children:Object(g.jsx)(Le.a,{children:Object(g.jsx)(Ne.a,{mx:1,my:1,boxShadow:0,children:Object(g.jsxs)(Be.a,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"center",spacing:3,children:[Object(g.jsx)(Be.a,{item:!0,children:Object(g.jsx)(f.a,{color:"textPrimary",variant:"subtitle2",children:"Table Options"})}),Object(g.jsx)(Be.a,{item:!0,children:Object(g.jsx)(Ga.a,{control:Object(g.jsx)($a.a,{checked:a,onChange:function(e){D(e)}}),label:"Compact",labelPlacement:"end"})}),Object(g.jsx)(Be.a,{item:!0,children:Object(g.jsxs)(k.a,{id:"search-filter-select-label",variant:"filled",size:"small",style:{minWidth:140},disabled:i,children:[Object(g.jsx)(_.a,{children:"Search Filter"}),Object(g.jsx)(Re.a,{autoWidth:!0,labelId:"search-filter-select-label",value:b,onChange:function(e){A(e)},children:zi.map((function(e){return Object(g.jsx)(xe.a,{value:e.value,children:Object(g.jsx)("em",{children:e.display})},e.key)}))})]})}),Object(g.jsx)(Be.a,{item:!0,xs:!0,children:Object(g.jsx)(ba.a,{label:"Search",type:"search",size:"small",variant:"filled",fullWidth:!0,value:x,onChange:function(e){B(e)}})})]})})})})}),Object(g.jsx)(Be.a,{item:!0,xs:12,container:!0,direction:"row",justifyContent:"flex-start",alignItems:"flex-start",spacing:1,children:Object(g.jsxs)(Be.a,{item:!0,children:[Object(g.jsx)(f.a,{variant:"h6",component:"h6",children:"Table"}),Object(g.jsx)(V.a,{})]})})]})})})};Hi.defaultProps={setParentAlert:function(){},setIsDense:function(){},setIsTemplates:function(){},dataList:{},getParentData:function(){},setSearchFilteredDataList:function(){},setCreateChapterTemplateDialog:function(){},setCreateChapterUserDialog:function(){}};var Ji=Hi,Yi=Object(ot.a)((function(e){return{root:{flexGrow:1,height:"100%"},rootGrid:{height:"100%"}}})),qi=function(e){Yi();var t=e.appState,a=e.setParentAlert,n=e.getParentData,i=e.createChapterTemplateDialog,s=e.setCreateChapterTemplateDialog,o=e.createChapterTemplateDialogExecuting,c=e.setCreateChapterTemplateDialogExecuting,l=Object(r.useState)(""),d=Object(nt.a)(l,2),j=d[0],h=d[1],u=Object(r.useCallback)((function(){if(""!==j){var e={name:j,surveyJSON:"",isPublic:!1,createdBy:t._id,modifiedBy:t._id};We("surveys/",t.token,e,(function(e,t){e?a(new st("Unable create chapter. Please refresh and try again.","error")):201===t.status?(n(),a(new st("Successfully Created.","success"))):a(new st("Unable create chapter. Please refresh and try again.","error"))}))}else a(new st("Unable create chapter. Please refresh and try again.","error"))}),[t,j,a]),b=Object(r.useCallback)((function(){s(!1),h("")}),[s]),p=Object(r.useCallback)((function(){try{c(!0),u(),c(!1),s(!1),h("")}catch(e){}}),[c,u,s,a,n]),O=Object(r.useCallback)((function(e){h(e.target.value)}),[]);return Object(g.jsx)(g.Fragment,{children:i?Object(g.jsxs)(ca.a,{id:"create-chapter-template-dialog",fullWidth:!0,maxWidth:"md",open:i,onClose:function(){b()},children:[Object(g.jsx)(la.a,{children:"Create chapter"}),Object(g.jsx)(da.a,{children:o?Object(g.jsx)(S.a,{}):Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(dr.a,{children:"Please enter a valid name for your new chapter."}),Object(g.jsx)(Ne.a,{mx:1,my:1,boxShadow:0,children:Object(g.jsx)(Be.a,{container:!0,direction:"column",justifyContent:"flex-start",alignItems:"stretch",spacing:1,children:Object(g.jsx)(Be.a,{item:!0,children:Object(g.jsx)(ba.a,{label:"Chapter Name",size:"small",variant:"filled",error:""===j,fullWidth:!0,value:j,onChange:function(e){O(e)}})})})})]})}),Object(g.jsxs)(ja.a,{children:[Object(g.jsx)(C.a,{color:"primary",variant:"contained",onClick:function(){b()},disabled:o,children:"Cancel"}),Object(g.jsx)(C.a,{color:"primary",variant:"contained",startIcon:Object(g.jsx)(er.a,{}),onClick:function(){p()},disabled:!(!o&&""!==j),children:"Create"})]})]}):null})};qi.defaultProps={appState:{},setParentAlert:function(){},getParentData:function(){},setCreateChapterTemplateDialog:function(){},setCreateChapterTemplateDialogExecuting:function(){}};var Gi=qi,$i=Object(ot.a)((function(e){return{root:{flexGrow:1,height:"100%"},rootGrid:{height:"100%"}}})),Zi=function(e){$i();var t=e.appState,a=e.setParentAlert,n=e.getParentData,i=e.createChapterUserDialog,s=e.setCreateChapterUserDialog,o=e.createChapterUserDialogExecuting,c=e.setCreateChapterUserDialogExecuting,l=Object(r.useState)(""),d=Object(nt.a)(l,2),j=d[0],h=d[1],u=Object(r.useState)(null),p=Object(nt.a)(u,2),O=p[0],m=p[1],x=Object(r.useState)(""),f=Object(nt.a)(x,2),y=f[0],v=f[1],w=Object(r.useState)(null),D=Object(nt.a)(w,2),P=D[0],I=D[1],A=Object(r.useCallback)((function(e){if(0===e.count)a(new st("No chapter Templates. Please create chapter templates at the Management page.","error"));else if(e){for(var t=[],r=0;r<e.count;++r)t.push({_id:e.surveys[r]._id,name:e.surveys[r].name,surveyJSON:e.surveys[r].surveyJSON,createdAt:e.surveys[r].createdAt,updatedAt:e.surveys[r].updatedAt});m(t)}}),[a]),B=Object(r.useCallback)((function(e){if(0===t.patients.length)a(new st("No assigned patients. If you are not an Administrator, please contact one to get assigned patients. Refresh and try again.","error"));else if(e){for(var r=[],n=0;n<e.count;++n)r.push({_id:e.users[n]._id,name:e.users[n].info.name,role:e.users[n].role,email:e.users[n].email,createdAt:e.users[n].createdAt});I(r)}}),[t,a]),N=Object(r.useCallback)((function(){var e;t.patients.length<=0&&"Patient"!==t.role?a(new st("No assigned patients. If you are not an Administrator, please contact one to get assigned patients. Refresh and try again.","error")):(e="Patient"===t.role?{_id:{$in:t._id}}:{_id:{$in:t.patients}},We("users/query",t.token,e,(function(e,t){e?500===e.response.status&&a(new st(e.message,"error")):200===t.status||304===t.status?B(t.data.response):a(new st("Unable to get assigned patients. Please refresh and try again.","error"))})))}),[t,B,a]),L=Object(r.useCallback)((function(){b("surveys/",t.token,(function(e,t){e?a(new st(e.message,"error")):200===t.status?A(t.data.response):a(new st("Unable to get chapter templates. Please refresh and try again.","error"))}))}),[t,A,a]),E=Object(r.useCallback)((function(){if(""!==j&&""!==y){if(""===O[j].surveyJSON)return void a(new st("Unable start chapter; empty template. Please refresh and try again after editing template.","error"));var e={name:O[j].name,patientId:P[y]._id,templateId:O[j]._id,surveyJSON:O[j].surveyJSON,responseJSON:"{}",approved:!1,createdBy:t._id,modifiedBy:t._id};We("membersurveys/",t.token,e,(function(e,t){e?a(new st("Unable start chapter. Please refresh and try again.","error")):201===t.status?(n(),a(new st("Successfully started user chapter.","success"))):a(new st("Unable start chapter. Please refresh and try again.","error"))}))}else a(new st("Unable start chapter. Please refresh and try again.","error"))}),[t,j,y,P,O,a,n]),U=Object(r.useCallback)((function(){s(!1),h(""),v("")}),[s]),T=Object(r.useCallback)((function(){try{c(!0),E(),c(!1),s(!1),h(""),v("")}catch(e){}}),[E]),M=Object(r.useCallback)((function(e){h(e.target.value)}),[]),F=Object(r.useCallback)((function(e){v(e.target.value)}),[]);return Object(r.useEffect)((function(){i&&(L(),N())}),[i,N,L]),Object(g.jsx)(g.Fragment,{children:i?Object(g.jsxs)(ca.a,{id:"create-user-chapter-dialog",fullWidth:!0,maxWidth:"md",open:i,onClose:function(){U()},children:[Object(g.jsx)(la.a,{children:"Start user chapter"}),Object(g.jsx)(da.a,{children:o?Object(g.jsx)(S.a,{}):Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(dr.a,{children:"Please enter a valid chapter template and patient to start."}),Object(g.jsx)(Ne.a,{mx:1,my:1,boxShadow:0,children:Object(g.jsxs)(Be.a,{container:!0,direction:"column",justifyContent:"flex-start",alignItems:"stretch",spacing:1,children:[Object(g.jsx)(Be.a,{item:!0,xs:!0,children:P?Object(g.jsxs)(k.a,{id:"patient-options-label",variant:"filled",size:"small",fullWidth:!0,disabled:!P,children:[Object(g.jsx)(_.a,{children:"Patient"}),Object(g.jsxs)(Re.a,{fullWidth:!0,labelId:"patient-options-label",value:y,onChange:function(e){F(e)},children:[Object(g.jsx)(xe.a,{value:"",children:Object(g.jsx)("em",{children:"None"})}),P.map((function(e,t){return Object(g.jsx)(xe.a,{value:t,children:Object(g.jsx)("em",{children:e.name})},e._id)}))]})]}):Object(g.jsx)(S.a,{})}),Object(g.jsx)(Be.a,{item:!0,xs:!0,children:O?Object(g.jsxs)(k.a,{id:"template-options-label",variant:"filled",size:"small",fullWidth:!0,disabled:!O,children:[Object(g.jsx)(_.a,{children:"Chapter Template"}),Object(g.jsxs)(Re.a,{fullWidth:!0,labelId:"template-options-label",value:j,onChange:function(e){M(e)},children:[Object(g.jsx)(xe.a,{value:"",children:Object(g.jsx)("em",{children:"None"})}),O.map((function(e,t){return Object(g.jsx)(xe.a,{value:t,children:Object(g.jsx)("em",{children:e.name})},e._id)}))]})]}):Object(g.jsx)(S.a,{})})]})})]})}),Object(g.jsxs)(ja.a,{children:[Object(g.jsx)(C.a,{color:"primary",variant:"contained",onClick:function(){U()},disabled:o,children:"Cancel"}),Object(g.jsx)(C.a,{color:"primary",variant:"contained",startIcon:Object(g.jsx)(er.a,{}),onClick:function(){T()},disabled:o||""===j||""===y,children:"Start"})]})]}):null})};Zi.defaultProps={appState:{},setParentAlert:function(){},getParentData:function(){},createChapterUserDialog:{},setCreateChapterUserDialog:function(){},createChapterUserDialogExecuting:{},setCreateChapterUserDialogExecuting:function(){}};var Ki=Zi,Xi=Object(ot.a)((function(e){return{root:{flexGrow:1,height:"100%"},rootGrid:{height:"100%"}}})),es=210,ts=297,as={inputProps:{min:1}},rs=function(e){Xi();var t=e.getParentData,a=e.setParentAlert,n=e.selectedDataItemsList,i=e.exportChapterDialog,s=e.setExportChapterDialog,o=e.exportChapterDialogExecuting,c=e.setExportChapterDialogExecuting,l=Object(r.useState)(es),d=Object(nt.a)(l,2),j=d[0],h=d[1],u=Object(r.useState)(ts),b=Object(nt.a)(u,2),p=b[0],O=b[1],m=Object(r.useCallback)((function(){if(!(j>0&&p>0&&n.length>0))throw new Error("Bad Export.");n.forEach((function(e){var t="",a="{}";""!==e.surveyJSON&&(t=JSON.parse(e.surveyJSON)),Object.prototype.hasOwnProperty.call(e,"responseJSON")&&(a=JSON.parse(e.responseJSON));var r={format:[parseInt(j)||es,parseInt(p)||ts],fontSize:14,margins:{left:10,right:10,top:18,bot:10}},n=new at.SurveyPDF(t,r);Object.prototype.hasOwnProperty.call(e,"responseJSON")&&(n.data=a),n.save(e._id+e.name+".pdf")}))}),[j,p,n]),x=Object(r.useCallback)((function(){s(!1),h(es),O(ts)}),[h,O,s]),f=Object(r.useCallback)((function(){try{c(!0),m(),c(!1),s(!1),h(es),O(ts),t(),a(new st("Successfully exported ".concat(n.length," chapter").concat(n.length>1?"s":"","."),"success"))}catch(e){a(new st("Unable export chapter".concat(n.length>1?"s":"",". Please refresh and try again."),"error"))}}),[h,O,m,n,c,s,a,t]),y=Object(r.useCallback)((function(e){""!==e.target.value&&h(parseInt(e.target.value))}),[h]),v=Object(r.useCallback)((function(e){""!==e.target.value&&O(parseInt(e.target.value))}),[O]);return Object(r.useEffect)((function(){tt.StylesManager.applyTheme("default")}),[]),Object(g.jsx)(g.Fragment,{children:i?Object(g.jsxs)(ca.a,{id:"export-chapter-dialog",fullWidth:!0,maxWidth:"md",open:i,onClose:function(){x()},children:[Object(g.jsxs)(la.a,{children:["Export chapter",n.length>1?"s":""]}),Object(g.jsx)(da.a,{children:o?Object(g.jsx)(S.a,{}):Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)(dr.a,{children:["Exporting ",n.length," chapter",n.length>1?"s":"",". Please enter valid pdf width and height values for your export."]}),Object(g.jsx)(Ne.a,{mx:1,my:1,boxShadow:0,children:Object(g.jsxs)(Be.a,{container:!0,direction:"column",justifyContent:"flex-start",alignItems:"stretch",spacing:1,children:[Object(g.jsx)(Be.a,{item:!0,xs:!0,children:Object(g.jsx)(ba.a,{label:"Pdf Width",type:"number",size:"small",variant:"filled",InputProps:as,error:j<=0,fullWidth:!0,value:j,onChange:function(e){y(e)}})}),Object(g.jsx)(Be.a,{item:!0,xs:!0,children:Object(g.jsx)(ba.a,{label:"Pdf Height",type:"number",size:"small",variant:"filled",InputProps:as,error:p<=0,fullWidth:!0,value:p,onChange:function(e){v(e)}})})]})})]})}),Object(g.jsxs)(ja.a,{children:[Object(g.jsx)(C.a,{color:"primary",variant:"contained",onClick:function(){x()},disabled:o,children:"Cancel"}),Object(g.jsx)(C.a,{color:"primary",variant:"contained",startIcon:Object(g.jsx)($e.a,{}),onClick:function(){f()},disabled:o,children:"Export"})]})]}):null})};rs.defaultProps={getParentData:function(){},setParentAlert:function(){},selectedDataItemsList:{},exportChapterDialog:{},setExportChapterDialog:function(){},exportChapterDialogExecuting:{},setExportChapterDialogExecuting:function(){}};var ns=rs,is=Object(ot.a)((function(e){return{root:{flexGrow:1,height:"100%"}}})),ss=function(e){is();var t=e.appState,a=e.getParentData,n=e.setParentAlert,i=e.isTemplate,s=e.deleteChapterDialog,o=e.setDeleteChapterDialog,c=e.deleteChapterDialogExecuting,l=e.setDeleteChapterDialogExecuting,d=e.selectedDataItemsList,j=e.setSelectedDataItemsList,h=Object(r.useCallback)((function(){d?d.forEach((function(e){_r((i?"surveys/":"membersurveys/")+e._id,t.token,(function(e,t){e?(o(!1),n(new st("Unable to save chapter(s). Please try again.","error"))):200===t.status?(a(),n(new st("Successfully deleted. You can continue working.","success"))):(o(!1),n(new st("Unable to save chapter(s). Please try again.","error")))}))})):(o(!1),n(new st("Unable to save chapter(s). Please try again.","error")))}),[t,d,o,n,a,i]),u=Object(r.useCallback)((function(){o(!1)}),[o]),b=Object(r.useCallback)((function(){try{l(!0),h(),l(!1),o(!1),j([])}catch(e){}}),[l,h,j,o]);return Object(g.jsx)(g.Fragment,{children:d?Object(g.jsxs)(ca.a,{id:"delete-chapter-dialog",fullWidth:!0,maxWidth:"md",open:s,onClose:function(){u()},children:[Object(g.jsxs)(la.a,{children:["Delete chapter",1===d.length?null:"s"]}),Object(g.jsx)(da.a,{children:c?Object(g.jsx)(S.a,{}):Object(g.jsx)(dr.a,{children:1===d.length?Object(g.jsx)(g.Fragment,{children:"Are you sure you would like to delete the chapter?"}):Object(g.jsx)(g.Fragment,{children:"Are you sure you would like to delete the ".concat(d.length," chapters?")})})}),Object(g.jsxs)(ja.a,{children:[Object(g.jsx)(C.a,{color:"primary",variant:"contained",onClick:function(){u()},disabled:c,children:"Cancel"}),Object(g.jsx)(C.a,{color:"primary",variant:"contained",startIcon:Object(g.jsx)(Ua.a,{}),onClick:function(){b()},disabled:c,children:"Delete"})]})]}):null})};ss.defaultProps={appState:{},isTemplate:{},getParentData:function(){},setParentAlert:function(){},deleteChapterDialog:{},setDeleteChapterDialog:function(){},deleteChapterDialogExecuting:{},setDeleteChapterDialogExecuting:function(){},selectedDataItemsList:{},setSelectedDataItemsList:function(){}};var os=ss,cs=Object(ot.a)((function(e){return{visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1}}})),ls=[{id:"name",numeric:!1,disablePadding:!0,label:"Name"},{id:"isPublic",numeric:!1,disablePadding:!0,label:"Public"},{id:"createdAt",numeric:!0,disablePadding:!1,label:"Date Created"},{id:"updatedAt",numeric:!0,disablePadding:!1,label:"Date Last Modified"}],ds=[{id:"name",numeric:!1,disablePadding:!0,label:"Name"},{id:"completeStatus",numeric:!1,disablePadding:!1,label:"Completeness"},{id:"approved",numeric:!1,disablePadding:!0,label:"Approved"},{id:"patientName",numeric:!1,disablePadding:!0,label:"Patient Name"},{id:"patientId",numeric:!1,disablePadding:!0,label:"Patient ID"},{id:"collectionId",numeric:!1,disablePadding:!0,label:"Collection ID"},{id:"createdAt",numeric:!0,disablePadding:!1,label:"Date Created"},{id:"updatedAt",numeric:!0,disablePadding:!1,label:"Date Last Modified"}],js=function(e){var t=cs(),a=e.onSelectAllClick,n=e.order,i=e.orderBy,s=e.numSelected,o=e.rowCount,c=e.onRequestSort,l=e.isTemplates,d=Object(r.useState)(null),j=Object(nt.a)(d,2),h=j[0],u=j[1],b=Object(r.useCallback)((function(e){return function(t){c(t,e)}}),[c]);return Object(r.useEffect)((function(){u(l?ls:ds)}),[l]),Object(g.jsx)(ra.a,{children:Object(g.jsxs)(na.a,{children:[Object(g.jsx)(aa.a,{padding:"checkbox",children:Object(g.jsx)(_a.a,{indeterminate:s>0&&s<o,checked:o>0&&s===o,onChange:a,inputProps:{"aria-label":"select all"}})}),h?h.map((function(e){return Object(g.jsx)(aa.a,{align:e.numeric?"right":"left",padding:e.disablePadding?"none":"normal",sortDirection:i===e.id&&n,children:Object(g.jsxs)(Da.a,{active:i===e.id,direction:i===e.id?n:"asc",onClick:b(e.id),children:[e.label,i===e.id?Object(g.jsx)("span",{className:t.visuallyHidden,children:"desc"===n?"sorted descending":"sorted ascending"}):null]})},e.id)})):null]})})};js.defaultProps={numSelected:{},onRequestSort:function(){},onSelectAllClick:function(){},order:{},orderBy:{},rowCount:{},isTemplates:{}};var hs=js,us=Object(ot.a)((function(e){return{root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1)},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(La.d)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},title:{flex:"1 1 100%"}}})),bs="/administration/booklets/",ps="/administration/booklets/",Os=function(e){var t=us(),a=e.isTemplates,n=e.selectedDataItemsList,i=e.setParentDeleteChapterDialog,s=e.setParentExportChapterDialog,o=Object(r.useState)(""),c=Object(nt.a)(o,2),l=c[0],d=c[1],j=Object(r.useState)(""),h=Object(nt.a)(j,2),u=h[0],b=h[1],O=Object(r.useState)(!1),m=Object(nt.a)(O,2),x=m[0],y=m[1],v=Object(r.useState)(!1),C=Object(nt.a)(v,2),S=C[0],w=C[1],k=Object(r.useState)(!1),D=Object(nt.a)(k,2),_=D[0],P=D[1],I=Object(r.useCallback)((function(){0===n.length?(y(!0),w(!1),P(!1)):1===n.length?(y(!1),w(!0),P(!1)):n.length>1&&(y(!1),w(!1),P(!0))}),[n,y,w,P]),A=Object(r.useCallback)((function(){i(!0)}),[i]),B=Object(r.useCallback)((function(){s(!0)}),[s]);return Object(r.useEffect)((function(){I()}),[n,I]),Object(r.useEffect)((function(){x||_?(d(""),b("")):S&&(a?(d(ps+"template/view/"+n[0]._id),b(bs+"template/edit/"+n[0]._id)):(d(ps+"user/view/"+n[0]._id),b(bs+"user/edit/"+n[0]._id)))}),[x,S,_,a]),Object(g.jsxs)(Oe.a,{className:Object(Na.a)(t.root,Object(p.a)({},t.highlight,n.length>0)),children:[n.length>0?Object(g.jsxs)(f.a,{className:t.title,color:"inherit",variant:"subtitle1",component:"div",children:[n.length," Selected Item",n.length>1?"s":null]}):Object(g.jsx)(f.a,{className:t.title,variant:"h6",component:"div",children:a?"Chapter Template Results":"User Chapter Results"}),x?Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(Ve.a,{title:"Filter list",children:Object(g.jsx)(fe.a,{"aria-label":"filter list",children:Object(g.jsx)(Ma.a,{})})})}):null,S?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(Ve.a,{title:"View",children:Object(g.jsx)(fe.a,{"aria-label":"view",component:M.b,to:l,children:Object(g.jsx)(Zt.a,{})})}),Object(g.jsx)(Ve.a,{title:a?"Edit":"Fill in",children:Object(g.jsx)(fe.a,{"aria-label":"edit",component:M.b,to:u,children:Object(g.jsx)(ki.a,{})})}),Object(g.jsx)(Ve.a,{title:"Export",onClick:function(){return B()},children:Object(g.jsx)(fe.a,{"aria-label":"export",children:Object(g.jsx)($e.a,{})})}),Object(g.jsx)(Ve.a,{title:"Delete",children:Object(g.jsx)(fe.a,{"aria-label":"delete",onClick:function(){return A()},children:Object(g.jsx)(Ua.a,{})})})]}):null,_?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(Ve.a,{title:"Export",children:Object(g.jsx)(fe.a,{"aria-label":"export",onClick:function(){return B()},children:Object(g.jsx)($e.a,{})})}),Object(g.jsx)(Ve.a,{title:"Delete",children:Object(g.jsx)(fe.a,{"aria-label":"delete",onClick:function(){return A()},children:Object(g.jsx)(Ua.a,{})})})]}):null]})};Os.defaultProps={isTemplates:{},selectedDataItemsList:{},setParentDeleteChapterDialog:function(){},setParentExportChapterDialog:function(){}};var ms=Os,xs=function(e,t,a){return t[a]<e[a]?-1:t[a]>e[a]?1:0},fs=function(e,t){return"desc"===e?function(e,a){return xs(e,a,t)}:function(e,a){return-xs(e,a,t)}},gs=function(e,t){var a=e.map((function(e,t){return[e,t]}));return a.sort((function(e,a){var r=t(e[0],a[0]);return 0!==r?r:e[1]-a[1]})),a.map((function(e){return e[0]}))},ys=Object(ot.a)((function(e){return{root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1)},tableRow:{cursor:"pointer"}}}));function vs(e){var t=ys(),a=e.isTemplates,n=e.isDense,i=e.searchFilteredDataList,s=e.setParentDeleteChapterDialog,o=e.setParentExportChapterDialog,c=e.selectedDataItemsList,l=e.setSelectedDataItemsList,d=Object(r.useState)("asc"),j=Object(nt.a)(d,2),h=j[0],u=j[1],b=Object(r.useState)("name"),p=Object(nt.a)(b,2),O=p[0],m=p[1],x=Object(r.useState)(0),y=Object(nt.a)(x,2),v=y[0],C=y[1],S=Object(r.useState)(20),w=Object(nt.a)(S,2),k=w[0],D=w[1],_=k-Math.min(k,i.length-v*k),I=Object(r.useCallback)((function(e,t){u(O===t&&"asc"===h?"desc":"asc"),m(t)}),[h,u,O,m]),A=Object(r.useCallback)((function(e){if(e.target.checked){var t=[];return i.forEach((function(e){t.push(e)})),void l(t)}l([])}),[i,l]),B=Object(r.useCallback)((function(e,t){var a=c.map((function(e){return e._id})).indexOf(t._id),r=[];-1===a?r=r.concat(c,t):0===a?r=r.concat(c.slice(1)):a===c.length-1?r=r.concat(c.slice(0,-1)):a>0&&(r=r.concat(c.slice(0,a),c.slice(a+1))),l(r)}),[c,l]),N=Object(r.useCallback)((function(e){return-1!==c.map((function(e){return e._id})).indexOf(e._id)}),[c]),L=Object(r.useCallback)((function(e){C(e)}),[C]),E=Object(r.useCallback)((function(e){D(parseInt(e.target.value,10)),C(0)}),[D,C]);return Object(r.useEffect)((function(){C(0)}),[i]),Object(g.jsx)("div",{className:t.root,children:Object(g.jsx)(Ne.a,{mx:1,my:1,children:Object(g.jsxs)(P.a,{className:t.paper,children:[Object(g.jsx)(ms,{isTemplates:a,selectedDataItemsList:c,setParentDeleteChapterDialog:s,setParentExportChapterDialog:o}),Object(g.jsx)(Va.a,{children:Object(g.jsxs)(ea.a,{className:t.table,"aria-labelledby":"tableTitle",size:n?"small":"medium","aria-label":"enhanced table",children:[Object(g.jsx)(hs,{numSelected:c.length,order:h,orderBy:O,onSelectAllClick:A,onRequestSort:I,rowCount:i.length,isTemplates:a}),Object(g.jsxs)(ta.a,{children:[gs(i,fs(h,O)).slice(v*k,v*k+k).map((function(e,r){var n=N(e),i="enhanced-table-checkbox-".concat(r);return Object(g.jsxs)(na.a,{className:t.tableRow,hover:!0,onClick:function(t){return B(t,e)},role:"checkbox","aria-checked":n,tabIndex:-1,selected:n,children:[Object(g.jsx)(aa.a,{padding:"checkbox",children:Object(g.jsx)(_a.a,{checked:n,inputProps:{"aria-labelledby":i}})}),Object(g.jsx)(aa.a,{component:"th",id:i,scope:"row",padding:"none",children:Object(g.jsx)(f.a,{color:"textPrimary",variant:"subtitle2",style:{display:"inline-block"},children:e.name})}),a?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(aa.a,{align:"left",padding:"none",children:Object(g.jsx)(f.a,{color:"primary",variant:"body2",style:{display:"inline-block",width:"120px",color:e.isPublic?"green":"red"},children:e.isPublic?"true":"false"})}),Object(g.jsxs)(aa.a,{align:"right",children:[Object(g.jsx)(f.a,{color:"primary",variant:"body2",style:{display:"inline-block",width:"120px"},children:new Date(e.createdAt).toLocaleDateString()}),Object(g.jsx)(f.a,{color:"secondary",variant:"body2",style:{display:"inline-block",width:"120px"},children:new Date(e.createdAt).toLocaleTimeString()})]}),Object(g.jsxs)(aa.a,{align:"right",children:[Object(g.jsx)(f.a,{color:"primary",variant:"body2",style:{display:"inline-block",width:"120px"},children:new Date(e.updatedAt).toLocaleDateString()}),Object(g.jsx)(f.a,{color:"secondary",variant:"body2",style:{display:"inline-block",width:"120px"},children:new Date(e.updatedAt).toLocaleTimeString()})]})]}):Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(aa.a,{align:"left",children:Object(g.jsx)(f.a,{color:"primary",variant:"body2",style:{display:"inline-block",width:"120px"},children:e.completeStatus})}),Object(g.jsx)(aa.a,{align:"left",padding:"none",children:Object(g.jsx)(f.a,{color:"primary",variant:"body2",style:{display:"inline-block",width:"120px",color:e.approved?"green":"red"},children:e.approved?"true":"false"})}),Object(g.jsx)(aa.a,{align:"left",padding:"none",children:Object(g.jsx)(f.a,{color:"textPrimary",variant:"body2",style:{display:"inline-block",width:"120px"},children:e.patientName})}),Object(g.jsx)(aa.a,{align:"left",padding:"none",children:Object(g.jsx)(f.a,{color:"textPrimary",variant:"body2",style:{display:"inline-block",width:"120px"},children:e.patientId})}),Object(g.jsx)(aa.a,{align:"left",padding:"none",children:Object(g.jsx)(f.a,{color:"textPrimary",variant:"body2",style:{display:"inline-block",width:"120px"},children:e.collectionId})}),Object(g.jsxs)(aa.a,{align:"right",children:[Object(g.jsx)(f.a,{color:"primary",variant:"body2",style:{display:"inline-block",width:"120px"},children:new Date(e.createdAt).toLocaleDateString()}),Object(g.jsx)(f.a,{color:"secondary",variant:"body2",style:{display:"inline-block",width:"120px"},children:new Date(e.createdAt).toLocaleTimeString()})]}),Object(g.jsxs)(aa.a,{align:"right",children:[Object(g.jsx)(f.a,{color:"primary",variant:"body2",style:{display:"inline-block",width:"120px"},children:new Date(e.updatedAt).toLocaleDateString()}),Object(g.jsx)(f.a,{color:"secondary",variant:"body2",style:{display:"inline-block",width:"120px"},children:new Date(e.updatedAt).toLocaleTimeString()})]})]})]},e.name+e._id)})),_>0&&Object(g.jsx)(na.a,{style:{height:(n?33:53)*_},children:Object(g.jsx)(aa.a,{colSpan:6})})]})]})}),i.length>0?Object(g.jsx)(Qa.a,{rowsPerPageOptions:[5,10,15,20,25],component:"div",count:i.length,rowsPerPage:k,page:i.length<=k?0:v,onPageChange:function(e,t){L(t)},onRowsPerPageChange:E}):null]})})})}vs.defaultProps={searchFilteredDataList:{},setParentDeleteChapterDialog:function(){},setParentExportChapterDialog:function(){},selectedDataItemsList:{},setSelectedDataItemsList:function(){}};var Cs=Object(ot.a)((function(e){return{root:{flexGrow:1}}})),Ss=function(e){var t=Cs(),a=e.appState,n=e.ToggleDrawerClose,i=e.CheckAuthenticationValidity,s=Object(r.useState)(!0),o=Object(nt.a)(s,2),c=o[0],l=o[1],d=Object(r.useState)(!0),j=Object(nt.a)(d,2),h=j[0],u=j[1],p=Object(r.useState)(null),O=Object(nt.a)(p,2),m=O[0],x=O[1],y=Object(r.useState)(null),v=Object(nt.a)(y,2),C=v[0],w=v[1],k=Object(r.useState)(null),D=Object(nt.a)(k,2),_=D[0],P=D[1],I=Object(r.useState)(!1),A=Object(nt.a)(I,2),B=A[0],N=A[1],L=Object(r.useState)(!1),E=Object(nt.a)(L,2),U=E[0],T=E[1],M=Object(r.useState)(!1),F=Object(nt.a)(M,2),W=F[0],R=F[1],V=Object(r.useState)(!1),Q=Object(nt.a)(V,2),z=Q[0],H=Q[1],J=Object(r.useState)(!1),Y=Object(nt.a)(J,2),q=Y[0],G=Y[1],$=Object(r.useState)(!1),Z=Object(nt.a)($,2),K=Z[0],X=Z[1],ee=Object(r.useState)(!1),te=Object(nt.a)(ee,2),ae=te[0],re=te[1],ne=Object(r.useState)(!1),ie=Object(nt.a)(ne,2),se=ie[0],oe=ie[1],ce=Object(r.useState)(new st),le=Object(nt.a)(ce,2),de=le[0],je=le[1],he=Object(r.useCallback)((function(e){var t=[];if(c)for(var a=0;a<e.count;++a)t.push({_id:e.surveys[a]._id,name:e.surveys[a].name,isPublic:e.surveys[a].isPublic,createdAt:e.surveys[a].createdAt,updatedAt:e.surveys[a].updatedAt,surveyJSON:e.surveys[a].surveyJSON});else for(var r=0;r<e.count;++r)t.push({_id:e.memberSurveys[r]._id,name:e.memberSurveys[r].name,createdAt:e.memberSurveys[r].createdAt,updatedAt:e.memberSurveys[r].updatedAt,responseJSON:e.memberSurveys[r].responseJSON,surveyJSON:e.memberSurveys[r].surveyJSON,completeStatus:e.memberSurveys[r].completeStatus,approved:e.memberSurveys[r].approved,patientName:e.memberSurveys[r].patientName,patientId:e.memberSurveys[r].patientId,collectionId:e.memberSurveys[r].collectionId||""});x([].concat(t)),w([].concat(t)),P([])}),[c]),ue=Object(r.useCallback)((function(){b("membersurveys/",a.token,(function(e,t){e?je(new st("Unable to retrieve User Chapters. Please refresh and try again.","error")):200===t.status?he(t.data.response):je(new st("Unable to retrieve User Chapters. Please refresh and try again.","error"))}))}),[he,a.token]),be=Object(r.useCallback)((function(){b("surveys/",a.token,(function(e,t){e?je(new st("Unable to retrieve templates. Please refresh and try again.","error")):200===t.status?he(t.data.response):je(new st("Unable to retrieve templates. Please refresh and try again.","error"))}))}),[he,a.token]),pe=Object(r.useCallback)((function(){c?be():ue()}),[c,be,ue]);return Object(r.useEffect)((function(){n(),setTimeout((function(){i((function(e){e?pe():je(null)}))}),200)}),[]),Object(r.useEffect)((function(){pe()}),[c]),Object(r.useEffect)((function(){w(m),P([])}),[m]),null!=de?Object(g.jsxs)("div",{className:t.root,children:[Object(g.jsxs)(Be.a,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"stretch",style:{height:"100%"},spacing:1,children:[Object(g.jsx)(Be.a,{item:!0,xs:5,children:Object(g.jsx)(Ne.a,{mx:1,my:1,children:Object(g.jsx)(f.a,{variant:"h5",color:"inherit",align:"left",gutterBottom:!0,children:"Manage Chapters"})})}),Object(g.jsx)(Be.a,{item:!0,xs:6,children:Object(g.jsx)(Ne.a,{mx:1,my:1,children:Object(g.jsx)(jt,{alert:de,setParentAlert:je})})}),Object(g.jsx)(Be.a,{item:!0,xs:12,children:Object(g.jsx)(Ne.a,{mx:1,my:1,boxShadow:3,children:Object(g.jsx)(Le.a,{raised:!0,children:Object(g.jsx)(Be.a,{container:!0,direction:"column",justifyContent:"flex-start",alignItems:"stretch",spacing:0,children:m&&C&&_?Object(g.jsxs)(Be.a,{item:!0,xs:12,children:[Object(g.jsx)(Ji,{isDense:h,setIsDense:u,isTemplates:c,setIsTemplates:l,dataList:m,getParentData:pe,setSearchFilteredDataList:w,setCreateChapterTemplateDialog:N,setCreateChapterUserDialog:re,setParentAlert:je}),Object(g.jsx)(vs,{isTemplates:c,isDense:h,searchFilteredDataList:C,selectedDataItemsList:_,setSelectedDataItemsList:P,setParentDeleteChapterDialog:G,setParentExportChapterDialog:R})]}):Object(g.jsx)(Be.a,{item:!0,xs:12,container:!0,direction:"row",justifyContent:"center",alignItems:"stretch",spacing:1,children:Object(g.jsx)(Be.a,{item:!0,children:Object(g.jsx)(Ne.a,{mx:1,my:1,boxShadow:0,children:Object(g.jsx)(S.a,{})})})})})})})})]}),Object(g.jsx)(Gi,{createChapterTemplateDialog:B,setCreateChapterTemplateDialog:N,createChapterTemplateDialogExecuting:U,setCreateChapterTemplateDialogExecuting:T,setParentAlert:je,getParentData:pe,appState:a}),Object(g.jsx)(Ki,{createChapterUserDialog:ae,setCreateChapterUserDialog:re,createChapterUserDialogExecuting:se,setCreateChapterUserDialogExecuting:oe,setParentAlert:je,getParentData:pe,appState:a}),Object(g.jsx)(ns,{exportChapterDialog:W,setExportChapterDialog:R,exportChapterDialogExecuting:z,setExportChapterDialogExecuting:H,selectedDataItemsList:_,setParentAlert:je,getParentData:pe}),Object(g.jsx)(os,{deleteChapterDialog:q,setDeleteChapterDialog:G,deleteChapterDialogExecuting:K,setDeleteChapterDialogExecuting:X,selectedDataItemsList:_,setSelectedDataItemsList:P,setParentAlert:je,getParentData:pe,isTemplate:c,appState:a})]}):Object(g.jsx)(f.a,{variant:"h6",color:"inherit",align:"center",gutterBottom:!0,children:"Not Authorized. Please refresh and try again."})};Ss.defaultProps={appState:{},ToggleDrawerClose:function(){},CheckAuthenticationValidity:function(){}};var ws=Ss,ks=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e=this.props.classes;return Object(g.jsx)(Le.a,{children:Object(g.jsxs)(Ue.a,{children:[Object(g.jsx)(f.a,{variant:"h5",component:"h2",className:e.title,children:"Error - 404."}),Object(g.jsx)(f.a,{children:"The page you are looking for does not exist."})]})})}}]),a}(r.Component),Ds=Object(I.a)((function(e){return{title:e.title}}))(ks),_s=Object(ot.a)((function(e){return{root:{flexGrow:1}}})),Ps=function(e){var t=_s(),a=e.appState,n=e.ToggleDrawerClose,i=e.CheckAuthenticationValidity,s=Object(r.useState)(!0),o=Object(nt.a)(s,2),c=o[0],l=o[1],d=Object(r.useState)(null),j=Object(nt.a)(d,2),h=j[0],u=j[1],p=Object(r.useState)(null),O=Object(nt.a)(p,2),m=O[0],x=O[1],y=Object(r.useState)(null),v=Object(nt.a)(y,2),C=v[0],w=v[1],k=Object(r.useState)(!1),D=Object(nt.a)(k,2),_=D[0],P=D[1],I=Object(r.useState)(!1),A=Object(nt.a)(I,2),B=A[0],N=A[1],L=Object(r.useState)(!1),E=Object(nt.a)(L,2),U=E[0],T=E[1],M=Object(r.useState)(!1),F=Object(nt.a)(M,2),W=F[0],R=F[1],V=Object(r.useState)(!1),Q=Object(nt.a)(V,2),z=Q[0],H=Q[1],J=Object(r.useState)(!1),Y=Object(nt.a)(J,2),q=Y[0],G=Y[1],$=Object(r.useState)(new st),Z=Object(nt.a)($,2),K=Z[0],X=Z[1],ee=Object(r.useCallback)((function(e){var t=new Array;e&&Array.isArray(e)&&e.forEach((function(e){t.push({_id:e._id,patientName:e.patientName,patientId:e.patientId,chapterTemplates:e.chapterTemplates,memberChapters:e.memberChapters,overallCompleteness:e.overallCompleteness,createdBy:e.createdBy,createdAt:e.updatedAt,modifiedBy:e.modifiedBy,updatedAt:e.updatedAt})})),u([].concat(t)),x([].concat(t)),w([])}),[]),te=Object(r.useCallback)((function(){b("collections/",a.token,(function(e,t){e?X(new st("Unable to retrieve Collections. Please refresh and try again.","error")):200===t.status?ee(t.data.response.collections):X(new st("Unable to retrieve Collections. Please refresh and try again.","error"))}))}),[ee,a.token]);return Object(r.useEffect)((function(){n(),setTimeout((function(){i((function(e){e?te():X(null)}))}),200)}),[]),Object(r.useEffect)((function(){x(h),w([])}),[h]),null!=K?Object(g.jsxs)("div",{className:t.root,children:[Object(g.jsxs)(Be.a,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"stretch",style:{height:"100%"},spacing:1,children:[Object(g.jsx)(Be.a,{item:!0,xs:5,children:Object(g.jsx)(Ne.a,{mx:1,my:1,children:Object(g.jsx)(f.a,{variant:"h5",color:"inherit",align:"left",gutterBottom:!0,children:"Manage Collections"})})}),Object(g.jsx)(Be.a,{item:!0,xs:6,children:Object(g.jsx)(Ne.a,{mx:1,my:1,children:Object(g.jsx)(jt,{alert:K,setParentAlert:X})})}),Object(g.jsx)(Be.a,{item:!0,xs:12,children:Object(g.jsx)(Ne.a,{mx:1,my:1,boxShadow:3,children:Object(g.jsx)(Le.a,{raised:!0,children:Object(g.jsx)(Be.a,{container:!0,direction:"column",justifyContent:"flex-start",alignItems:"stretch",spacing:0,children:h&&m&&C?Object(g.jsxs)(Be.a,{item:!0,xs:12,children:[Object(g.jsx)(rn,{isDense:c,setIsDense:l,dataList:h,getParentData:te,setSearchFilteredDataList:x,setCreateCollectionDialog:P,setParentAlert:X}),Object(g.jsx)(Kr,{isDense:c,searchFilteredDataList:m,selectedDataItemsList:C,setSelectedDataItemsList:w,setParentDeleteCollectionDialog:H,setParentExportCollectionDialog:T})]}):Object(g.jsx)(Be.a,{item:!0,xs:12,container:!0,direction:"row",justifyContent:"center",alignItems:"stretch",spacing:1,children:Object(g.jsx)(Be.a,{item:!0,children:Object(g.jsx)(Ne.a,{mx:1,my:1,boxShadow:0,children:Object(g.jsx)(S.a,{})})})})})})})})]}),Object(g.jsx)(un,{createCollectionDialog:_,setCreateCollectionDialog:P,createCollectionDialogExecuting:B,setCreateCollectionDialogExecuting:N,setParentAlert:X,getParentData:te,appState:a}),Object(g.jsx)(dn,{exportCollectionDialog:U,setExportCollectionDialog:T,exportCollectionDialogExecuting:W,setExportCollectionDialogExecuting:R,selectedDataItemsList:C,setParentAlert:X,getParentData:te}),Object(g.jsx)(On,{deleteCollectionDialog:z,setDeleteCollectionDialog:H,deleteCollectionDialogExecuting:q,setDeleteCollectionDialogExecuting:G,selectedDataItemsList:C,setSelectedDataItemsList:w,setParentAlert:X,getParentData:te,appState:a})]}):Object(g.jsx)(f.a,{variant:"h6",color:"inherit",align:"center",gutterBottom:!0,children:"Not Authorized. Please refresh and try again."})};Ps.defaultProps={appState:{},ToggleDrawerClose:function(){},CheckAuthenticationValidity:function(){}};var Is=Ps,As=function(e){return Object(g.jsxs)(Ne.a,{display:"flex",alignItems:"center",children:[Object(g.jsx)(Ne.a,{width:"100%",mr:1,children:Object(g.jsx)(qn.a,Object(T.a)({variant:"determinate"},e))}),Object(g.jsx)(Ne.a,{minWidth:35,children:Object(g.jsx)(f.a,{variant:"body2",color:"textSecondary",children:"".concat(Math.round(e.value),"%")})})]})},Bs=function(e){return Object(g.jsxs)(Ne.a,{position:"relative",display:"inline-flex",children:[Object(g.jsx)(S.a,Object(T.a)(Object(T.a)({variant:"determinate"},e),{},{color:"secondary"})),Object(g.jsx)(Ne.a,{top:0,left:0,bottom:0,right:0,position:"absolute",display:"flex",alignItems:"center",justifyContent:"center",children:Object(g.jsx)(f.a,{variant:"caption",component:"div",color:"textSecondary",children:"".concat(Math.round(e.value),"%")})})]})},Ns="/staff/booklets/",Ls=Object(ot.a)((function(e){return{root:{flexGrow:1,height:"100%"},rootGrid:{height:"100%"}}})),Es=function(e){var t=Ls(),a=e.appState,n=e.CollectionID,i=e.ToggleDrawerClose,s=e.CheckAuthenticationValidity,o=Object(r.useState)(null),c=Object(nt.a)(o,2),l=c[0],d=c[1],j=Object(r.useState)(null),h=Object(nt.a)(j,2),u=h[0],p=h[1],O=Object(r.useState)(new st),m=Object(nt.a)(O,2),x=m[0],y=m[1],v=Object(r.useCallback)((function(){null!=n?b("collections/"+n,a.token,(function(e,t){e?y(new st("Unable to retrieve Collection. Please refresh and try again.","error")):200===t.status||304===t.status?(d(t.data.collection),y(new st("Successfully pulled Collection.","success"))):y(new st("Unable to retrieve Collection. Please refresh and try again.","error"))})):y(new st("Unable to retrieve Collection. Please refresh and try again.","error"))}),[n,a]);return Object(r.useEffect)((function(){i(),setTimeout((function(){s((function(e){e?v():y(null)}))}),200)}),[]),Object(r.useEffect)((function(){p(l)}),[l]),null!=x?Object(g.jsx)("div",{className:t.root,children:Object(g.jsxs)(Be.a,{container:!0,className:t.rootGrid,direction:"row",justifyContent:"flex-start",alignItems:"stretch",spacing:1,children:[Object(g.jsx)(Be.a,{item:!0,xs:5,children:Object(g.jsx)(Ne.a,{mx:1,my:1,children:Object(g.jsx)(Be.a,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"stretch",spacing:1,children:Object(g.jsx)(Be.a,{item:!0,xs:!0,children:Object(g.jsxs)(f.a,{variant:"h4",color:"inherit",align:"left",gutterBottom:!0,children:["Viewing Collection ",l?'"'.concat(l._id,'"'):null]})})})})}),Object(g.jsx)(Be.a,{item:!0,xs:6,children:Object(g.jsx)(Ne.a,{mx:1,my:1,children:Object(g.jsx)(jt,{alert:x,setParentAlert:y})})}),Object(g.jsx)(Be.a,{item:!0,xs:12,children:Object(g.jsx)(Le.a,{raised:!0,children:Object(g.jsx)(Ne.a,{mx:2,my:1,boxShadow:0,children:Object(g.jsx)(Be.a,{container:!0,direction:"column",justifyContent:"flex-start",alignItems:"stretch",spacing:1,children:u?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)(Be.a,{item:!0,xs:12,container:!0,direction:"row",justifyContent:"space-between",alignItems:"stretch",spacing:1,children:[Object(g.jsxs)(Be.a,{item:!0,children:[Object(g.jsx)(f.a,{variant:"h6",component:"h6",children:"Collection properties"}),Object(g.jsx)(V.a,{})]}),Object(g.jsx)(Be.a,{item:!0,xs:!0,children:Object(g.jsx)(Ne.a,{mx:3,my:1,boxShadow:0,children:Object(g.jsxs)(Be.a,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"stretch",spacing:1,children:[Object(g.jsx)(Be.a,{item:!0,children:Object(g.jsxs)(f.a,{display:"block",component:"div",align:"left",gutterBottom:!0,children:[Object(g.jsx)(f.a,{display:"inline",variant:"body1",component:"div",color:"secondary",align:"left",gutterBottom:!0,children:"Patient:\xa0"}),Object(g.jsx)(f.a,{display:"inline",variant:"body1",component:"div",color:"textSecondary",align:"left",gutterBottom:!0,children:"".concat(u.patientId.info.name)})]})}),Object(g.jsx)(Be.a,{item:!0,children:Object(g.jsxs)(f.a,{display:"block",component:"div",align:"left",gutterBottom:!0,children:[Object(g.jsx)(f.a,{display:"inline",variant:"body1",component:"div",color:"secondary",align:"left",gutterBottom:!0,children:"Patient ID:\xa0"}),Object(g.jsx)(f.a,{display:"inline",variant:"body1",component:"div",color:"textSecondary",align:"left",gutterBottom:!0,children:"".concat(u.patientId._id)})]})})]})})}),Object(g.jsx)(Be.a,{item:!0,children:Object(g.jsx)(Ve.a,{placement:"left",title:"This page is to view the selected collection.",children:Object(g.jsx)(fe.a,{children:Object(g.jsx)(Ka.a,{})})})})]}),Object(g.jsx)(Be.a,{item:!0,xs:12,children:Object(g.jsx)(Ne.a,{mx:1,my:1,boxShadow:0,children:Object(g.jsxs)(Be.a,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"stretch",spacing:1,children:[Object(g.jsx)(Be.a,{item:!0,xs:2,children:Object(g.jsx)(ba.a,{label:"Collection ID",disabled:!0,size:"small",variant:"filled",fullWidth:!0,value:u._id})}),Object(g.jsx)(Be.a,{item:!0,xs:2,children:Object(g.jsx)(ba.a,{label:"Updated",disabled:!0,size:"small",fullWidth:!0,variant:"filled",value:new Date(u.updatedAt).toLocaleString(),InputProps:{readOnly:!0}})}),Object(g.jsx)(Be.a,{item:!0,xs:2,children:Object(g.jsx)(ba.a,{label:"Updated By",disabled:!0,size:"small",fullWidth:!0,variant:"filled",value:u.modifiedBy,InputProps:{readOnly:!0}})}),Object(g.jsx)(Be.a,{item:!0,xs:2,children:Object(g.jsx)(ba.a,{label:"Created",disabled:!0,size:"small",fullWidth:!0,variant:"filled",value:new Date(u.createdAt).toLocaleString(),InputProps:{readOnly:!0}})}),Object(g.jsx)(Be.a,{item:!0,xs:2,children:Object(g.jsx)(ba.a,{label:"Created By",disabled:!0,size:"small",fullWidth:!0,variant:"filled",value:u.createdBy,InputProps:{readOnly:!0}})})]})})}),Object(g.jsxs)(Be.a,{item:!0,xs:12,container:!0,direction:"row",justifyContent:"space-between",alignItems:"stretch",spacing:1,children:[Object(g.jsxs)(Be.a,{item:!0,children:[Object(g.jsx)(f.a,{variant:"h6",component:"h6",className:t.button,children:"Collection chapters"}),Object(g.jsx)(V.a,{})]}),Object(g.jsx)(Be.a,{item:!0,xs:!0,children:Object(g.jsxs)(Ne.a,{mx:3,my:1,boxShadow:0,children:[Object(g.jsx)(f.a,{variant:"body2",color:"textSecondary",children:"".concat(u.chapterTemplates.length," total chapter").concat(u.chapterTemplates.length>1?"s":"")}),Object(g.jsx)(As,{value:u.overallCompleteness})]})})]}),Object(g.jsx)(Be.a,{item:!0,xs:12,container:!0,direction:"row",justifyContent:"space-between",alignItems:"stretch",spacing:1,children:Object(g.jsx)(Be.a,{item:!0,children:Object(g.jsx)(G.a,{dense:!1,children:u.memberChapters.map((function(e){var t="Admin"===a.role?"/administration/booklets/":"";return t="Coordinator"===a.role?Ns:t,t="Volunteer"===a.role?Ns:t,t="Patient"===a.role?"/client/booklets/":t,Object(g.jsxs)($.a,{dense:!1,divider:!0,children:[Object(g.jsx)(yn.a,{children:Object(g.jsx)(Bs,{value:e.completeStatus})}),Object(g.jsx)(K.a,{primary:e.name,secondary:e._id}),Object(g.jsx)(gn.a,{children:Object(g.jsx)(Ve.a,{placement:"right",title:"Fill in Chapter",children:Object(g.jsx)(fe.a,{edge:"end","aria-label":"edit",size:"small",component:M.b,to:t+"user/edit/"+e._id,children:Object(g.jsx)(ki.a,{})})})})]},e._id)}))})})})]}):Object(g.jsx)(Be.a,{item:!0,xs:12,container:!0,direction:"row",justifyContent:"center",alignItems:"stretch",spacing:1,children:Object(g.jsx)(Be.a,{item:!0,children:Object(g.jsx)(Ne.a,{mx:1,my:1,boxShadow:0,children:Object(g.jsx)(S.a,{})})})})})})})})]})}):Object(g.jsx)(f.a,{variant:"h6",color:"inherit",align:"center",gutterBottom:!0,children:"Not Authorized. Please refresh and try again."})};Es.defaultProps={appState:{},CollectionID:{},ToggleDrawerClose:function(){},CheckAuthenticationValidity:function(){}};var Us=Es,Ts=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var r;return Object(o.a)(this,a),(r=t.call(this,e)).toggleDrawerOpen=function(){r.setState({drawerOpen:!r.state.drawerOpen})},r.toggleDrawerClose=function(){r.setState({drawerOpen:!1})},r.toggleExportRender=function(){r.setState({renderForPDF:!0})},r.state={drawerOpen:!1,renderForPDF:!1},r}return Object(c.a)(a,[{key:"render",value:function(){var e=this,t=this.props.classes,a=this.state.renderForPDF;return Object(g.jsx)(M.a,{children:Object(g.jsxs)("div",{className:t.root,children:[Object(g.jsx)(w.a,{}),!a&&Object(g.jsx)(Ae,{appState:this.props.appState,toggleDrawerOpen:this.toggleDrawerOpen,Logout:this.props.Logout}),Object(g.jsxs)(Q.a,{className:t.drawer,variant:"persistent",anchor:"left",classes:{paper:t.drawerPaper},open:this.state.drawerOpen,children:[Object(g.jsx)("div",{className:t.toolbar}),Object(g.jsx)(V.a,{}),Object(g.jsx)(be,{appState:this.props.appState})]}),Object(g.jsxs)("main",{className:R()(t.content,Object(p.a)({},t.contentShift,this.state.drawerOpen)),children:[Object(g.jsx)("div",{className:t.toolbar}),Object(g.jsxs)(F.d,{children:[Object(g.jsx)(F.b,{exact:!0,path:"/",render:function(t){return Object(g.jsx)(Fe,Object(T.a)(Object(T.a)({},t),{},{appState:e.props.appState,CheckAuthenticationValidity:e.props.CheckAuthenticationValidity,ToggleDrawerClose:e.toggleDrawerClose}))}}),Object(g.jsx)(F.b,{path:"/client/collections/view/:collectionID",render:function(t){return Object(g.jsx)(Us,Object(T.a)(Object(T.a)({},t),{},{CollectionID:t.match.params.collectionID,appState:e.props.appState,CheckAuthenticationValidity:e.props.CheckAuthenticationValidity,ToggleDrawerClose:e.toggleDrawerClose}))}}),Object(g.jsx)(F.b,{path:"/client/booklets/user/edit/:bookletID",render:function(t){return Object(g.jsx)(Li,Object(T.a)(Object(T.a)({},t),{},{ChapterID:t.match.params.bookletID,appState:e.props.appState,CheckAuthenticationValidity:e.props.CheckAuthenticationValidity,ToggleDrawerClose:e.toggleDrawerClose,mode:"Client"}))}}),Object(g.jsx)(F.b,{path:"/staff/users/view/:userID",render:function(t){return Object(g.jsx)(Zn,Object(T.a)(Object(T.a)({},t),{},{userID:t.match.params.userID,appState:e.props.appState,CheckAuthenticationValidity:e.props.CheckAuthenticationValidity,ToggleDrawerClose:e.toggleDrawerClose}))}}),Object(g.jsx)(F.b,{path:"/staff/collections/view/:collectionID",render:function(t){return Object(g.jsx)(Us,Object(T.a)(Object(T.a)({},t),{},{CollectionID:t.match.params.collectionID,appState:e.props.appState,CheckAuthenticationValidity:e.props.CheckAuthenticationValidity,ToggleDrawerClose:e.toggleDrawerClose}))}}),Object(g.jsx)(F.b,{path:"/staff/booklets/user/edit/:bookletID",render:function(t){return Object(g.jsx)(Li,Object(T.a)(Object(T.a)({},t),{},{ChapterID:t.match.params.bookletID,appState:e.props.appState,CheckAuthenticationValidity:e.props.CheckAuthenticationValidity,ToggleDrawerClose:e.toggleDrawerClose}))},mode:"Staff"}),Object(g.jsx)(F.b,{path:"/reports",render:function(t){return Object(g.jsx)(Ht,Object(T.a)(Object(T.a)({},t),{},{appState:e.props.appState,CheckAuthenticationValidity:e.props.CheckAuthenticationValidity,ToggleDrawerClose:e.toggleDrawerClose}))}}),Object(g.jsx)(F.b,{path:"/profile",render:function(t){return Object(g.jsx)(Zn,Object(T.a)(Object(T.a)({},t),{},{userID:e.props.appState._id,appState:e.props.appState,CheckAuthenticationValidity:e.props.CheckAuthenticationValidity,ToggleDrawerClose:e.toggleDrawerClose}))}}),Object(g.jsx)(F.b,{path:"/members",render:function(t){return Object(g.jsx)(Lr,Object(T.a)(Object(T.a)({},t),{},{appState:e.props.appState,CheckAuthenticationValidity:e.props.CheckAuthenticationValidity,ToggleDrawerClose:e.toggleDrawerClose,mode:"Other"}))}}),Object(g.jsx)(F.b,{path:"/administration/users/edit/:profileID?",render:function(t){return Object(g.jsx)(ri,Object(T.a)(Object(T.a)({},t),{},{appState:e.props.appState,CheckAuthenticationValidity:e.props.CheckAuthenticationValidity,ToggleDrawerClose:e.toggleDrawerClose}))}}),Object(g.jsx)(F.b,{path:"/administration/users/research/:profileID?",render:function(t){return Object(g.jsx)(si,Object(T.a)(Object(T.a)({},t),{},{appState:e.props.appState,CheckAuthenticationValidity:e.props.CheckAuthenticationValidity,ToggleDrawerClose:e.toggleDrawerClose}))}}),Object(g.jsx)(F.b,{path:"/administration/users/management",render:function(t){return Object(g.jsx)(Lr,Object(T.a)(Object(T.a)({},t),{},{appState:e.props.appState,CheckAuthenticationValidity:e.props.CheckAuthenticationValidity,ToggleDrawerClose:e.toggleDrawerClose,mode:"Admin"}))}}),Object(g.jsx)(F.b,{path:"/administration/users/view/:userID",render:function(t){return Object(g.jsx)(Zn,Object(T.a)(Object(T.a)({},t),{},{userID:t.match.params.userID,appState:e.props.appState,CheckAuthenticationValidity:e.props.CheckAuthenticationValidity,ToggleDrawerClose:e.toggleDrawerClose}))}}),Object(g.jsx)(F.b,{path:"/administration/booklets/template/edit/:bookletID",render:function(t){return Object(g.jsx)(Si,Object(T.a)(Object(T.a)({},t),{},{ChapterID:t.match.params.bookletID,appState:e.props.appState,CheckAuthenticationValidity:e.props.CheckAuthenticationValidity,ToggleDrawerClose:e.toggleDrawerClose}))}}),Object(g.jsx)(F.b,{path:"/administration/booklets/template/view/:bookletID",render:function(t){return Object(g.jsx)(Pi,Object(T.a)(Object(T.a)({},t),{},{ChapterID:t.match.params.bookletID,appState:e.props.appState,CheckAuthenticationValidity:e.props.CheckAuthenticationValidity,ToggleDrawerClose:e.toggleDrawerClose}))}}),Object(g.jsx)(F.b,{path:"/administration/booklets/user/edit/:bookletID",render:function(t){return Object(g.jsx)(Li,Object(T.a)(Object(T.a)({},t),{},{ChapterID:t.match.params.bookletID,appState:e.props.appState,CheckAuthenticationValidity:e.props.CheckAuthenticationValidity,ToggleDrawerClose:e.toggleDrawerClose,mode:"Admin"}))}}),Object(g.jsx)(F.b,{path:"/administration/booklets/user/view/:bookletID",render:function(t){return Object(g.jsx)(Mi,Object(T.a)(Object(T.a)({},t),{},{ChapterID:t.match.params.bookletID,appState:e.props.appState,CheckAuthenticationValidity:e.props.CheckAuthenticationValidity,ToggleDrawerClose:e.toggleDrawerClose}))}}),Object(g.jsx)(F.b,{path:"/administration/booklets/management",render:function(t){return Object(g.jsx)(ws,Object(T.a)(Object(T.a)({},t),{},{appState:e.props.appState,CheckAuthenticationValidity:e.props.CheckAuthenticationValidity,ToggleDrawerClose:e.toggleDrawerClose}))}}),Object(g.jsx)(F.b,{path:"/administration/collections/management",render:function(t){return Object(g.jsx)(Is,Object(T.a)(Object(T.a)({},t),{},{appState:e.props.appState,CheckAuthenticationValidity:e.props.CheckAuthenticationValidity,ToggleDrawerClose:e.toggleDrawerClose}))}}),Object(g.jsx)(F.b,{path:"/administration/collections/view/:collectionID",render:function(t){return Object(g.jsx)(Us,Object(T.a)(Object(T.a)({},t),{},{CollectionID:t.match.params.collectionID,appState:e.props.appState,CheckAuthenticationValidity:e.props.CheckAuthenticationValidity,ToggleDrawerClose:e.toggleDrawerClose}))}}),Object(g.jsx)(F.b,{component:Ds})]})]})]})})}}]),a}(r.Component),Ms=Object(I.a)((function(e){return{root:{display:"flex"},appBar:{zIndex:e.zIndex.drawer+1},menuButton:{marginRight:5},drawer:{width:240,flexShrink:0,whiteSpace:"nowrap"},drawerPaper:{width:240},toolbar:Object(T.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),content:{flexGrow:1,padding:e.spacing(3),transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),marginLeft:-240},contentShift:{transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginLeft:0}}}))(Ts),Fs=a(238),Ws=a(180),Rs=a.n(Ws),Vs=a(114),Qs=a.n(Vs),zs=a(198),Hs=a.n(zs),Js=a(181),Ys=a.n(Js),qs=a(197),Gs=a.n(qs),$s=Object(Fs.a)({palette:{primary:{light:Rs.a[300],main:Rs.a[500],dark:Rs.a[700],contrastText:"#ffffff"},secondary:{light:Qs.a[300],main:Qs.a[500],dark:Qs.a[700],contrastText:"#ffffff"},tertiary:{light:Qs.a[300],main:Qs.a[500],dark:Qs.a[700],contrastText:"#ffffff"}},alignLeftSpacer:{marginLeft:"auto",marginRight:0},button:{margin:Gs.a.unit},card:{marginBottom:5},colorGreen:{color:L.a[500]},colorBlue:{color:Ys.a[500]},colorRed:{color:Hs.a[800]},error:{color:Hs.a[500],marginTop:10,marginBottom:10,marginLeft:5},flex:{display:"flex"},flexWrap:{display:"flex",flexWrap:"wrap"},marginTop:{marginTop:10},rightIcon:{marginLeft:Gs.a.unit},save:{color:Ys.a[500]},spinner:{color:L.a[500]},success:{color:Ys.a[500],marginTop:10,marginBottom:10,marginLeft:5},title:{marginBottom:5},typography:{useNextVariants:!0}}),Zs=a(383),Ks={spinner:{color:L.a[500],position:"absolute",left:"50%",top:"25%",marginTop:-12,marginLeft:-12}},Xs=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var r;return Object(o.a)(this,a),(r=t.call(this,e)).componentDidMount=function(){r.CheckAuthentication()},r.CheckAuthentication=function(){var e=r.state.token;if(null===e||void 0===e||""===e){var t=localStorage.getItem("_id"),a=localStorage.getItem("name"),n=localStorage.getItem("role"),i=JSON.parse(localStorage.getItem("patients")),s=JSON.parse(localStorage.getItem("workers")),o=localStorage.getItem("facilityId"),c=localStorage.getItem("facilityName"),l=localStorage.getItem("token");null==t||null==a||null==n||null==i||null==s||null==l||null==o||null==c?r.Logout():r.setState({_id:t,name:a,role:n,patients:i,workers:s,facilityId:o,facilityName:c,token:l},(function(){return r.CheckAuthenticationValidity((function(e){e?r.setState({authenticated:!0,render:!0}):r.Logout()}))}))}else r.CheckAuthenticationValidity((function(e){e||r.Logout()}))},r.CheckAuthenticationValidity=function(e){var t=r.state.token;u(t,(function(t,a){t?(e(!1),r.Logout()):200===a.status||304===a.status?e(!0):(e(!1),r.Logout())}))},r.UpdateUser=function(){var e=r.state,t=e._id,a=e.token;return b("users/"+t,a,(function(e,t){e||200!==t.status&&304!==t.status||(localStorage.setItem("patients",JSON.stringify(t.data.user.patients)),localStorage.setItem("workers",JSON.stringify(t.data.user.workers)))}))},r.Login=function(e,t){localStorage.setItem("_id",t._id),localStorage.setItem("name",t.info.name),localStorage.setItem("role",t.role),localStorage.setItem("patients",JSON.stringify(t.patients)),localStorage.setItem("workers",JSON.stringify(t.workers)),localStorage.setItem("facilityId",t.facilityId._id),localStorage.setItem("facilityName",t.facilityId.name),localStorage.setItem("token",e),r.setState({_id:t._id,name:t.info.name,role:t.role,patients:t.patients,workers:t.workers,facilityId:t.facilityId._id,facilityName:t.facilityId.name,token:e,authenticated:!0})},r.Logout=function(){localStorage.removeItem("_id"),localStorage.removeItem("name"),localStorage.removeItem("role"),localStorage.removeItem("patients"),localStorage.removeItem("workers"),localStorage.removeItem("facilityId"),localStorage.removeItem("facilityName"),localStorage.removeItem("token"),r.setState({_id:null,role:null,name:null,token:null,patients:null,workers:null,authenticated:!1,render:!0})},r.state={_id:null,name:null,role:null,patients:[],workers:[],token:null,facilityId:null,facilityName:null,authenticated:!1,render:!1},r}return Object(c.a)(a,[{key:"render",value:function(){var e=this.props.classes,t=this.state,a=t.authenticated,r=t.render;return r?a?Object(g.jsx)(Zs.a,{theme:$s,children:Object(g.jsx)(Ms,{appState:this.state,Logout:this.Logout,CheckAuthenticationValidity:this.CheckAuthenticationValidity,UpdateUser:this.UpdateUser})}):Object(g.jsx)(U,{Login:this.Login}):Object(g.jsx)("div",{align:"center",children:Object(g.jsx)(S.a,{className:e.spinner})})}}]),a}(r.Component),eo=Object(I.a)(Ks)(Xs),to=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function ao(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}a(296).config(),s.a.render(Object(g.jsx)(eo,{}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");to?(!function(e,t){fetch(e).then((function(a){var r=a.headers.get("content-type");404===a.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):ao(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")}))):ao(t,e)}))}}()}},[[300,1,3]]]);
//# sourceMappingURL=main.3192a10c.chunk.js.map