(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{166:function(e,t,a){},304:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),i=a(32),c=a.n(i),s=a(7),o=a(8),l=a(11),d=a(10),j=a(60),b=a.n(j);var u=function(e,t){b()({method:"get",url:"/api/users/validate",headers:{"Content-Type":"application/json",Authorization:"Bearer "+e},timeout:5e3}).then((function(e){t(null,e)})).catch((function(e){t(e,null)}))};var h=function(e,t,a){b()({method:"get",url:"/api/"+e,headers:{"Content-Type":"application/json",Authorization:"Bearer "+t},timeout:5e3}).then((function(e){a(null,e)})).catch((function(e){a(e,null)}))},p=a(18);var O=function(e,t){b()({method:"post",url:"/api/users/login",headers:{"Content-Type":"application/json"},data:JSON.stringify(e),timeout:5e3}).then((function(e){t(null,e)})).catch((function(e){t(e.response,null)}))};var m=function(e,t){b()({method:"post",url:"https://weccc.dev/api/users/login",headers:{"Content-Type":"application/json"},data:JSON.stringify(e),timeout:5e3}).then((function(e){t(null,e)})).catch((function(e){t(e,null)}))};var x=function(e,t,a){b()({method:"post",url:"/api/users/wecc",headers:{"Content-Type":"application/json"},data:JSON.stringify(t),timeout:5e3}).then((function(e){a(null,e)})).catch((function(e){a(e,null)}))},f=a(89),g=a(0),y=function(e){var t=e.children,a=e.color;return Object(g.jsx)(f.a,{component:"p",className:a,children:t})},v=a(393),C=a(306),S=a(349),w=a(346),k=a(347),D=a(348),P=a(394),_=a(202),I=a(9),A=a(223),B=a.n(A),L=a(114),N=a.n(L),E=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).handleEmailChange=function(e){n.setState({email:e.target.value})},n.handlePasswordChange=function(e){n.setState({password:e.target.value})},n.handleLogin=function(){var e=n.state,t=e.email,a=e.password;if(""!==t)if(n.setState({loginValidText:""}),""!==a){n.setState({loginValidText:""});var r={email:t,password:a};n.setState({authenticating:!0}),O(r,(function(e,t){e?401===e.status||400===e.status?n.setState({loginValidText:"Your email or password is incorrect.",authenticating:!1}):(e.status,n.setState({loginValidText:"There was a problem contacting the server.  Please try again later.",authenticating:!1})):200!==t.status&&304!==t.status||!t?n.setState({loginValidText:"Either your email or password is incorrect, or your Account is Disabled.",authenticating:!1}):n.props.Login(t.data.token,t.data.user)}))}else n.setState({loginValidText:"Please enter your password."});else n.setState({loginValidText:"Please enter an email."})},n.handleWECCLogin=function(){var e=n.state,t=e.email,a=e.password;if(""!==t)if(n.setState({loginValidText:""}),""!==a){n.setState({loginValidText:""});var r={email:t,password:a};n.setState({authenticating:!0}),m(r,(function(e,a){if(e)n.setState({loginValidText:"There was a problem contacting the WECC server.  Please try again later.",authenticating:!1});else if(200===a.status||304===a.status)if(a.data.success){var r={token:a.data.token,email:t};x("users/wecc",r,(function(e,t){e?401===e.response.status?n.setState({loginValidText:"Your WECC email does not have an account associated with the Palliative IMS.",authenticating:!1}):n.setState({loginValidText:"There was a problem verifying your WECC email.",authenticating:!1}):200===t.status||304===t.status?n.props.Login(t.data.token,t.data.user):n.setState({loginValidText:"Your WECC email does not have an account associated with the Palliative IMS.",authenticating:!1})}))}else n.setState({loginValidText:"Either your WECC email or password is incorrect.",authenticating:!1});else n.setState({loginValidText:"Either your WECC email or password is incorrect.",authenticating:!1})}))}else n.setState({loginValidText:"Please enter your password."});else n.setState({loginValidText:"Please enter an email/username for WECC."})},n.state={email:"",password:"",loginValidText:"",redirectTo:"",authenticating:!1,redirect:!1},n}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props.classes,t=this.state,a=t.email,n=t.loginValidText,r=t.password,i=t.authenticating;return Object(g.jsxs)("div",{className:e.main,children:[Object(g.jsx)(w.a,{}),Object(g.jsxs)(_.a,{className:e.paper,children:[Object(g.jsx)(v.a,{className:e.avatar,children:Object(g.jsx)(B.a,{})}),Object(g.jsx)(f.a,{component:"h1",variant:"h5",children:"WECCC IMS"}),Object(g.jsxs)("div",{className:e.form,children:[Object(g.jsxs)(k.a,{margin:"normal",required:!0,fullWidth:!0,children:[Object(g.jsx)(P.a,{htmlFor:"email",children:"Email Address"}),Object(g.jsx)(D.a,{id:"email",name:"email",autoComplete:"email",value:a,onChange:this.handleEmailChange,autoFocus:!0})]}),Object(g.jsxs)(k.a,{margin:"normal",required:!0,fullWidth:!0,children:[Object(g.jsx)(P.a,{htmlFor:"password",children:"Password"}),Object(g.jsx)(D.a,{name:"password",type:"password",id:"password",value:r,onChange:this.handlePasswordChange,autoComplete:"current-password"})]}),""!==n&&Object(g.jsx)(y,{color:"",children:n}),Object(g.jsxs)(C.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,disabled:i,onClick:this.handleLogin,children:["Sign in",i&&Object(g.jsx)(S.a,{size:24,className:e.spinner})]})]})]})]})}}]),a}(n.Component),T=Object(I.a)((function(e){return{main:Object(p.a)({width:"auto",display:"block",marginLeft:e.spacing(3),marginRight:e.spacing(3)},e.breakpoints.up(400+e.spacing(6)),{width:400,marginLeft:"auto",marginRight:"auto"}),paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center",padding:"".concat(e.spacing(2),"px ").concat(e.spacing(3),"px ").concat(e.spacing(3),"px")},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{marginTop:e.spacing(3)},spinner:{color:N.a[500],position:"absolute",left:"50%",marginTop:0,marginLeft:-12}}}))(E),U=a(6),M=a(17),F=a(43),W=a(224),z=a.n(W),R=a(357),V=a(395),Q=a(353),H=a(227),J=a.n(H),Y=a(228),G=a.n(Y),q=a(350),$=a(307),Z=a(351),K=a(352),X=a(103),ee=a.n(X),te=a(173),ae=a.n(te),ne=a(226),re=a.n(ne),ie=a(109),ce=a.n(ie),se=a(229),oe=a.n(se),le=a(106),de=a.n(le),je=a(117),be=a.n(je),ue=a(174),he=a.n(ue),pe=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).toggleUsersCollapseMenuOpen=function(){n.setState({managementCollapseMenuOpen:!n.state.managementCollapseMenuOpen})},n.toggleChaptersCollapseMenuOpen=function(){n.setState({chaptersCollapseMenuOpen:!n.state.chaptersCollapseMenuOpen})},n.toggleCollectionsCollapseMenuOpen=function(){n.setState({collectionsCollapseMenuOpen:!n.state.collectionsCollapseMenuOpen})},n.toggleReportsCollapseMenuOpen=function(){n.setState({reportsCollapseMenuOpen:!n.state.reportsCollapseMenuOpen})},n.state={managementCollapseMenuOpen:!1,chaptersCollapseMenuOpen:!1,collectionsCollapseMenuOpen:!1,reportsCollapseMenuOpen:!1},n}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props,t=e.appState,a=e.classes;return Object(g.jsxs)("div",{children:[Object(g.jsxs)(q.a,{children:[Object(g.jsxs)($.a,{button:!0,component:M.b,to:"/",children:[Object(g.jsx)(Z.a,{children:Object(g.jsx)(ae.a,{color:"primary"})}),Object(g.jsx)(K.a,{primary:"Dashboard"})]}),"Patient"!==t.role&&Object(g.jsxs)($.a,{button:!0,component:M.b,to:"/reports",children:[Object(g.jsx)(Z.a,{children:Object(g.jsx)(ce.a,{color:"primary"})}),Object(g.jsx)(K.a,{primary:"Your Reports"})]}),"Patient"==t.role&&Object(g.jsxs)($.a,{button:!0,component:M.b,to:"/ClientReports",children:[Object(g.jsx)(Z.a,{children:Object(g.jsx)(ce.a,{color:"primary"})}),Object(g.jsx)(K.a,{primary:"Your Reports"})]}),Object(g.jsxs)($.a,{button:!0,component:M.b,to:"/profile",children:[Object(g.jsx)(Z.a,{children:Object(g.jsx)(de.a,{color:"primary"})}),Object(g.jsx)(K.a,{children:"Your Profile"})]}),"Patient"!==t.role&&Object(g.jsxs)($.a,{button:!0,component:M.b,to:"/members",children:[Object(g.jsx)(Z.a,{children:Object(g.jsx)(be.a,{color:"primary"})}),Object(g.jsx)(K.a,{primary:"Your Members"})]})]}),("Admin"===t.role||"Coordinator"===t.role)&&Object(g.jsxs)(q.a,{children:[Object(g.jsxs)($.a,{button:!0,onClick:this.toggleUsersCollapseMenuOpen,children:[Object(g.jsx)(Z.a,{children:Object(g.jsx)(re.a,{color:"secondary"})}),Object(g.jsx)(K.a,{primary:"Management"}),this.state.managementCollapseMenuOpen?Object(g.jsx)(J.a,{}):Object(g.jsx)(G.a,{})]}),Object(g.jsx)(Q.a,{in:this.state.managementCollapseMenuOpen,timeout:"auto",unmountOnExit:!0,children:Object(g.jsxs)(q.a,{component:"div",disablePadding:!0,children:[Object(g.jsxs)($.a,{button:!0,component:M.b,to:"/administration/users/management",className:a.nested,children:[Object(g.jsx)(Z.a,{children:Object(g.jsx)(be.a,{})}),Object(g.jsx)(K.a,{secondary:"Users"})]}),Object(g.jsxs)($.a,{button:!0,component:M.b,to:"/administration/booklets/management",className:a.nested,children:[Object(g.jsx)(Z.a,{children:Object(g.jsx)(ee.a,{})}),Object(g.jsx)(K.a,{secondary:"Chapters"})]}),Object(g.jsxs)($.a,{button:!0,component:M.b,to:"/administration/services/management",className:a.nested,children:[Object(g.jsx)(Z.a,{children:Object(g.jsx)(oe.a,{})}),Object(g.jsx)(K.a,{secondary:"Services"})]}),Object(g.jsxs)($.a,{button:!0,component:M.b,to:"/administration/projects/management",className:a.nested,children:[Object(g.jsx)(Z.a,{children:Object(g.jsx)(he.a,{})}),Object(g.jsx)(K.a,{secondary:"Projects"})]}),Object(g.jsxs)($.a,{button:!0,component:M.b,to:"/administration/reports/management",className:a.nested,children:[Object(g.jsx)(Z.a,{children:Object(g.jsx)(ce.a,{})}),Object(g.jsx)(K.a,{secondary:"Reports"})]})]})})]})]})}}]),a}(n.Component),Oe=Object(I.a)((function(e){return{nested:{paddingLeft:e.spacing(4)},usersColors:{color:e.colorGreen},chapterColors:{color:e.colorGreen},collectionColors:{color:e.colorGreen}}}))(pe),me=a(358),xe=a(359),fe=a(242),ge=a(356),ye=a(308),ve=a(231),Ce=a.n(ve),Se=a(129),we=a.n(Se),ke=a(144),De=a.n(ke),Pe=a(232),_e=a.n(Pe),Ie=a(230),Ae=a.n(Ie),Be=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).handleAccountMenuOpen=function(e){n.setState({accountMenuAnchor:e.currentTarget,accountMenuOpen:!0})},n.handleAccountMenuClose=function(){n.setState({accountMenuAnchor:null,accountMenuOpen:!1})},n.handleMenuClose=function(){n.setState({accountMenuAnchor:null,accountMenuOpen:!1})},n.renderAccountMenu=function(){return Object(g.jsxs)(fe.a,{anchorEl:n.state.accountMenuAnchor,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},open:n.state.accountMenuOpen,onClose:n.handleMenuClose,children:[Object(g.jsxs)(ge.a,{component:M.b,to:"/profile/",onClick:n.handleAccountMenuClose,children:[Object(g.jsx)(Z.a,{children:Object(g.jsx)(de.a,{fontSize:"small"})}),Object(g.jsx)(K.a,{primary:"Your Profile"})]}),Object(g.jsxs)(ge.a,{onClick:n.props.Logout,children:[Object(g.jsx)(Z.a,{children:Object(g.jsx)(Ae.a,{fontSize:"small"})}),Object(g.jsx)(K.a,{primary:"Logout"})]}),Object(g.jsx)(R.a,{}),Object(g.jsxs)(ge.a,{onClick:n.handleAccountMenuClose,children:[Object(g.jsx)(Z.a,{children:Object(g.jsx)(we.a,{fontSize:"small"})}),Object(g.jsx)(K.a,{secondary:"Close Menu"})]})]})},n.state={accountMenuAnchor:null,accountMenuOpen:!1,token:e.state},n}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props.classes;return Object(g.jsx)(me.a,{position:"fixed",color:"primary",className:e.appBar,children:Object(g.jsxs)(xe.a,{children:[Object(g.jsx)(ye.a,{color:"inherit","aria-label":"Open drawer",onClick:this.props.toggleDrawerOpen,className:e.menuButton,children:Object(g.jsx)(Ce.a,{})}),Object(g.jsx)("div",{className:e.grow,children:Object(g.jsx)(f.a,{variant:"h6",color:"inherit",noWrap:!0,children:Object(g.jsx)(C.a,{color:"inherit",component:M.b,to:"/",children:"Windsor Essex Community Compassion Care IMS"})})}),Object(g.jsxs)("div",{className:e.sectionDesktop,children:[Object(g.jsx)(ye.a,{color:"inherit",children:Object(g.jsx)(_e.a,{})}),Object(g.jsx)(ye.a,{color:"inherit","aria-owns":this.state.accountMenuOpen?"material-appbar":void 0,"aria-haspopup":"true",onClick:this.handleAccountMenuOpen,children:Object(g.jsx)(De.a,{})}),this.renderAccountMenu()]})]})})}}]),a}(n.Component),Le=Object(I.a)((function(e){return{root:{display:"flex"},appBar:{zIndex:e.zIndex.drawer+1},menuButton:{marginRight:5},grow:{flexGrow:1},sectionDesktop:{display:"flex"}}}))(Be),Ne=a(360),Ee=a(392),Te=a(361),Ue=a(363),Me=a(362),Fe=function(e){return{bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"}}},We=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).checkAuth=function(){setTimeout((function(){n.props.ToggleDrawerClose(),n.props.CheckAuthenticationValidity((function(e){e&&n.setState({render:!0})}))}),200)},n.checkClientSurveys=function(){var e=n.props.appState,t="users/client/".concat(e._id),a=e.token;h(t,a,(function(e,t){e||200===t.status&&(console.log(t.data),n.setState({clientData:t.data}),n.setState({clientSurvey:t.data.surveys[0]._id}),console.log(n.state.clientData))}))},n.componentDidMount=function(){var e=n.props.appState;n.classes={bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"}},n.bull=Object(g.jsx)("span",{className:n.classes.bullet,children:"\u2022"}),"Patient"===e.role&&n.checkClientSurveys(),n.checkAuth()},n.state={render:!1,clientData:[],clientSurvey:""},n}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props,t=e.appState,a=e.classes;return this.render?Object(g.jsxs)(Ne.a,{container:!0,className:a.rootGrid,direction:"row",justifyContent:"flex-start",alignItems:"stretch",spacing:2,children:[Object(g.jsx)(Ne.a,{item:!0,xs:3,children:Object(g.jsx)(Ee.a,{mx:1,my:1,children:Object(g.jsxs)(Ne.a,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"center",spacing:2,children:[Object(g.jsx)(Ne.a,{item:!0,children:Object(g.jsx)(ae.a,{color:"primary"})}),Object(g.jsx)(Ne.a,{item:!0,xs:!0,children:Object(g.jsx)(f.a,{variant:"h5",color:"secondary",align:"left",gutterBottom:!1,children:"Dashboard"})})]})})}),Object(g.jsx)(Ne.a,{item:!0,xs:9,children:Object(g.jsx)(Ee.a,{mx:1,my:1})}),Object(g.jsx)(Ne.a,{item:!0,xs:12,children:Object(g.jsx)(Te.a,{raised:!0,children:Object(g.jsx)(Me.a,{children:Object(g.jsx)(Ee.a,{mx:1,my:1,boxShadow:0,children:Object(g.jsxs)(Ne.a,{container:!0,direction:"column",justifyContent:"flex-start",alignItems:"stretch",spacing:1,children:[Object(g.jsx)(Ne.a,{item:!0,xs:12,children:Object(g.jsxs)(f.a,{variant:"subtitle2",component:"h2",children:["Welcome back, ",t.name]})}),Object(g.jsx)(Ne.a,{item:!0,xs:12,children:Object(g.jsx)(f.a,{variant:"body2",component:"h2",children:"Looks like there isnt much on the dashboard as of this moment. Please check in later to see changes to your dashboard!"})})]})})})})}),"Patient"===t.role&&Object(g.jsx)(Ne.a,{item:!0,xs:12,children:Object(g.jsx)(Te.a,{raised:!0,children:Object(g.jsx)(Me.a,{children:Object(g.jsx)(Ee.a,{mx:1,my:1,boxShadow:0,children:Object(g.jsxs)(Ne.a,{container:!0,direction:"column",justifyContent:"flex-start",alignItems:"stretch",spacing:1,children:[Object(g.jsx)(Ne.a,{item:!0,xs:12,children:Object(g.jsx)(f.a,{variant:"subtitle2",component:"h2",children:"Survey to complete"})}),Object(g.jsx)(Ne.a,{item:!0,xs:12,children:Object(g.jsx)(f.a,{variant:"body2",component:"h2",children:""!==this.state.clientSurvey?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("p",{children:this.state.clientData.message}),Object(g.jsx)("a",{href:"/administration/booklets/user/view/".concat(this.state.clientSurvey),children:"View Survey"})]}):Object(g.jsx)("p",{children:this.state.clientData.message})})})]})})})})}),Object(g.jsxs)(Ne.a,{item:!0,xs:12,container:!0,direction:"row",justifyContent:"space-evenly",alignItems:"stretch",spacing:2,children:[Object(g.jsx)(Ne.a,{item:!0,xs:4,children:Object(g.jsxs)(Te.a,{variant:"outlined",style:{backgroundColor:"aliceblue"},children:[Object(g.jsxs)(Me.a,{children:[Object(g.jsx)(f.a,{color:"textSecondary",gutterBottom:!0,children:"Word of the Day"}),Object(g.jsxs)(f.a,{variant:"h6",component:"h2",children:["be",this.bull,"nev",this.bull,"o",this.bull,"lent"]}),Object(g.jsx)(f.a,{className:a.pos,color:"textSecondary",children:"adjective"}),Object(g.jsxs)(f.a,{variant:"body2",component:"p",children:["well meaning and kindly.",Object(g.jsx)("br",{}),'"a benevolent smile"']})]}),Object(g.jsx)(Ue.a,{children:Object(g.jsx)(C.a,{size:"small",children:"Learn More"})})]})}),Object(g.jsx)(Ne.a,{item:!0,xs:8,children:Object(g.jsxs)(Te.a,{variant:"outlined",style:{backgroundColor:"whitesmoke"},children:[Object(g.jsx)(Me.a,{children:Object(g.jsx)(f.a,{color:"textSecondary",gutterBottom:!0,children:"Calendar"})}),Object(g.jsx)(Ue.a,{children:Object(g.jsx)(C.a,{size:"small",children:"Learn More"})})]})})]})]}):Object(g.jsx)(S.a,{})}}]),a}(n.Component),ze=Object(I.a)(Fe)(We);var Re=function(e,t,a,n){b()({method:"post",url:"/api/"+e,headers:{"Content-Type":"application/json",Authorization:"Bearer "+t},data:JSON.stringify(a),timeout:5e3}).then((function(e){n(null,e)})).catch((function(e){n(e,null)}))},Ve=a(390),Qe=a(396),He=a(176),Je=a.n(He),Ye=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){n.users={},n.users.library={},n.users.length=0,n.booklets={},n.booklets.library={},n.booklets.length=0,n.checkAuth()},n.checkAuth=function(){setTimeout((function(){n.props.ToggleDrawerClose(),n.props.CheckAuthenticationValidity((function(e){e&&n.getAllAssignedPatients()}))}),200)},n.getAllAssignedPatients=function(){var e,t=n.props.appState;t.patients.length<=0&&"Patient"!==t.role?n.setState({loadError:"You do not have any patients assigned.  In order to start a booklet, you must first be assigned a member by an Administrator.",render:!0}):("Patient"===t.role?(n.setState({patientID:t._id}),n.users.length=1,e={_id:{$in:t._id}}):(n.users.length=t.patients.length,e={_id:{$in:t.patients}}),Re("users/query",t.token,e,(function(e,t){e?500===e.response.status&&n.setState({loadError:e.message,render:!0}):200===t.status||304===t.status?(n.users.length=t.data.response.count,n.populateUserData(t.data.response)):n.setState({loadError:"You are not authorized to use this page.  If you think this is a mistake, please log out and try again.",render:!0})})))},n.getAllBooklets=function(){var e=n.props.appState;h("surveys/",e.token,(function(e,t){e?n.setState({loadError:e.message,render:!0}):200===t.status?(n.booklets.length=t.data.response.count,n.populateBookletData(t.data.response)):n.setState({loadError:"Unable to retrieve booklets.  Please refresh and try agian.",render:!0})}))},n.populateUserData=function(e){if(0===n.users.length)n.setState({loadError:"You do not have any members assigned.",render:!0});else{for(var t=0;t<e.count;t++)n.users.library[t]={_id:e.users[t]._id,name:e.users[t].info.name,role:e.users[t].role,email:e.users[t].email,createdAt:e.users[t].createdAt};n.getAllBooklets()}},n.populateBookletData=function(e){if(0===n.booklets.length)n.setState({loadError:"No chapters have been created yet.",render:!0});else{for(var t=0;t<e.count;t++)n.booklets.library[t]={_id:e.surveys[t]._id,name:e.surveys[t].name,surveyJSON:e.surveys[t].surveyJSON,createdAt:e.surveys[t].createdAt,updatedAt:e.surveys[t].updatedAt};n.setState({error:"",render:!0})}},n.handleChange=function(e){n.setState(Object(p.a)({},e.target.name,e.target.value))},n.handleStartBooklet=function(){var e=n.props.appState,t=n.state,a=t.bookletIndex,r=t.patientID;if(""!==r)if(""!==a){var i={name:n.booklets.library[a].name,patientId:r,templateId:n.booklets.library[a]._id,surveyJSON:n.booklets.library[a].surveyJSON,responseJSON:"{}",approved:!1,createdBy:e._id,modifiedBy:e._id};n.setState({startError:"",starting:!0}),Re("membersurveys/",e.token,i,(function(e,t){if(e)n.setState({startError:e.message,starting:!1});else if(201===t.status){var a=t.data.memberSurvey._id;n.setState({startError:"",starting:!1,redirect:!0,redirectTo:"/booklet/"+a}),n.setState({redirect:n.state.redirectTo})}else n.setState({startError:"Unable to start the chapter. Please try again later.",starting:!1})}))}else n.setState({startError:"Please select a booklet.",render:!0});else n.setState({startError:"Please select a patient.",render:!0})},n.createRow=function(e,t){return{_id:e,name:t}},n.renderSelect=function(){for(var e=n.props.classes,t=n.state,a=t.bookletIndex,r=t.patientID,i=[],c=[],s=0;s<n.users.length;s++)i.push(n.createRow(n.users.library[s]._id,n.users.library[s].name));for(var o=0;o<n.booklets.length;o++)c.push(n.createRow(n.booklets.library[o]._id,n.booklets.library[o].name));return Object(g.jsxs)("form",{className:e.root,autoComplete:"off",children:[Object(g.jsxs)(k.a,{className:e.formControl,fullWidth:!0,children:[Object(g.jsx)(P.a,{htmlFor:"selectPatient",children:"Members"}),Object(g.jsxs)(Ve.a,{value:r,onChange:n.handleChange,inputProps:{name:"patientID",id:"selectPatient"},children:[Object(g.jsx)(ge.a,{value:"",children:Object(g.jsx)("em",{children:"Select Member"})}),i.map((function(e,t){return Object(g.jsx)(ge.a,{value:e._id,children:e.name},t)}))]})]}),Object(g.jsxs)(k.a,{className:e.formControl,fullWidth:!0,children:[Object(g.jsx)(P.a,{htmlFor:"selectChapter",children:"Chapters"}),Object(g.jsxs)(Ve.a,{value:a,onChange:n.handleChange,inputProps:{name:"bookletIndex",id:"selectChapter"},children:[Object(g.jsx)(ge.a,{value:"",children:Object(g.jsx)("em",{children:"Select Chapters"})}),c.map((function(e,t){return Object(g.jsx)(ge.a,{value:t,children:e.name},t)}))]})]})]})},n.state={patientID:"",bookletIndex:"",loadError:"",startError:"",render:!1,starting:!1,redirect:!1,redirectTo:""},n}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props.classes,t=this.state,a=t.assigning,n=t.loadError,r=t.render,i=t.redirect,c=t.redirectTo,s=t.startError;return i?Object(g.jsx)(F.a,{to:c}):r?0===this.users.length||0===this.booklets.length?Object(g.jsx)(Te.a,{className:e.card,children:Object(g.jsxs)(Me.a,{children:[Object(g.jsx)(f.a,{component:"p",variant:"h5",className:e.title,children:"Start a Chapter"}),""!==n&&Object(g.jsx)(y,{color:e.error,children:n})]})}):Object(g.jsx)("div",{children:Object(g.jsxs)(Ne.a,{container:!0,className:e.rootGrid,direction:"row",justifyContent:"flex-start",alignItems:"stretch",spacing:2,children:[Object(g.jsx)(Ne.a,{item:!0,xs:3,children:Object(g.jsx)(Ee.a,{mx:1,my:1,children:Object(g.jsxs)(Ne.a,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"center",spacing:2,children:[Object(g.jsx)(Ne.a,{item:!0,children:Object(g.jsx)(ee.a,{color:"primary"})}),Object(g.jsx)(Ne.a,{item:!0,xs:!0,children:Object(g.jsx)(f.a,{variant:"h5",color:"secondary",align:"left",gutterBottom:!1,children:"Start a Chapter"})})]})})}),Object(g.jsx)(Ne.a,{item:!0,xs:9,children:Object(g.jsx)(Ee.a,{mx:1,my:1})}),Object(g.jsx)(Ne.a,{item:!0,xs:12,children:Object(g.jsx)(Te.a,{raised:!0,children:Object(g.jsx)(Me.a,{children:Object(g.jsx)(Ee.a,{mx:1,my:1,boxShadow:0,children:Object(g.jsxs)(Ne.a,{container:!0,direction:"column",justifyContent:"flex-start",alignItems:"stretch",spacing:1,children:[Object(g.jsx)(Ne.a,{item:!0,xs:12,children:Object(g.jsx)(f.a,{variant:"subtitle2",component:"h2",children:"Start a Chapter"})}),Object(g.jsx)(Ne.a,{item:!0,xs:12,children:Object(g.jsx)(f.a,{variant:"body2",component:"h2",children:"Select a member and a chapter to begin conducting your questionairre.  If you wish to continue a chapter that has already been created, navigate to your members, click on the member profile and continue one of the 'In Progress' survey."})})]})})})})}),Object(g.jsx)(Ne.a,{item:!0,xs:12,children:Object(g.jsxs)(Te.a,{raised:!0,children:[Object(g.jsx)(Me.a,{children:Object(g.jsx)(Ee.a,{mx:1,my:1,boxShadow:0,children:Object(g.jsxs)(Ne.a,{container:!0,direction:"column",justifyContent:"flex-start",alignItems:"stretch",spacing:1,children:[Object(g.jsx)(Ne.a,{item:!0,xs:12,children:Object(g.jsx)(f.a,{variant:"subtitle2",component:"h2",children:"Select your assigned Member & Chapter"})}),Object(g.jsxs)(Ne.a,{item:!0,xs:12,children:[this.renderSelect(),""!==s&&Object(g.jsx)(f.a,{variant:"body2",color:"error",component:"h2",children:s})]})]})})}),Object(g.jsx)(Ue.a,{children:Object(g.jsx)("div",{className:e.alignLeftSpacer,children:a?Object(g.jsx)(S.a,{className:e.spinner}):Object(g.jsx)(Qe.a,{title:"Start a Chapter",children:Object(g.jsx)(C.a,{size:"small",color:"primary",variant:"contained",startIcon:Object(g.jsx)(Je.a,{}),onClick:this.handleStartBooklet,children:"Start"})})})})]})})]})}):Object(g.jsx)(S.a,{})}}]),a}(n.Component),Ge=(Object(I.a)((function(e){return{title:e.title,card:e.card,buttonIcon:{marginLeft:5},root:{display:"flex",flexWrap:"wrap"},formControl:{margin:e.spacing(1)},alignLeftSpacer:e.alignLeftSpacer,error:e.error,success:e.success}}))(Ye),function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){n.users={},n.users.library={},n.users.length=0,n.checkAuth()},n.checkAuth=function(){setTimeout((function(){n.props.ToggleDrawerClose(),n.props.CheckAuthenticationValidity((function(e){e&&n.getAllAssignedPatients()}))}),200)},n.getAllAssignedPatients=function(){var e,t=n.props.appState;t.patients.length<=0&&"Patient"!==t.role?n.setState({loadError:"You do not have any patients assigned.  In order to start a collection, you must first be assigned a member by an Administrator.",render:!0}):("Patient"===t.role?(n.setState({patientID:t._id}),n.users.length=1,e={_id:{$in:t._id}}):(n.users.length=t.patients.length,e={_id:{$in:t.patients}}),Re("users/query",t.token,e,(function(e,t){e?n.setState({loadError:e.message,render:!0}):200===t.status||304===t.status?(n.users.length=t.data.response.count,n.populateUserData(t.data.response)):n.setState({loadError:"You are not authorized to use this page.  If you think this is a mistake, please log out and try again.",render:!0})})))},n.populateUserData=function(e){if(0===n.users.length)n.setState({loadError:"You do not have any members assigned.",render:!0});else{for(var t=0;t<e.count;t++)n.users.library[t]={_id:e.users[t]._id,name:e.users[t].info.name,role:e.users[t].role,email:e.users[t].email,createdAt:e.users[t].createdAt};n.getAllCollections()}},n.handleChange=function(e){n.setState(Object(p.a)({},e.target.name,e.target.value))},n.handleStartCollection=function(){var e=n.props.appState,t=n.state.patientID;if(""!==t){var a={createdBy:e._id,modifiedBy:e._id,patientId:t};n.setState({startError:"",starting:!0}),Re("collections/",e.token,a,(function(e,t){e?n.setState({startError:e.message,starting:!1}):201===t.status?(n.setState({startError:"",starting:!1,redirect:!0,redirectTo:"/administration/booklets/management"}),n.setState({redirect:n.state.redirectTo})):n.setState({startError:"Unable to start the collection. Please try again later.",starting:!1})}))}else n.setState({startError:"Please select a patient.",render:!0})},n.createRow=function(e,t){return{_id:e,name:t}},n.renderSelect=function(){for(var e=n.props.classes,t=n.state.patientID,a=[],r=0;r<n.users.length;r++)a.push(n.createRow(n.users.library[r]._id,n.users.library[r].name));return Object(g.jsx)("form",{className:e.root,autoComplete:"off",children:Object(g.jsxs)(k.a,{className:e.formControl,fullWidth:!0,children:[Object(g.jsx)(P.a,{htmlFor:"selectPatient",children:"Members"}),Object(g.jsxs)(Ve.a,{value:t,onChange:n.handleChange,inputProps:{name:"patientID",id:"selectPatient"},children:[Object(g.jsx)(ge.a,{value:"",children:Object(g.jsx)("em",{children:"Select Member"})}),a.map((function(e,t){return Object(g.jsx)(ge.a,{value:e._id,children:e.name},t)}))]})]})})},n.state={patientID:"",loadError:"",startError:"",render:!1,starting:!1,redirect:!1,redirectTo:""},n}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props.classes,t=this.state,a=t.assigning,n=t.loadError,r=t.render,i=t.redirect,c=t.redirectTo,s=t.startError;return i?Object(g.jsx)(F.a,{to:c}):r?0===this.users.length?Object(g.jsx)(Te.a,{className:e.card,children:Object(g.jsxs)(Me.a,{children:[Object(g.jsx)(f.a,{component:"p",variant:"h5",className:e.title,children:"Start a Collection"}),""!==n&&Object(g.jsx)(y,{color:e.error,children:n})]})}):Object(g.jsx)("div",{children:Object(g.jsxs)(Ne.a,{container:!0,className:e.rootGrid,direction:"row",justifyContent:"flex-start",alignItems:"stretch",spacing:2,children:[Object(g.jsx)(Ne.a,{item:!0,xs:3,children:Object(g.jsx)(Ee.a,{mx:1,my:1,children:Object(g.jsxs)(Ne.a,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"center",spacing:2,children:[Object(g.jsx)(Ne.a,{item:!0,children:Object(g.jsx)(ee.a,{color:"primary"})}),Object(g.jsx)(Ne.a,{item:!0,xs:!0,children:Object(g.jsx)(f.a,{variant:"h5",color:"secondary",align:"left",gutterBottom:!1,children:"Start a Collection"})})]})})}),Object(g.jsx)(Ne.a,{item:!0,xs:9,children:Object(g.jsx)(Ee.a,{mx:1,my:1})}),Object(g.jsx)(Ne.a,{item:!0,xs:12,children:Object(g.jsx)(Te.a,{raised:!0,children:Object(g.jsx)(Me.a,{children:Object(g.jsx)(Ee.a,{mx:1,my:1,boxShadow:0,children:Object(g.jsxs)(Ne.a,{container:!0,direction:"column",justifyContent:"flex-start",alignItems:"stretch",spacing:1,children:[Object(g.jsx)(Ne.a,{item:!0,xs:12,children:Object(g.jsx)(f.a,{variant:"subtitle2",component:"h2",children:"Start a Collection"})}),Object(g.jsx)(Ne.a,{item:!0,xs:12,children:Object(g.jsx)(f.a,{variant:"body2",component:"h2",children:"Select a member to begin a collection of public chapter templates.  If you wish to continue a fillable chapter within a collection that has already been created, navigate to your members, click on the member profile and continue one of the 'In Progress' chapters."})})]})})})})}),Object(g.jsx)(Ne.a,{item:!0,xs:12,children:Object(g.jsxs)(Te.a,{raised:!0,children:[Object(g.jsx)(Me.a,{children:Object(g.jsx)(Ee.a,{mx:1,my:1,boxShadow:0,children:Object(g.jsxs)(Ne.a,{container:!0,direction:"column",justifyContent:"flex-start",alignItems:"stretch",spacing:1,children:[Object(g.jsx)(Ne.a,{item:!0,xs:12,children:Object(g.jsx)(f.a,{variant:"subtitle2",component:"h2",children:"Select your assigned Member & Chapter"})}),Object(g.jsxs)(Ne.a,{item:!0,xs:12,children:[this.renderSelect(),""!==s&&Object(g.jsx)(f.a,{variant:"body2",color:"error",component:"h2",children:s})]})]})})}),Object(g.jsx)(Ue.a,{children:Object(g.jsx)("div",{className:e.alignLeftSpacer,children:a?Object(g.jsx)(S.a,{className:e.spinner}):Object(g.jsx)(Qe.a,{title:"Start a Chapter",children:Object(g.jsx)(C.a,{size:"small",color:"primary",variant:"contained",startIcon:Object(g.jsx)(Je.a,{}),onClick:this.handleStartCollection,children:"Start"})})})})]})})]})}):Object(g.jsx)(S.a,{})}}]),a}(n.Component));Object(I.a)((function(e){return{title:e.title,card:e.card,buttonIcon:{marginLeft:5},root:{display:"flex",flexWrap:"wrap"},formControl:{margin:e.spacing(1)},alignLeftSpacer:e.alignLeftSpacer,error:e.error,success:e.success}}))(Ge);var qe=function(e,t,a,n){b()({method:"patch",url:"/api/"+e,headers:{"Content-Type":"application/json",Authorization:"Bearer "+t},data:JSON.stringify(a),timeout:5e3}).then((function(e){n(null,e)})).catch((function(e){n(e,null)}))},$e=function(e){e.getAllQuestions().length;var t=0,a=0;e.getAllQuestions().forEach((function(e){if("html"!=e.getType()&&!e.isReadOnly)if(t+=1,"matrix"==e.getType()){if(e.hasOwnProperty("propertyHash")&&e.propertyHash&&e.propertyHash.hasOwnProperty("rows")&&e.propertyHash.rows&&Array.isArray(e.propertyHash.rows)&&e.propertyHash.hasOwnProperty("value")&&e.propertyHash.value){var n=e.propertyHash.rows.length,r=Object.keys(e.propertyHash.value).length;r<n?1:r==n&&(a+=1)}}else if("matrixdynamic"==e.getType()){if(e.hasOwnProperty("propertyHash")&&e.propertyHash&&e.propertyHash.hasOwnProperty("rows")&&e.propertyHash.rows&&Array.isArray(e.propertyHash.rows)&&e.propertyHash.hasOwnProperty("value")&&e.propertyHash.value&&e.propertyHash.hasOwnProperty("columns")&&e.propertyHash.columns){var i=e.propertyHash.columns.length,c=e.propertyHash.rowCount,s=0;c>0?(e.propertyHash.value.forEach((function(e){Object.keys(e).length==i&&(s+=1)})),s<c?1:s==c&&(a+=1)):a+=1}}else if("multipletext"==e.getType()){if(e.hasOwnProperty("propertyHash")&&e.propertyHash&&e.propertyHash.hasOwnProperty("items")&&e.propertyHash.items&&Array.isArray(e.propertyHash.items)&&e.propertyHash.hasOwnProperty("value")&&e.propertyHash.value){var o=e.propertyHash.items.length,l=Object.keys(e.propertyHash.value).length;l<o?1:l==o&&(a+=1)}}else"checkbox"==e.getType()?e.hasOwnProperty("propertyHash")&&e.propertyHash&&e.propertyHash.hasOwnProperty("value")&&e.propertyHash.value&&Array.isArray(e.propertyHash.value)&&e.propertyHash.value.length>0&&(a+=1):"text"==e.getType()?e.hasOwnProperty("propertyHash")&&e.propertyHash&&e.propertyHash.hasOwnProperty("value")&&e.propertyHash.value&&/\S/.test(String(e.propertyHash.value))&&(a+=1):"radiogroup"==e.getType()?e.hasOwnProperty("propertyHash")&&e.propertyHash&&e.propertyHash.hasOwnProperty("value")&&e.propertyHash.value&&String(e.propertyHash.value)&&(a+=1):"rating"==e.getType()?e.hasOwnProperty("propertyHash")&&e.propertyHash&&e.propertyHash.hasOwnProperty("value")&&e.propertyHash.value&&parseInt(e.propertyHash.value)&&(a+=1):"nouislider"==e.getType()&&e.hasOwnProperty("propertyHash")&&e.propertyHash&&e.propertyHash.hasOwnProperty("value")&&e.propertyHash.value&&parseInt(e.propertyHash.value)&&(a+=1)}));var n=Math.round(a/t*100*100)/100;return n||0},Ze=a(79),Ke=a.n(Ze),Xe=a(66),et=a.n(Xe),tt=a(39),at=a(118),nt=(a(111),function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){n.surveyJSON={},n.responseJSON={},setTimeout((function(){n.props.CheckAuthenticationValidity((function(e){e&&n.loadSurvey()}))}),200),tt.StylesManager.applyTheme("default")},n.handleBackToMemberButton=function(){n.props.history.goBack()},n.loadSurvey=function(){var e=n.props.appState,t=n.props.match.params.memberSurveyID;null!=t?h("membersurveys/"+t,e.token,(function(e,t){if(e)n.setState({loadError:"Unable to load the survey.  Please make sure your Booklet ID is correct and you have proper permissions.",render:!0});else if(200===t.status||304===t.status){var a=t.data.memberSurvey;n.setState({currentSurveyJSON:a.surveyJSON,currentSurveyResponseJSON:a.responseJSON}),n.surveyJSON=JSON.parse(a.surveyJSON),n.responseJSON=JSON.parse(a.responseJSON),window.survey=new tt.Model(n.surveyJSON),window.survey.showPageNumbers=!0,window.survey.showNavigationButtons=!0,window.survey.showPageTitles=!0,window.survey.showTitle=!0,window.survey.showPrevButton=!0,window.survey.data=n.responseJSON,window.survey.sendResultOnPageNext=!0,window.survey.onComplete.add((function(e){n.saveSurvey(e)})),window.survey.onPartialSend.add((function(e){n.saveSurvey(e)})),n.setState({loadError:"",surveyApproved:a.approved,render:!0})}else n.setState({loadError:"Unable to load the survey.  Please make sure your Booklet ID is correct and you have proper permissions.",render:!0});n.removeMessages()})):(n.setState({loadError:"Unable to load the survey.  Please make sure your Booklet ID is correct and you have proper permissions.",render:!0}),n.removeMessages())},n.saveSurvey=function(e){var t=n.props.appState,a=n.props.match.params.memberSurveyID,r={responseJSON:JSON.stringify(e.data),completeStatus:$e(e)};n.setState({currentSurveyResponseJSON:JSON.stringify(e.data)}),qe("membersurveys/"+a,t.token,r,(function(e,t){e?n.setState({saveError:"Cannot save survey.  Please try agian later.",saveSuccess:"",render:!0}):200===t.status||304===t.status?n.setState({saveError:"",saveSuccess:"Survey has been saved.",render:!0}):n.setState({saveError:"Cannot save survey.  Please try agian later.",saveSuccess:"",render:!0}),n.removeMessages()}))},n.approveSurvey=function(){var e=n.state.surveyApproved,t=n.props.appState,a=n.props.match.params.memberSurveyID;if(!e){qe("membersurveys/"+a,t.token,{approved:!0},(function(e,t){e?n.setState({saveError:"Cannot approve survey.  Please try agian later.",saveSuccess:"",render:!0}):200===t.status||304===t.status?n.setState({saveError:"",saveSuccess:"This survey has been approved.",surveyApproved:!0,render:!0}):n.setState({saveError:"Cannot approve survey.  Please try agian later.",saveSuccess:"",render:!0}),n.removeMessages()}))}},n.exportToPDF=function(){var e="",t="{}";n.state.currentSurveyJSON&&(e=JSON.parse(n.state.currentSurveyJSON)),n.state.currentSurveyResponseJSON&&(t=JSON.parse(n.state.currentSurveyResponseJSON));var a=new at.SurveyPDF(e,{format:[210,297],fontSize:14,margins:{left:10,right:10,top:18,bot:10}});a.data=t;var r=n.props.match.url.replace("/","-");a.save(r+".pdf")},n.removeMessages=function(){setTimeout((function(){n.setState({saveError:"",saveSuccess:""})}),7500)},n.state={loadError:"",saveError:"",saveSuccess:"",surveyApproved:!1,render:!1,currentSurveyJSON:null,currentSurveyResponseJSON:null},n}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props,t=e.appState,a=e.classes,n=this.state,r=n.loadError,i=n.saveError,c=n.saveSuccess,s=n.render,o=n.surveyApproved,l=!0;"Patient"===t.role&&(l=!1);var d="This survey has already been approved.";return"Volunteer"===t.role&&(l=!1),o||(d="This survey is pending approval."),null!=window.survey?Object(g.jsx)("div",{children:s?Object(g.jsxs)(Ne.a,{container:!0,className:a.rootGrid,direction:"row",justifyContent:"flex-start",alignItems:"stretch",spacing:2,children:[Object(g.jsx)(Ne.a,{item:!0,xs:3,children:Object(g.jsx)(Ee.a,{mx:1,my:1,children:Object(g.jsxs)(Ne.a,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"center",spacing:2,children:[Object(g.jsx)(Ne.a,{item:!0,children:Object(g.jsx)(he.a,{color:"primary"})}),Object(g.jsx)(Ne.a,{item:!0,xs:!0,children:Object(g.jsx)(f.a,{variant:"h5",color:"secondary",align:"left",gutterBottom:!1,children:"Completing Chapter"})}),Object(g.jsx)(Ne.a,{item:!0,xs:12,children:Object(g.jsx)(C.a,{color:"default",startIcon:Object(g.jsx)(et.a,{}),onClick:this.handleBackToMemberButton,children:"Back to Member"})})]})})}),Object(g.jsx)(Ne.a,{item:!0,xs:9,children:Object(g.jsxs)(Ee.a,{mx:1,my:1,children:[""!==i&&Object(g.jsx)(y,{children:i}),""!==c&&Object(g.jsx)(y,{children:c})]})}),Object(g.jsx)(Ne.a,{item:!0,xs:12,container:!0,direction:"column-reverse",justifyContent:"flex-start",alignItems:"stretch",children:Object(g.jsx)(Te.a,{raised:!0,children:Object(g.jsx)(Me.a,{children:Object(g.jsx)(Ee.a,{mx:1,my:1,boxShadow:0,children:Object(g.jsxs)("div",{className:a.alignLeftSpacer,children:[l&&Object(g.jsx)(Qe.a,{title:d,placement:"left",children:Object(g.jsx)(C.a,{className:a.buttonMargin,size:"small",variant:"contained",color:"secondary",onClick:this.approveSurvey,children:"Approve this Chapter"})}),Object(g.jsx)(Qe.a,{title:"View Profile",children:Object(g.jsx)(C.a,{size:"small",color:"primary",variant:"contained",startIcon:Object(g.jsx)(Ke.a,{}),onClick:this.exportToPDF,children:"Export Pdf"})})]})})})})}),Object(g.jsx)(Ne.a,{item:!0,xs:12,container:!0,direction:"column-reverse",justifyContent:"flex-start",alignItems:"stretch",children:Object(g.jsx)(Te.a,{raised:!0,children:Object(g.jsx)(Me.a,{children:Object(g.jsx)(Ee.a,{mx:1,my:1,boxShadow:0,children:Object(g.jsx)(tt.Survey,{model:window.survey})})})})})]}):Object(g.jsx)(S.a,{})}):Object(g.jsx)("div",{children:s&&Object(g.jsx)(Te.a,{children:""!==r&&Object(g.jsx)(y,{color:a.error,children:r})})})}}]),a}(n.Component)),rt=(Object(I.a)((function(e){return{title:e.title,card:e.card,success:e.success,error:e.error,alignLeftSpacer:e.alignLeftSpacer,alignLeftSpacerRoot:{display:"flex",flexWrap:"wrap"},buttonMargin:{marginLeft:5}}}))(nt),a(3)),it=a(387),ct=function e(t,a){Object(s.a)(this,e),this.severity=a||"info",this.message=t||""},st=a(365),ot=a(388),lt=Object(st.a)((function(e){return{root:{flexGrow:1,height:"100%"}}})),dt=function(e){lt();var t=e.alert,a=e.setParentAlert,r=Object(n.useState)(!1),i=Object(rt.a)(r,2),c=i[0],s=i[1],o=Object(n.useCallback)((function(){s(!1)}),[]);return Object(n.useEffect)((function(){s(!1);var e=setTimeout((function(){null!==t&&""!==t.message?s(!0):s(!1)}),400);return function(){clearTimeout(e)}}),[t]),Object(n.useEffect)((function(){if(c){var e=setTimeout((function(){o()}),5e3);return function(){clearTimeout(e)}}}),[c,o]),Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(Q.a,{in:c,children:""!==t.message?Object(g.jsx)(ot.a,{severity:t.severity,action:Object(g.jsx)(ye.a,{"aria-label":"close",color:"inherit",size:"small",onClick:function(){o()},onClose:function(){a(new ct("","success"))},children:Object(g.jsx)(we.a,{fontSize:"inherit"})}),children:t.message}):null})})};dt.defaultProps={alert:{},setParentAlert:function(){}};var jt=dt,bt=a(75),ut=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).chartRef=r.a.createRef(),n.findValue=function(e){return console.log(e),"No Problem"==e?0:"Slight Problem"==e?1:"Moderate Problem"==e?2:"Severe Problem"==e?3:void 0},n.state={walking:n.findValue(n.props.walking),care:n.findValue(n.props.care),activities:n.findValue(n.props.usual),pain:n.findValue(n.props.pain),anxiety:n.findValue(n.props.anxious)},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this.chartRef.current.getContext("2d");new bt.a(e,{type:"bar",options:{plugins:{title:{display:!0,text:"Levels of Difficulties with various activities"}},scales:{y:{min:0,max:3}}},data:{labels:["Walking around","Personal Care","Usual Activities","Pain/Discomfort","Anxiety/Depression"],datasets:[{data:[this.state.walking,this.state.care,this.state.activities,this.state.pain,this.state.anxiety],label:"I have problems with",borderColor:"#3e95cd",backgroundColor:"#e91e62",fill:!1}]}})}},{key:"render",value:function(){return Object(g.jsx)("div",{style:{width:"50%"},children:Object(g.jsx)("canvas",{id:"myChart",ref:this.chartRef})})}}]),a}(n.Component),ht=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(f.a,{variant:"h6",color:"secondary",align:"left",gutterBottom:!0,children:"Interests"}),Object(g.jsxs)(Ee.a,{m:1,mb:2,children:[999!==this.props.reports.activities[this.props.collection]&&Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(f.a,{variant:"subtitle1",color:"textSecondary",align:"left",gutterBottom:!0,children:"Enjoys the following activities:"}),Object(g.jsx)(f.a,{display:"initial",variant:"body1",component:"div",color:"inherit",align:"left",gutterBottom:!0,children:Object(g.jsx)("ol",{children:this.props.reports.activities[this.props.collection].map((function(e,t){return Object(g.jsx)("li",{children:e},"activities_".concat(t))}))})})]}),999!==this.props.reports.meaningful_activities[this.props.collection]&&Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(f.a,{variant:"subtitle1",color:"textSecondary",align:"left",gutterBottom:!0,children:"Most meaningful activities:"}),Object(g.jsx)(f.a,{display:"initial",variant:"body1",component:"div",color:"inherit",align:"left",gutterBottom:!0,children:Object(g.jsx)("ol",{children:this.props.reports.meaningful_activities[this.props.collection].map((function(e,t){return Object(g.jsx)("li",{children:e},"activities_meaningful".concat(t))}))})})]}),999!==this.props.reports.FCP_STRINGS_COMB[this.props.collection]&&Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(f.a,{variant:"subtitle1",color:"textSecondary",align:"left",gutterBottom:!0,children:"I would like to do more:"}),Object(g.jsx)(f.a,{display:"initial",variant:"body1",component:"div",color:"inherit",align:"left",gutterBottom:!0,children:Object(g.jsx)("ol",{children:this.props.reports.FCP_STRINGS_COMB[this.props.collection].map((function(e,t){return Object(g.jsx)("li",{children:e},"activities_do_more_".concat(t))}))})})]}),999!==this.props.reports.challenging_activities[this.props.collection]&&Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(f.a,{variant:"subtitle1",color:"textSecondary",align:"left",gutterBottom:!0,children:"Challenges include:"}),Object(g.jsx)(f.a,{display:"initial",variant:"body1",component:"div",color:"inherit",align:"left",gutterBottom:!0,children:Object(g.jsx)("ol",{children:this.props.reports.challenging_activities[this.props.collection].map((function(e,t){return Object(g.jsx)("li",{children:e},"activities_challenges_".concat(t))}))})})]})]})]})}}]),a}(n.Component),pt=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(f.a,{variant:"h6",color:"secondary",align:"left",gutterBottom:!0,children:"Social Contact"}),Object(g.jsxs)(Ee.a,{m:1,mb:2,children:[999!==this.props.reports.household_size[this.props.collection]&&Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)(f.a,{display:"block",component:"div",align:"left",gutterBottom:!0,children:[Object(g.jsx)(f.a,{display:"inline",variant:"body1",component:"div",color:"primary",align:"left",gutterBottom:!0,children:"Household size:\xa0"}),Object(g.jsx)(f.a,{display:"inline",variant:"body1",component:"div",color:"inherit",align:"left",gutterBottom:!0,children:this.props.reports.household_size[this.props.collection]})]})}),999!==this.props.reports.total_children[this.props.collection]&&999!==this.props.reports.total_relatives[this.props.collection]&&999!==this.props.reports.total_close_friends[this.props.collection]&&Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)(f.a,{display:"block",component:"div",align:"left",gutterBottom:!0,children:[Object(g.jsx)(f.a,{display:"inline",variant:"body1",component:"div",color:"primary",align:"left",gutterBottom:!0,children:"I have:\xa0"}),Object(g.jsx)(f.a,{display:"inline",variant:"body1",component:"div",color:"inherit",align:"left",gutterBottom:!0,children:this.props.reports.total_children[this.props.collection]}),Object(g.jsx)(f.a,{display:"inline",variant:"body2",component:"div",color:"textSecondary",align:"left",gutterBottom:!0,children:"\xa0children,\xa0"}),Object(g.jsx)(f.a,{display:"inline",variant:"body1",component:"div",color:"inherit",align:"left",gutterBottom:!0,children:this.props.reports.total_relatives[this.props.collection]}),Object(g.jsx)(f.a,{display:"inline",variant:"body2",component:"div",color:"textSecondary",align:"left",gutterBottom:!0,children:"\xa0relatives, and\xa0"}),Object(g.jsx)(f.a,{display:"inline",variant:"body1",component:"div",color:"inherit",align:"left",gutterBottom:!0,children:this.props.reports.total_close_friends[this.props.collection]}),Object(g.jsx)(f.a,{display:"inline",variant:"body2",component:"div",color:"textSecondary",align:"left",gutterBottom:!0,children:"\xa0close friends"})]})}),999!==this.props.reports.total_well_known_neighbours[this.props.collection]&&Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)(f.a,{display:"block",component:"div",align:"left",gutterBottom:!0,children:[Object(g.jsx)(f.a,{display:"inline",variant:"body1",component:"div",color:"primary",align:"left",gutterBottom:!0,children:"I know:\xa0"}),Object(g.jsx)(f.a,{display:"inline",variant:"body1",component:"div",color:"inherit",align:"left",gutterBottom:!0,children:this.props.reports.total_well_known_neighbours[this.props.collection]}),Object(g.jsx)(f.a,{display:"inline",variant:"body2",component:"div",color:"textSecondary",align:"left",gutterBottom:!0,children:"\xa0neighbours well"})]})}),999!==this.props.reports.frequency_of_contact_family[this.props.collection]&&Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)(f.a,{display:"block",component:"div",align:"left",gutterBottom:!0,children:[Object(g.jsx)(f.a,{display:"inline",variant:"body1",component:"div",color:"primary",align:"left",gutterBottom:!0,children:"\ud83d\udc6a I see my family\xa0"}),Object(g.jsx)(f.a,{display:"inline",variant:"body1",component:"div",color:"inherit",align:"left",gutterBottom:!0,children:this.props.reports.frequency_of_contact_family[this.props.collection]})]})}),999!==this.props.reports.frequency_of_contact_friends[this.props.collection]&&Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)(f.a,{display:"block",component:"div",align:"left",gutterBottom:!0,children:[Object(g.jsx)(f.a,{display:"inline",variant:"body1",component:"div",color:"primary",align:"left",gutterBottom:!0,children:"\ud83e\uddd3 I see my friends\xa0"}),Object(g.jsx)(f.a,{display:"inline",variant:"body1",component:"div",color:"inherit",align:"left",gutterBottom:!0,children:this.props.reports.frequency_of_contact_friends[this.props.collection]})]})}),999!==this.props.reports.frequency_of_contact_neighbours[this.props.collection]&&Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)(f.a,{display:"block",component:"div",align:"left",gutterBottom:!0,children:[Object(g.jsx)(f.a,{display:"inline",variant:"body1",component:"div",color:"primary",align:"left",gutterBottom:!0,children:"\ud83c\udfe1 I see my neighbours\xa0"}),Object(g.jsx)(f.a,{display:"inline",variant:"body1",component:"div",color:"inherit",align:"left",gutterBottom:!0,children:this.props.reports.frequency_of_contact_neighbours[this.props.collection]})]})})]})]})}}]),a}(n.Component),Ot=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(f.a,{variant:"h6",color:"secondary",align:"left",gutterBottom:!0,children:"Community Participation"}),Object(g.jsxs)(Ee.a,{m:1,mb:2,children:[999!==this.props.reports.frequency_of_participation_religion[this.props.collection]&&Object(g.jsxs)(f.a,{display:"block",component:"div",align:"left",gutterBottom:!0,children:[Object(g.jsx)(f.a,{display:"inline",variant:"body1",component:"div",color:"primary",align:"left",gutterBottom:!0,children:"\u26ea\ufe0f Religion\xa0"}),Object(g.jsx)(f.a,{display:"inline",variant:"body1",component:"div",color:"inherit",align:"left",gutterBottom:!0,children:this.props.reports.frequency_of_participation_religion[this.props.collection]})]}),999!==this.props.reports.frequency_of_participation_recreation[this.props.collection]&&Object(g.jsxs)(f.a,{display:"block",component:"div",align:"left",gutterBottom:!0,children:[Object(g.jsx)(f.a,{display:"inline",variant:"body1",component:"div",color:"primary",align:"left",gutterBottom:!0,children:"\ud83c\udfa3 Recreation/hobby\xa0"}),Object(g.jsx)(f.a,{display:"inline",variant:"body1",component:"div",color:"inherit",align:"left",gutterBottom:!0,children:this.props.reports.frequency_of_participation_recreation[this.props.collection]})]}),999!==this.props.reports.frequency_of_participation_education[this.props.collection]&&Object(g.jsxs)(f.a,{display:"block",component:"div",align:"left",gutterBottom:!0,children:[Object(g.jsx)(f.a,{display:"inline",variant:"body1",component:"div",color:"primary",align:"left",gutterBottom:!0,children:"\ud83c\udf93 Education/culture\xa0"}),Object(g.jsx)(f.a,{display:"inline",variant:"body1",component:"div",color:"inherit",align:"left",gutterBottom:!0,children:this.props.reports.frequency_of_participation_education[this.props.collection]})]}),999!==this.props.reports.frequency_of_participation_associations[this.props.collection]&&Object(g.jsxs)(f.a,{display:"block",component:"div",align:"left",gutterBottom:!0,children:[Object(g.jsx)(f.a,{display:"inline",variant:"body1",component:"div",color:"primary",align:"left",gutterBottom:!0,children:"\ud83c\udfad  Associations/clubs\xa0"}),Object(g.jsx)(f.a,{display:"inline",variant:"body1",component:"div",color:"inherit",align:"left",gutterBottom:!0,children:this.props.reports.frequency_of_participation_associations[this.props.collection]})]}),999!==this.props.reports.frequency_of_participation_volunteering[this.props.collection]&&Object(g.jsxs)(f.a,{display:"block",component:"div",align:"left",gutterBottom:!0,children:[Object(g.jsx)(f.a,{display:"inline",variant:"body1",component:"div",color:"primary",align:"left",gutterBottom:!0,children:"\ud83e\udd1d Volunteering\xa0"}),Object(g.jsx)(f.a,{display:"inline",variant:"body1",component:"div",color:"inherit",align:"left",gutterBottom:!0,children:this.props.reports.frequency_of_participation_volunteering[this.props.collection]})]}),999!==this.props.reports.frequency_of_participation_informal_help[this.props.collection]&&Object(g.jsxs)(f.a,{display:"block",component:"div",align:"left",gutterBottom:!0,children:[Object(g.jsx)(f.a,{display:"inline",variant:"body1",component:"div",color:"primary",align:"left",gutterBottom:!0,children:"\u2695\ufe0f Informal help\xa0"}),Object(g.jsx)(f.a,{display:"inline",variant:"body1",component:"div",color:"inherit",align:"left",gutterBottom:!0,children:this.props.reports.frequency_of_participation_informal_help[this.props.collection]})]}),999!==this.props.reports.frequency_of_participation_music[this.props.collection]&&Object(g.jsxs)(f.a,{display:"block",component:"div",align:"left",gutterBottom:!0,children:[Object(g.jsx)(f.a,{display:"inline",variant:"body1",component:"div",color:"primary",align:"left",gutterBottom:!0,children:"\ud83c\udfb5 Music\xa0"}),Object(g.jsx)(f.a,{display:"inline",variant:"body1",component:"div",color:"inherit",align:"left",gutterBottom:!0,children:this.props.reports.frequency_of_participation_informal_help[this.props.collection]})]}),999!==this.props.reports.frequency_of_participation_computer[this.props.collection]&&Object(g.jsxs)(f.a,{display:"block",component:"div",align:"left",gutterBottom:!0,children:[Object(g.jsx)(f.a,{display:"inline",variant:"body1",component:"div",color:"primary",align:"left",gutterBottom:!0,children:"\ud83d\udda5 Computer\xa0"}),Object(g.jsx)(f.a,{display:"inline",variant:"body1",component:"div",color:"inherit",align:"left",gutterBottom:!0,children:this.props.reports.frequency_of_participation_computer[this.props.collection]})]})]})]})}}]),a}(n.Component),mt=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).chartRef=r.a.createRef(),e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this.chartRef.current.getContext("2d");new bt.a(e,{type:"bar",options:{indexAxis:"y",plugins:{title:{display:!0,text:"Your self rated physical health"},legend:{display:!1}},scales:{x:{min:0,max:5}}},data:{labels:["Self rated physical health"],datasets:[{data:[this.props.data],borderColor:"#3e95cd",backgroundColor:"#e91e62",fill:!1}]}})}},{key:"render",value:function(){return Object(g.jsx)("div",{style:{width:"50%"},children:Object(g.jsx)("canvas",{id:"myChart",ref:this.chartRef})})}}]),a}(n.Component),xt=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).chartRef=r.a.createRef(),e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this.chartRef.current.getContext("2d");new bt.a(e,{type:"bar",options:{indexAxis:"y",plugins:{title:{display:!0,text:"Your self rated mental health"},legend:{display:!1}},scales:{x:{min:0,max:5}}},data:{labels:["Self rated mental  health"],datasets:[{data:[this.props.data],borderColor:"#3e95cd",backgroundColor:"#e91e62",fill:!1}]}})}},{key:"render",value:function(){return Object(g.jsx)("div",{style:{width:"50%"},children:Object(g.jsx)("canvas",{id:"myChart",ref:this.chartRef})})}}]),a}(n.Component),ft=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).chartRef=r.a.createRef(),e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this.chartRef.current.getContext("2d");new bt.a(e,{type:"bar",options:{indexAxis:"y",plugins:{title:{display:!0,text:"Your health today"},legend:{display:!1}},scales:{x:{min:0,max:100}}},data:{labels:["Your Health Today"],datasets:[{data:[this.props.data],borderColor:"#3e95cd",backgroundColor:"#e91e62",fill:!1}]}})}},{key:"render",value:function(){return Object(g.jsx)("div",{style:{width:"50%"},children:Object(g.jsx)("canvas",{id:"myChart",ref:this.chartRef})})}}]),a}(n.Component),gt=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(f.a,{variant:"h6",color:"secondary",align:"left",gutterBottom:!0,children:"Health Status"}),Object(g.jsxs)(Ee.a,{m:1,mb:2,children:[999!==this.props.reports.PH_QofL2_SD[this.props.collection]&&Object(g.jsx)(mt,{data:3}),999!==this.props.reports.MH_QofL2_SD[this.props.collection]&&Object(g.jsx)(xt,{data:this.props.reports.MH_QofL2_SD[this.props.collection]}),999!==this.props.reports.HT_QofL2_SD[this.props.collection]&&Object(g.jsx)(f.a,{display:"block",component:"div",align:"left",gutterBottom:!0,children:Object(g.jsx)(ft,{data:this.props.reports.HT_QofL2_SD[this.props.collection]})}),999!==this.props.reports.problem_walking[this.props.collection]&&999!==this.props.reports.problem_washing_dressing[this.props.collection]&&999!==this.props.reports.problem_usual_activities[this.props.collection]&&999!==this.props.reports.problem_pain_discomfort[this.props.collection]&&999!==this.props.reports.problem_anxious_depressed[this.props.collection]?Object(g.jsx)(ut,{walking:this.props.reports.problem_walking[this.props.collection],care:this.props.reports.problem_washing_dressing[this.props.collection],usual:this.props.reports.problem_usual_activities[this.props.collection],pain:this.props.reports.problem_pain_discomfort[this.props.collection],anxious:this.props.reports.problem_anxious_depressed[this.props.collection]}):Object(g.jsx)(f.a,{display:"block",variant:"subtitle2",color:"textSecondary",align:"left",gutterBottom:!0,children:"No available reports."})]})]})}}]),a}(n.Component),yt=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(f.a,{variant:"h6",color:"secondary",align:"left",gutterBottom:!0,children:"Health Support Services"}),Object(g.jsxs)(Ee.a,{m:1,mb:2,children:[999!==this.props.reports.support_wellness_program[this.props.collection]&&Object(g.jsxs)(f.a,{display:"block",component:"div",align:"left",gutterBottom:!0,children:[Object(g.jsx)(f.a,{display:"inline",variant:"body1",component:"div",color:"primary",align:"left",gutterBottom:!0,children:"I attended wellness programs\xa0"}),Object(g.jsx)(f.a,{display:"inline",variant:"body1",component:"div",color:"inherit",align:"left",gutterBottom:!0,children:this.props.reports.support_wellness_program[this.props.collection]})]}),999!==this.props.reports.support_healthcare[this.props.collection]&&Object(g.jsxs)(f.a,{display:"block",component:"div",align:"left",gutterBottom:!0,children:[Object(g.jsx)(f.a,{display:"inline",variant:"body1",component:"div",color:"primary",align:"left",gutterBottom:!0,children:"I visited a health care provider\xa0"}),Object(g.jsx)(f.a,{display:"inline",variant:"body1",component:"div",color:"inherit",align:"left",gutterBottom:!0,children:this.props.reports.support_healthcare[this.props.collection]})]}),999!==this.props.reports.support_home_healthcare[this.props.collection]&&Object(g.jsxs)(f.a,{display:"block",component:"div",align:"left",gutterBottom:!0,children:[Object(g.jsx)(f.a,{display:"inline",variant:"body1",component:"div",color:"primary",align:"left",gutterBottom:!0,children:"I had home health care or personal support visits\xa0"}),Object(g.jsx)(f.a,{display:"inline",variant:"body1",component:"div",color:"inherit",align:"left",gutterBottom:!0,children:this.props.reports.support_home_healthcare[this.props.collection]})]}),999!==this.props.reports.support_private_healthcare[this.props.collection]&&Object(g.jsxs)(f.a,{display:"block",component:"div",align:"left",gutterBottom:!0,children:[Object(g.jsx)(f.a,{display:"inline",variant:"body1",component:"div",color:"primary",align:"left",gutterBottom:!0,children:"I paid privately for extra home health care or personal support visits\xa0"}),Object(g.jsx)(f.a,{display:"inline",variant:"body1",component:"div",color:"inherit",align:"left",gutterBottom:!0,children:this.props.reports.support_private_healthcare[this.props.collection]})]}),999!==this.props.reports.support_informal[this.props.collection]&&Object(g.jsxs)(f.a,{display:"block",component:"div",align:"left",gutterBottom:!0,children:[Object(g.jsx)(f.a,{display:"inline",variant:"body1",component:"div",color:"primary",align:"left",gutterBottom:!0,children:"I received informal support from friends, family, or a neighbour \xa0"}),Object(g.jsx)(f.a,{display:"inline",variant:"body1",component:"div",color:"inherit",align:"left",gutterBottom:!0,children:this.props.reports.support_informal[this.props.collection]})]}),999==this.props.reports.support_wellness_program[this.props.collection]&&999==this.props.reports.support_healthcare[this.props.collection]&&999==this.props.reports.support_home_healthcare[this.props.collection]&&999==this.props.reports.support_private_healthcare[this.props.collection]&&999==this.props.reports.support_informal[this.props.collection]&&Object(g.jsx)(f.a,{display:"block",component:"div",align:"left",gutterBottom:!0,children:Object(g.jsx)(f.a,{display:"inline",variant:"body1",component:"div",color:"primary",align:"left",gutterBottom:!0,children:"In the past year, I have not visited any health professionals, used health care programs or services, or attended health related wellness programs."})})]})]})}}]),a}(n.Component),vt=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).chartRef=r.a.createRef(),e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this.chartRef.current.getContext("2d");new bt.a(e,{type:"bar",options:{indexAxis:"y",plugins:{title:{display:!0,text:"Your overall personal wellbeing"},legend:{display:!1}},scales:{x:{min:0,max:100}}},data:{labels:["Overall Personal Wellbeing"],datasets:[{data:[this.props.data],borderColor:"#3e95cd",backgroundColor:"#e91e62",fill:!1}]}})}},{key:"render",value:function(){return Object(g.jsx)("div",{style:{width:"50%"},children:Object(g.jsx)("canvas",{id:"myChart",ref:this.chartRef})})}}]),a}(n.Component),Ct=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(f.a,{variant:"h6",color:"secondary",align:"left",gutterBottom:!0,children:"Personal Well-Being"}),Object(g.jsxs)(Ee.a,{m:1,mb:2,children:[999!==this.props.reports.PWI_QofL3_COMB[this.props.collection]&&this.props.reports.PWI_QofL3_COMB[this.props.collection]>=70&&this.props.reports.PWI_QofL3_COMB[this.props.collection]<=100&&Object(g.jsx)(f.a,{display:"block",component:"div",align:"left",gutterBottom:!0,children:Object(g.jsx)(f.a,{display:"inline",variant:"body1",component:"div",color:"primary",align:"left",gutterBottom:!0,children:"I am satisfied with my life right now\xa0"})}),999!==this.props.reports.PWI_QofL3_COMB[this.props.collection]&&this.props.reports.PWI_QofL3_COMB[this.props.collection]>=46&&this.props.reports.PWI_QofL3_COMB[this.props.collection]<=69&&Object(g.jsx)(f.a,{display:"block",component:"div",align:"left",gutterBottom:!0,children:Object(g.jsx)(f.a,{display:"inline",variant:"body1",component:"div",color:"primary",align:"left",gutterBottom:!0,children:"I am not satisfied with a few aspects of my life right now\xa0"})}),999!==this.props.reports.PWI_QofL3_COMB[this.props.collection]&&this.props.reports.PWI_QofL3_COMB[this.props.collection]>=20&&this.props.reports.PWI_QofL3_COMB[this.props.collection]<=45&&Object(g.jsx)(f.a,{display:"block",component:"div",align:"left",gutterBottom:!0,children:Object(g.jsx)(f.a,{display:"inline",variant:"body1",component:"div",color:"primary",align:"left",gutterBottom:!0,children:"I am not satisfied with many aspects of my life right now\xa0"})}),999!==this.props.reports.PWI_QofL3_COMB[this.props.collection]&&this.props.reports.PWI_QofL3_COMB[this.props.collection]>=0&&this.props.reports.PWI_QofL3_COMB[this.props.collection]<=19&&Object(g.jsx)(f.a,{display:"block",component:"div",align:"left",gutterBottom:!0,children:Object(g.jsx)(f.a,{display:"inline",variant:"body1",component:"div",color:"primary",align:"left",gutterBottom:!0,children:"I am not at all satisfied with my life right now\xa0"})}),999!==this.props.reports.PWI_QofL3_COMB[this.props.collection]&&Object(g.jsx)(vt,{data:this.props.reports.PWI_QofL3_COMB[this.props.collection]})]})]})}}]),a}(n.Component),St=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(f.a,{variant:"h6",color:"secondary",align:"left",gutterBottom:!0,children:"Goals"}),Object(g.jsx)(Ee.a,{m:1,mb:2,children:999!==this.props.reports.goals[this.props.collection]&&Object(g.jsxs)(f.a,{display:"block",component:"div",align:"left",gutterBottom:!0,children:[Object(g.jsx)(f.a,{display:"initial",variant:"subtitle1",color:"textSecondary",align:"left",gutterBottom:!0,children:"My goals for a happier and healthier life are: \xa0"}),Object(g.jsx)(f.a,{display:"initial",variant:"body1",component:"div",color:"inherit",align:"left",gutterBottom:!0,children:Object(g.jsx)("ol",{children:this.props.reports.goals[this.props.collection].map((function(e,t){return Object(g.jsx)("li",{children:e},"goals_".concat(t))}))})})]})})]})}}]),a}(n.Component),wt=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)(Ee.a,{m:1,children:[Object(g.jsx)(ht,{reports:this.props.reports,collection:this.props.collection}),Object(g.jsx)(pt,{reports:this.props.reports,collection:this.props.collection}),Object(g.jsx)(Ot,{reports:this.props.reports,collection:this.props.collection}),Object(g.jsx)(gt,{reports:this.props.reports,collection:this.props.collection}),Object(g.jsx)(yt,{reports:this.props.reports,collection:this.props.collection}),Object(g.jsx)(Ct,{reports:this.props.reports,collection:this.props.collection}),Object(g.jsx)(St,{reports:this.props.reports,collection:this.props.collection})]})})}}]),a}(n.Component),kt=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(g.jsxs)(Ne.a,{container:!0,item:!0,xs:12,spacing:2,children:[Object(g.jsx)(Ne.a,{item:!0,xs:2,children:Object(g.jsx)(f.a,{variant:"h5",color:"inherit",align:"left",gutterBottom:!0,children:"Frequency of Community Participation"})}),Object(g.jsx)(Ne.a,{item:!0,xs:5,children:1==this.props.reports.ISA_INT[this.props.collection]&&Object(g.jsx)($.a,{children:Object(g.jsx)(f.a,{variant:"body1",color:"inherit",align:"left",gutterBottom:!0,children:"Your participation in community or social activities is limited"})})}),Object(g.jsx)(Ne.a,{item:!0,xs:5,children:0!==this.props.reports.ISA_DM_STRINGS[this.props.collection].length&&Object(g.jsx)($.a,{children:Object(g.jsx)(f.a,{variant:"body1",color:"inherit",align:"left",gutterBottom:!0,children:"You would like to participate in more activities"})})})]})}}]),a}(n.Component),Dt=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(g.jsxs)(Ne.a,{container:!0,item:!0,xs:12,spacing:2,children:[Object(g.jsx)(Ne.a,{item:!0,xs:2,children:Object(g.jsx)(f.a,{variant:"h5",color:"inherit",align:"left",gutterBottom:!0,children:"Health Alert"})}),Object(g.jsxs)(Ne.a,{item:!0,xs:5,children:[this.props.reports.HT_QofL2_SD[this.props.collection]<=50&&Object(g.jsx)($.a,{children:Object(g.jsx)(f.a,{variant:"body1",color:"inherit",align:"left",gutterBottom:!0,children:"Your health today is a concern. On a scale of 0 to 100, you rate your health today as [# between 0 and 50]"})}),0===this.props.reports.PH_QofL2_SD[this.props.collection]&&Object(g.jsx)($.a,{children:Object(g.jsx)(f.a,{variant:"body1",color:"inherit",align:"left",gutterBottom:!0,children:"You rate your health as poor in general"})}),0===this.props.reports.MH_QofL2_SD[this.props.collection]&&Object(g.jsx)($.a,{children:Object(g.jsx)(f.a,{variant:"body1",color:"inherit",align:"left",gutterBottom:!0,children:"You rate your mental health as poor"})}),(3===this.props.reports.M_QofL2_SD[this.props.collection]||4===this.props.reports.M_QofL2_SD[this.props.collection])&&Object(g.jsx)($.a,{children:Object(g.jsx)(f.a,{variant:"body1",color:"inherit",align:"left",gutterBottom:!0,children:"You have severe problems walking around"})}),(3===this.props.reports.PC_QofL2_SD[this.props.collection]||4===this.props.reports.PC_QofL2_SD[this.props.collection])&&Object(g.jsx)($.a,{children:Object(g.jsx)(f.a,{variant:"body1",color:"inherit",align:"left",gutterBottom:!0,children:"You have severe problems washing or dressing"})}),(3===this.props.reports.UA_QofL2_SD[this.props.collection]||4===this.props.reports.UA_QofL2_SD[this.props.collection])&&Object(g.jsx)($.a,{children:Object(g.jsx)(f.a,{variant:"body1",color:"inherit",align:"left",gutterBottom:!0,children:"You have severe problems doing usual activities"})}),(3===this.props.reports.PD_QofL2_SD[this.props.collection]||4===this.props.reports.PD_QofL2_SD[this.props.collection])&&Object(g.jsx)($.a,{children:Object(g.jsx)(f.a,{variant:"body1",color:"inherit",align:"left",gutterBottom:!0,children:"You have severe problems with pain/discomfort"})}),(3===this.props.reports.AD_QofL2_SD[this.props.collection]||4===this.props.reports.AD_QofL2_SD[this.props.collection])&&Object(g.jsx)($.a,{children:Object(g.jsx)(f.a,{variant:"body1",color:"inherit",align:"left",gutterBottom:!0,children:"You have severe problems with anxiety/ depression"})})]}),Object(g.jsxs)(Ne.a,{item:!0,xs:5,children:[50<this.props.reports.HT_QofL2_SD[this.props.collection]&&this.props.reports.HT_QofL2_SD[this.props.collection]<=65&&Object(g.jsx)($.a,{children:Object(g.jsxs)(f.a,{variant:"body1",color:"inherit",align:"left",gutterBottom:!0,children:["Your health today is fair. On a scale of 0 to 100, you rate your health today as ",this.props.reports.HT_QofL2_SD[this.props.collection]]})}),1===this.props.reports.PH_QofL2_SD[this.props.collection]&&Object(g.jsx)($.a,{children:Object(g.jsx)(f.a,{variant:"body1",color:"inherit",align:"left",gutterBottom:!0,children:"NEED VAR You rate your health as fair in general"})}),1===this.props.reports.MH_QofL2_SD[this.props.collection]&&Object(g.jsx)($.a,{children:Object(g.jsx)(f.a,{variant:"body1",color:"inherit",align:"left",gutterBottom:!0,children:"You rate your mental health as fair"})}),2===this.props.reports.M_QofL2_SD[this.props.collection]&&Object(g.jsx)($.a,{children:Object(g.jsx)(f.a,{variant:"body1",color:"inherit",align:"left",gutterBottom:!0,children:"You have moderate problems walking around"})}),2===this.props.reports.PC_QofL2_SD[this.props.collection]&&Object(g.jsx)($.a,{children:Object(g.jsx)(f.a,{variant:"body1",color:"inherit",align:"left",gutterBottom:!0,children:"You have moderate problems washing or dressing"})}),2===this.props.reports.UA_QofL2_SD[this.props.collection]&&Object(g.jsx)($.a,{children:Object(g.jsx)(f.a,{variant:"body1",color:"inherit",align:"left",gutterBottom:!0,children:"You have moderate problems doing usual activities"})}),2===this.props.reports.PD_QofL2_SD[0]&&Object(g.jsx)($.a,{children:Object(g.jsx)(f.a,{variant:"body1",color:"inherit",align:"left",gutterBottom:!0,children:"You have moderate problems with pain/discomfort"})}),2===this.props.reports.AD_QofL2_SD[this.props.collection]&&Object(g.jsx)($.a,{children:Object(g.jsx)(f.a,{variant:"body1",color:"inherit",align:"left",gutterBottom:!0,children:"You have moderate problems with anxiety/ depression"})}),999>this.props.reports.HU_ED_QofL2_SD[this.props.collection]&&this.props.reports.HU_ED_QofL2_SD[this.props.collection]>0&&Object(g.jsx)($.a,{children:Object(g.jsxs)(f.a,{variant:"body1",color:"inherit",align:"left",gutterBottom:!0,children:["You had ",this.props.reports.HU_ED_QofL2_SD[this.props.collection]," ER visits in the past year."]})}),999>this.props.reports.HU_HNum_QofL2_SD[this.props.collection]&&this.props.reports.HU_HNum_QofL2_SD[this.props.collection]>0&&Object(g.jsx)($.a,{children:Object(g.jsxs)(f.a,{variant:"body1",color:"inherit",align:"left",gutterBottom:!0,children:["You had ",this.props.reports.HU_HNum_QofL2_SD[this.props.collection]," hospitalizations in the past year."]})}),999>this.props.reports.HU_EMS_QofL2_SD[this.props.collection]&&this.props.reports.HU_EMS_QofL2_SD[this.props.collection]>0&&Object(g.jsx)($.a,{children:Object(g.jsxs)(f.a,{variant:"body1",color:"inherit",align:"left",gutterBottom:!0,children:["You had ",this.props.reports.HU_EMS_QofL2_SD[this.props.collection]," crisis in the past year."]})}),999>this.props.reports.HU_UC_QofL2_SD[this.props.collection]&&this.props.reports.HU_UC_QofL2_SD[this.props.collection]>0&&Object(g.jsx)($.a,{children:Object(g.jsxs)(f.a,{variant:"body1",color:"inherit",align:"left",gutterBottom:!0,children:["You had ",this.props.reports.HU_UC_QofL2_SD[this.props.collection]," urgent care visits in the past year."]})}),"No"==this.props.reports.access_to_family_doctor[this.props.collection]&&Object(g.jsx)($.a,{children:Object(g.jsx)(f.a,{variant:"body1",color:"inherit",align:"left",gutterBottom:!0,children:"You don\u2019t have access to a family doctor"})}),this.props.reports.support_wellness_program[this.props.collection]&&this.props.reports.problem_walking[this.props.collection]>1&&this.props.reports.problem_walking[this.props.collection]<999&&this.props.reports.problem_washing_dressing[this.props.collection]>1&&this.props.reports.problem_walking[this.props.collection]<999&&this.props.reports.problem_usual_activities[this.props.collection]>1&&this.props.reports.problem_walking[this.props.collection]<999&&this.props.reports.problem_walking[this.props.collection]>1&&this.props.reports.problem_walking[this.props.collection]<999&&this.props.reports.problem_pain_discomfort[this.props.collection]>1&&this.props.reports.problem_walking[this.props.collection]<999&&this.props.reports.problem_anxious_depressed[this.props.collection]>1&&this.props.reports.problem_walking[this.props.collection]<999&&Object(g.jsx)($.a,{children:Object(g.jsx)(f.a,{variant:"body1",color:"inherit",align:"left",gutterBottom:!0,children:"Despite serious health limitations, you seldom participated in wellness activities"})}),this.props.reports.support_informal[this.props.collection]&&this.props.reports.problem_walking[this.props.collection]>1&&this.props.reports.problem_walking[this.props.collection]<999&&this.props.reports.problem_washing_dressing[this.props.collection]>1&&this.props.reports.problem_walking[this.props.collection]<999&&this.props.reports.problem_usual_activities[this.props.collection]>1&&this.props.reports.problem_walking[this.props.collection]<999&&this.props.reports.problem_walking[this.props.collection]>1&&this.props.reports.problem_walking[this.props.collection]<999&&this.props.reports.problem_pain_discomfort[this.props.collection]>1&&this.props.reports.problem_walking[this.props.collection]<999&&this.props.reports.problem_anxious_depressed[this.props.collection]>1&&this.props.reports.problem_walking[this.props.collection]<999&&Object(g.jsx)($.a,{children:Object(g.jsx)(f.a,{variant:"body1",color:"inherit",align:"left",gutterBottom:!0,children:"Despite serious health limitations, you did not have access to informal care"})})]})]})}}]),a}(n.Component),Pt=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(g.jsxs)(Ne.a,{container:!0,item:!0,xs:12,spacing:2,children:[Object(g.jsx)(Ne.a,{item:!0,xs:2,children:Object(g.jsx)(f.a,{variant:"h5",color:"inherit",align:"left",gutterBottom:!0,children:"Loneliness"})}),Object(g.jsx)(Ne.a,{item:!0,xs:5,children:this.props.reports.PL_QofL1_COMB_often_count[this.props.collection]>0&&999!==this.props.reports.PL_QofL1_COMB_often_count[this.props.collection]&&Object(g.jsx)($.a,{children:Object(g.jsx)(f.a,{variant:"body1",color:"inherit",align:"left",gutterBottom:!0,children:"You often feel you lack companions, feel left out or feel isolated from others"})})}),Object(g.jsx)(Ne.a,{item:!0,xs:5,children:this.props.reports.PL_QofL1_COMB_sometimes_count[this.props.collection]>0&&999!==this.props.reports.PL_QofL1_COMB_sometimes_count[this.props.collection]&&this.props.reports.PL_QofL1_COMB[this.props.collection]>=1.6&&999!==this.props.reports.PL_QofL1_COMB[this.props.collection]&&Object(g.jsx)($.a,{children:Object(g.jsx)(f.a,{variant:"body1",color:"inherit",align:"left",gutterBottom:!0,children:"You sometimes feel you lack companions, feel left out, or feel isolated from others"})})})]})}}]),a}(n.Component),_t=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(g.jsxs)(Ne.a,{container:!0,item:!0,xs:12,spacing:2,children:[Object(g.jsx)(Ne.a,{item:!0,xs:2,children:Object(g.jsx)(f.a,{variant:"h5",color:"inherit",align:"left",gutterBottom:!0,children:"Personal Well-Being"})}),Object(g.jsxs)(Ne.a,{item:!0,xs:5,children:[this.props.reports.PWI_QofL3_COMB[this.props.collection]<=60&&Object(g.jsx)($.a,{children:Object(g.jsx)(f.a,{variant:"body1",color:"inherit",align:"left",gutterBottom:!0,children:"You are not satisfied with life as a whole"})}),this.props.reports.SL_QofL3_SD[this.props.collection]<=5&&Object(g.jsx)($.a,{children:Object(g.jsx)(f.a,{variant:"body1",color:"inherit",align:"left",gutterBottom:!0,children:"You are not satisfied with your standard of living"})}),this.props.reports.YH_QofL3_SD[this.props.collection]<=5&&Object(g.jsx)($.a,{children:Object(g.jsx)(f.a,{variant:"body1",color:"inherit",align:"left",gutterBottom:!0,children:"You are not satisfied with your health"})}),this.props.reports.AL_QofL3_SD[this.props.collection]<=5&&Object(g.jsx)($.a,{children:Object(g.jsx)(f.a,{variant:"body1",color:"inherit",align:"left",gutterBottom:!0,children:"You are not satisfied with what you are achieving"})}),this.props.reports.PR_QofL3_SD[this.props.collection]<=5&&Object(g.jsx)($.a,{children:Object(g.jsx)(f.a,{variant:"body1",color:"inherit",align:"left",gutterBottom:!0,children:"You are not satisfied with your personal relationships"})}),this.props.reports.HSF_QofL3_SD[this.props.collection]<=5&&Object(g.jsx)($.a,{children:Object(g.jsx)(f.a,{variant:"body1",color:"inherit",align:"left",gutterBottom:!0,children:"You are not satisfied with how safe you feel"})}),this.props.reports.FPC_QofL3_SD[this.props.collection]<=5&&Object(g.jsx)($.a,{children:Object(g.jsx)(f.a,{variant:"body1",color:"inherit",align:"left",gutterBottom:!0,children:"You are not satisfied with feeling part of the community"})}),this.props.reports.FS_QofL3_SD[this.props.collection]<=5&&Object(g.jsx)($.a,{children:Object(g.jsx)(f.a,{variant:"body1",color:"inherit",align:"left",gutterBottom:!0,children:"You are not satisfied with your future security"})}),this.props.reports.SR_QofL3_SD[this.props.collection]<=5&&Object(g.jsx)($.a,{children:Object(g.jsx)(f.a,{variant:"body1",color:"inherit",align:"left",gutterBottom:!0,children:"You are not satisfied with your spirituality or religion"})}),3==this.props.reports.PAG_QofL1_SD[this.props.collection]&&Object(g.jsx)($.a,{children:Object(g.jsx)(f.a,{variant:"body1",color:"inherit",align:"left",gutterBottom:!0,children:"You are not satisfied with the progress you are making in achieving your goals and wishes"})})]}),Object(g.jsxs)(Ne.a,{item:!0,xs:5,children:[6==this.props.reports.SL_QofL3_SD[this.props.collection]&&Object(g.jsx)($.a,{children:Object(g.jsx)(f.a,{variant:"body1",color:"inherit",align:"left",gutterBottom:!0,children:"You are sometimes unsatisfied with your standard of living"})}),6==this.props.reports.YH_QofL3_SD[this.props.collection]&&Object(g.jsx)($.a,{children:Object(g.jsx)(f.a,{variant:"body1",color:"inherit",align:"left",gutterBottom:!0,children:"You are sometimes unsatisfied with your health"})}),6==this.props.reports.AL_QofL3_SD[this.props.collection]&&Object(g.jsx)($.a,{children:Object(g.jsx)(f.a,{variant:"body1",color:"inherit",align:"left",gutterBottom:!0,children:"You are sometimes unsatisfied with what you are achieving"})}),6==this.props.reports.PR_QofL3_SD[this.props.collection]&&Object(g.jsx)($.a,{children:Object(g.jsx)(f.a,{variant:"body1",color:"inherit",align:"left",gutterBottom:!0,children:"You are sometimes unsatisfied with your personal relationships"})}),6==this.props.reports.HSF_QofL3_SD[this.props.collection]&&Object(g.jsx)($.a,{children:Object(g.jsx)(f.a,{variant:"body1",color:"inherit",align:"left",gutterBottom:!0,children:"You are sometimes unsatisfied with how safe you feel"})}),6==this.props.reports.FPC_QofL3_SD[this.props.collection]&&Object(g.jsx)($.a,{children:Object(g.jsx)(f.a,{variant:"body1",color:"inherit",align:"left",gutterBottom:!0,children:"You are sometimes unsatisfied with feeling part of the community"})}),6==this.props.reports.FS_QofL3_SD[this.props.collection]&&Object(g.jsx)($.a,{children:Object(g.jsx)(f.a,{variant:"body1",color:"inherit",align:"left",gutterBottom:!0,children:"You are sometimes unsatisfied with your future security"})}),6==this.props.reports.SR_QofL3_SD[this.props.collection]&&Object(g.jsx)($.a,{children:Object(g.jsx)(f.a,{variant:"body1",color:"inherit",align:"left",gutterBottom:!0,children:"You are sometimes unsatisfied with your spirituality or religion"})}),2==this.props.reports.PAG_QofL1_SD[this.props.collection]&&Object(g.jsx)($.a,{children:Object(g.jsx)(f.a,{variant:"body1",color:"inherit",align:"left",gutterBottom:!0,children:"You are only sometimes satisfied with the progress you are making in achieving your goals and wishes"})})]})]})}}]),a}(n.Component),It=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(g.jsxs)(Ne.a,{container:!0,item:!0,xs:12,spacing:2,children:[Object(g.jsx)(Ne.a,{item:!0,xs:2,children:Object(g.jsx)(f.a,{variant:"h5",color:"inherit",align:"left",gutterBottom:!0,children:"Social Contact"})}),Object(g.jsx)(Ne.a,{item:!0,xs:5,children:("Yearly"==this.props.reports.frequency_get_together_family[this.props.collection]||"Never"==this.props.reports.frequency_get_together_family[this.props.collection])&&("Yearly"==this.props.reports.frequency_get_together_friends[this.props.collection]||"Never"==this.props.reports.frequency_get_together_friends[this.props.collection])&&("Yearly"==this.props.reports.frequency_get_together_neighbours[this.props.collection]||"Never"==this.props.reports.frequency_get_together_neighbours[this.props.collection])&&Object(g.jsx)($.a,{children:Object(g.jsx)(f.a,{variant:"body1",color:"inherit",align:"left",gutterBottom:!0,children:"You seldom get together with family, friends or getNeighbours"})})}),Object(g.jsxs)(Ne.a,{item:!0,xs:5,children:[0==this.props.reports.frequency_of_social_contacts_month_phone_computer[this.props.collection]&&Object(g.jsx)($.a,{children:Object(g.jsx)(f.a,{variant:"body1",color:"inherit",align:"left",gutterBottom:!0,children:"You do not see your family, friends, or neighbours as much as you would Like"})}),this.props.reports.QSC_QofL1_COMB[this.props.collection]<2&&Object(g.jsx)($.a,{children:Object(g.jsx)(f.a,{variant:"body1",color:"inherit",align:"left",gutterBottom:!0,children:"You do not have people in my life to have a good time with, relax with, or help you get your mind off things. [omit whatever aspects are not applicable]"})})]})]})}}]),a}(n.Component),At=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(g.jsxs)(Ne.a,{container:!0,item:!0,xs:12,spacing:2,children:[Object(g.jsx)(Ne.a,{item:!0,xs:2,children:Object(g.jsx)(f.a,{variant:"h5",color:"inherit",align:"left",gutterBottom:!0,children:"Availability of Support"})}),Object(g.jsx)(Ne.a,{item:!0,xs:5,children:this.props.reports.PSS_QofL1_COMB[this.props.collection]>=2.5&&this.props.reports.PSS_QofL1_COMB[this.props.collection]<=3&&Object(g.jsx)($.a,{children:Object(g.jsx)(f.a,{variant:"body1",color:"inherit",align:"left",gutterBottom:!0,children:"You hardly ever feel you have the social support you need from your family and friends."})})}),Object(g.jsxs)(Ne.a,{item:!0,xs:5,children:[this.props.reports.PSS_QofL1_COMB[this.props.collection]>=1.6&&this.props.reports.PSS_QofL1_COMB[this.props.collection]<=2.4&&Object(g.jsx)($.a,{children:Object(g.jsx)(f.a,{variant:"body1",color:"inherit",align:"left",gutterBottom:!0,children:"You only sometimes feel you have the social support you need from your family and friends."})}),2==this.props.reports.AFH_QofL1_SD[this.props.collection]&&Object(g.jsx)($.a,{children:Object(g.jsx)(f.a,{variant:"body1",color:"inherit",align:"left",gutterBottom:!0,children:"You are only sometimes comfortable asking for help."})}),3==this.props.reports.AFH_QofL1_SD[this.props.collection]&&Object(g.jsx)($.a,{children:Object(g.jsxs)(f.a,{variant:"body1",color:"inherit",align:"left",gutterBottom:!0,children:["You are not comfortable asking for help.",this.props.reports.AFH_QofL1_SD[this.props.collection]]})})]})]})}}]),a}(n.Component),Bt=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(Ee.a,{m:1,children:Object(g.jsxs)(Ne.a,{container:!0,spacing:2,id:"concernsGrid",children:[Object(g.jsx)(Ne.a,{item:!0,xs:4}),Object(g.jsx)(Ne.a,{item:!0,xs:4,children:Object(g.jsx)(f.a,{variant:"h5",color:"inherit",align:"left",gutterBottom:!0,children:"Red Flags"})}),Object(g.jsx)(Ne.a,{item:!0,xs:4,children:Object(g.jsx)(f.a,{variant:"h5",color:"inherit",align:"left",gutterBottom:!0,children:"Yellow Flags"})}),Object(g.jsx)(Dt,{reports:this.props.reports,collection:this.props.collection}),Object(g.jsx)(_t,{reports:this.props.reports,collection:this.props.collection}),Object(g.jsx)(At,{reports:this.props.reports,collection:this.props.collection}),Object(g.jsx)(Pt,{reports:this.props.reports,collection:this.props.collection}),Object(g.jsx)(kt,{reports:this.props.reports,collection:this.props.collection}),Object(g.jsx)(It,{reports:this.props.reports,collection:this.props.collection})]})})})}}]),a}(n.Component),Lt=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(g.jsx)("div",{children:(1==this.props.reports.ISA_INT[this.props.collection]||0!==this.props.reports.ISA_DM_STRINGS[this.props.collection].length)&&Object(g.jsxs)(f.a,{variant:"body1",color:"inherit",align:"left",gutterBottom:!0,children:[Object(g.jsx)("em",{children:"Participating in community activities."})," Think about what activities you enjoy the most. Develop a plan for how you can make room for more of these kinds of activities in your life that fits your lifestyle and circumstances. Would you like us to help you find suitable activities?"]})})}}]),a}(n.Component),Nt=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(g.jsxs)("div",{children:[(this.props.reports.HT_QofL2_SD[this.props.collection]<=65&&999!==this.props.reports.HT_QofL2_SD[this.props.collection]||this.props.reports.MH_QofL2_SD[this.props.collection]<=1&&999!==this.props.reports.MH_QofL2_SD[this.props.collection]||this.props.reports.HU_ED_QofL2_SD[this.props.collection]>1&&999!==this.props.reports.HU_ED_QofL2_SD[this.props.collection]||this.props.reports.HU_HNum_QofL2_SD[this.props.collection]>1&&999!==this.props.reports.HU_HNum_QofL2_SD[this.props.collection])&&Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(f.a,{variant:"body1",color:"inherit",align:"left",gutterBottom:!0,children:Object(g.jsxs)("em",{children:["Your health. ",this.props.reports.HU_ED_QofL2_SD[this.props.collection],"  "]})}),this.props.reports.HU_ED_QofL2_SD[this.props.collection]>1&&999!==this.props.reports.HU_ED_QofL2_SD[this.props.collection]&&Object(g.jsxs)(f.a,{variant:"body1",color:"inherit",align:"left",gutterBottom:!0,children:["You had  ",this.props.reports.HU_ED_QofL2_SD[this.props.collection]," er visits in the past year."]}),this.props.reports.HU_HNum_QofL2_SD[this.props.collection]>1&&999!==this.props.reports.HU_HNum_QofL2_SD[this.props.collection]&&Object(g.jsxs)(f.a,{variant:"body1",color:"inherit",align:"left",gutterBottom:!0,children:["You had ",this.props.reports.HU_HNum_QofL2_SD[this.props.collection]>1," hospitalizations in the past year."]}),Object(g.jsx)(f.a,{variant:"body1",color:"inherit",align:"left",gutterBottom:!0,children:"If you feel concerned about your health generally, you may benefit from developing a plan and building a network of care that is responsive to all aspects of your physical, mental, social and spiritual health. Would you like us to help you develop a personalized plan that aims to improve your health?"})]}),this.props.reports.HU_HNum_QofL2_SD[this.props.collection]>=2&&999!==this.props.reports.HU_HNum_QofL2_SD[this.props.collection]&&Object(g.jsxs)(f.a,{display:"block",variant:"body1",color:"inherit",align:"left",gutterBottom:!0,children:[Object(g.jsx)("em",{children:"Problems  with pain."}),"    Regularly monitor pain and discomfort symptoms, and the circumstances in which they are better and worse. Share information about your symptoms with your trusted providers and your family and ask about pain management and comfort measures to help with deal with pain and symptoms. Make sure you keep track of what seems to help."]}),this.props.reports.AD_QofL2_SD[this.props.collection]>=2&&999!==this.props.reports.AD_QofL2_SD[this.props.collection]&&Object(g.jsxs)(f.a,{display:"block",variant:"body1",color:"inherit",align:"left",gutterBottom:!0,children:[Object(g.jsx)("em",{children:"Problems with anxiety or depression."}),"   Regularly monitor your physical and psychological symptoms, and circumstances in which they are better and worse. Share this information with your trusted providers and other supporters and ask for advice. You may wish to explore options such as counselling, peer support groups, relaxation, meditation or other activities to reduce anxiety. Make sure you keep track of what seems to help."]}),(this.props.reports.M_QofL2_SD[this.props.collection]>=2&&999!==this.props.reports.M_QofL2_SD[this.props.collection]||this.props.reports.PC_QofL2_SD[this.props.collection]>=2&&999!==this.props.reports.PC_QofL2_SD[this.props.collection]||this.props.reports.UA_QofL2_SD[this.props.collection]>=2&&999!==this.props.reports.UA_QofL2_SD[this.props.collection])&&Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)(f.a,{variant:"body1",color:"inherit",align:"left",gutterBottom:!0,children:[Object(g.jsx)("em",{children:"Problems with "}),this.props.reports.M_QofL2_SD[this.props.collection]>=2&&999!==this.props.reports.M_QofL2_SD[this.props.collection]&&Object(g.jsx)("em",{children:" mobility "}),this.props.reports.PC_QofL2_SD[this.props.collection]>=2&&999!==this.props.reports.PC_QofL2_SD[this.props.collection]&&Object(g.jsx)("em",{children:" personal care, usual activities]"}),this.props.reports.UA_QofL2_SD[this.props.collection]>=2&&999!==this.props.reports.UA_QofL2_SD[this.props.collection]&&Object(g.jsx)("em",{children:" usual activities "})]}),Object(g.jsx)(f.a,{variant:"body1",color:"inherit",align:"left",gutterBottom:!0,children:"You may want to speak to a trusted health care provider and bring this results report with you, to ask if you are eligible for extra help, assistive aids, or if they have other suggestions to help you better deal with these challenges. If you don\u2019t already have a trusted provider helping with your in-home or personal care, would you like us to connect you?"})]}),"No"==this.props.reports.access_to_family_doctor[this.props.collection]&&Object(g.jsxs)(f.a,{display:"block",variant:"body1",color:"inherit",align:"left",gutterBottom:!0,children:[Object(g.jsx)("em",{children:"Access to a primary care provider."})," Having\xa0your own\xa0family doctor\xa0is good for your health! Would you like us to help you connect with a primary care provider who is right for you?"]})]})}}]),a}(n.Component),Et=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(g.jsxs)("div",{children:[this.props.reports.PL_QofL1_COMB_often_count[this.props.collection]>0&&999!==this.props.reports.PL_QofL1_COMB_often_count[this.props.collection]&&Object(g.jsxs)(f.a,{variant:"body1",color:"inherit",align:"left",gutterBottom:!0,children:[Object(g.jsx)("em",{children:"Loneliness."})," Everyone needs people in their lives they feel close to. Try meeting new people and maybe make new friends.\xa0 Join events\xa0that will help you connect with neighbours who\xa0share your interests, or start your own activity, and see who you meet."]}),this.props.reports.PL_QofL1_COMB_sometimes_count[this.props.collection]>0&&999!==this.props.reports.PL_QofL1_COMB_sometimes_count[this.props.collection]&&this.props.reports.PL_QofL1_COMB[this.props.collection]>=1.6&&999!==this.props.reports.PL_QofL1_COMB[this.props.collection]&&Object(g.jsxs)(f.a,{variant:"body1",color:"inherit",align:"left",gutterBottom:!0,children:[Object(g.jsx)("em",{children:"Loneliness."})," Try connecting with others through sharing your time and talents with them. Invite others to join you in doing the activities you love best. Helping others is also a good way to feel less lonely."]}),!(this.props.reports.PL_QofL1_COMB_often_count[this.props.collection]>0&&999!==this.props.reports.PL_QofL1_COMB_often_count[this.props.collection])&&!(this.props.reports.PL_QofL1_COMB_sometimes_count[this.props.collection]>0&&999!==this.props.reports.PL_QofL1_COMB_sometimes_count[this.props.collection]&&this.props.reports.PL_QofL1_COMB[this.props.collection]>=1.6&&999!==this.props.reports.PL_QofL1_COMB[this.props.collection])&&Object(g.jsxs)(f.a,{variant:"body1",color:"inherit",align:"left",gutterBottom:!0,children:[Object(g.jsx)("em",{children:"Feeling left out."})," Talk to others to let them know what\u2019s important to you."]})]})}}]),a}(n.Component),Tt=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(g.jsxs)("div",{children:[0==this.props.reports.frequency_of_social_contacts_month_phone_computer[this.props.collection]&&("Yearly"==this.props.reports.frequency_get_together_family[this.props.collection]||"Never"==this.props.reports.frequency_get_together_family[this.props.collection])&&("Yearly"==this.props.reports.frequency_get_together_friends[this.props.collection]||"Never"==this.props.reports.frequency_get_together_friends[this.props.collection])&&("Yearly"==this.props.reports.frequency_get_together_neighbours[this.props.collection]||"Never"==this.props.reports.frequency_get_together_neighbours[this.props.collection])&&Object(g.jsxs)(f.a,{variant:"body1",color:"inherit",align:"left",gutterBottom:!0,children:[Object(g.jsx)("em",{children:"Seeing family and friends."}),"  Even if circumstances make it difficult to physically get together with people as often as you would like, think about different ways to show them you care. Phone calls, letters, messages and video are all good ways to reach out. You could also plan for virtual get-togethers. Can we help you get started?"]}),this.props.reports.QSC_QofL1_COMB[this.props.collection]<2&&Object(g.jsx)(f.a,{variant:"body1",color:"inherit",align:"left",gutterBottom:!0,children:"Quality time with others. Everyone needs people in their lives they enjoy spending time with. Think about what steps you can take now so you can get more enjoyment out of spending time with people. Would you like us to help you develop a plan?"})]})}}]),a}(n.Component),Ut=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(g.jsx)("div",{children:(this.props.reports.PSS_QofL1_COMB[this.props.collection]>=1.6&&this.props.reports.PSS_QofL1_COMB[this.props.collection]<=2.4||this.props.reports.PSS_QofL1_COMB[this.props.collection]>=2.5&&this.props.reports.PSS_QofL1_COMB[this.props.collection]<=3||this.props.reports.PSS_QofL1_COMB[this.props.collection]>=1.6&&this.props.reports.PSS_QofL1_COMB[this.props.collection]<=2.4)&&Object(g.jsxs)(f.a,{variant:"body1",color:"inherit",align:"left",gutterBottom:!0,children:[Object(g.jsx)("em",{children:"Support from others."})," Remember it\u2019s a natural part of living in a caring community to ask for the help you need. Research shows that 80% of the time, helping behaviour will start from a clear and specific request from you. Your community is there for you \u2013 it\u2019s what community is all about. Would you like us to help you request help?"]})})}}]),a}(n.Component),Mt=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(g.jsxs)("div",{children:[this.props.reports.PWI_QofL3_COMB[this.props.collection]<=60&&Object(g.jsxs)(f.a,{variant:"body1",color:"inherit",align:"left",gutterBottom:!0,children:[Object(g.jsx)("em",{children:"Not satisfied with life."})," Feeling dissatisfied with your life is a sign that you may be experiencing some stressful challenges and may need extra support. Achieving something important each day, developing good personal relationships with others, getting your finances in order, and finding meaning in what\u2019s happening will help to lower stress. Would you like to speak to someone to explore these issues further?"]}),this.props.reports.SL_QofL3_SD[this.props.collection]<=5&&Object(g.jsx)(f.a,{display:"block",variant:"body1",color:"inherit",align:"left",gutterBottom:!0,children:"Standard of living. Would it help to talk to someone to learn about how to better manage your finances, and to explore whether there are income support programs you may be entitled to?"}),this.props.reports.AL_QofL3_SD[this.props.collection]<=5&&Object(g.jsxs)(f.a,{display:"block",variant:"body1",color:"inherit",align:"left",gutterBottom:!0,children:[Object(g.jsx)("em",{children:"Life achievement."})," Remember \u2013 your life has purpose and your story matters. Try to achieve at least one thing that is important to you each day.  Setting goals for what you would like to change, and what you can do to make this happen, can help. Would you like us to help you record your story and develop an action plan for achieving your goals?"]}),this.props.reports.PR_QofL3_SD[this.props.collection]<=5&&Object(g.jsxs)(f.a,{display:"block",variant:"body1",color:"inherit",align:"left",gutterBottom:!0,children:[Object(g.jsx)("em",{children:"Personal relationships."})," Would it help you to talk to someone to learn how to mend/tend personal relationships?"]}),this.props.reports.HSF_QofL3_SD[this.props.collection]<=5&&Object(g.jsxs)(f.a,{display:"block",variant:"body1",color:"inherit",align:"left",gutterBottom:!0,children:[Object(g.jsx)("em",{children:"Safety."})," Talk to your family and neighbours about what people could do together to feel more safe \u2013 for example, joining a Neighbourhood Watch group, tracking safety issues, having training workshops, starting a community dialogue about other possible options to improve safety."]}),this.props.reports.FPC_QofL3_SD[this.props.collection]<=5&&Object(g.jsxs)(f.a,{display:"block",variant:"body1",color:"inherit",align:"left",gutterBottom:!0,children:[Object(g.jsx)("em",{children:"Community belonging."})," Remember that every act of kindness counts and helps you feel a greater sense of belonging. Share a card and a smile to show people in your neighbourhood that you care about them. Your neighbours are there for you \u2013 it\u2019s what community is all about."]}),this.props.reports.FS_QofL3_SD[this.props.collection]<=5&&Object(g.jsxs)(f.a,{display:"block",variant:"body1",color:"inherit",align:"left",gutterBottom:!0,children:[Object(g.jsx)("em",{children:"Future security."})," Would it help to talk to someone to learn about how to plan for your future health, finances or safety?"]}),this.props.reports.SR_QofL3_SD[this.props.collection]<=5&&Object(g.jsxs)(f.a,{display:"block",variant:"body1",color:"inherit",align:"left",gutterBottom:!0,children:[Object(g.jsx)("em",{children:"Spirituality or religion."})," Would it help to talk to someone about your spirituality or about the different faith communities you might join in your neighbourhood?"]})]})}}]),a}(n.Component),Ft=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)(f.a,{display:"block",variant:"body1",color:"inherit",align:"left",gutterBottom:!0,children:[Object(g.jsx)("em",{children:"Goals."}),"  It\u2019s important to take steps now to achieve your wishes and hopes for the future. Thinking about what you would like to see different in your life 1 month, 3 months and 6 months from now, and what you can do to make this happen, can help.\xa0 Remember, a wish written down with a date becomes a goal. A goal broken down into steps becomes a plan. A plan backed by action becomes reality. Is there anything the community could help you with to make your wishes happen?"]}),Object(g.jsx)(Nt,{reports:this.props.reports,collection:this.props.collection}),Object(g.jsx)(Mt,{reports:this.props.reports,collection:this.props.collection}),Object(g.jsx)(Ut,{reports:this.props.reports,collection:this.props.collection}),Object(g.jsx)(Et,{reports:this.props.reports,collection:this.props.collection}),Object(g.jsx)(Lt,{reports:this.props.reports,collection:this.props.collection}),Object(g.jsx)(Tt,{reports:this.props.reports,collection:this.props.collection}),Object(g.jsxs)(f.a,{display:"block",variant:"body1",color:"inherit",align:"left",gutterBottom:!0,children:[Object(g.jsx)("em",{children:"Helping Others. "})," It\u2019s human nature to both get help and to help others, at every age and stage.\xa0Do you know anyone who is lonely or could use some extra help? Try reaching out and sharing your time and talent with them."]}),Object(g.jsx)(f.a,{display:"block",variant:"body1",color:"inherit",align:"left",gutterBottom:!0,children:"Remember \u2013 Being involved in meaningful activities and maintaining close relationships is important. Staying active and helping others is good for your health and good for community!"})]})}}]),a}(n.Component),Wt=(n.Component,function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).chartRef=r.a.createRef(),n.findColour=function(e){return e<0&&(e=100-(e*=-1)),0==e?"#7D3C98":e<24?"#E74C3C":e<50?"#F4D03F":e<75?"#F39C12":e<101?"#27AE60":"#7D3C98"},n.isComplete=function(e){return!(e<-100||e>100)},n.state={health_colour:n.findColour(n.props.data[0]),mentalHealth_colour:n.findColour(n.props.data[1]),wellBeing_colour:n.findColour(n.props.data[2]),lifeSatisfaction_colour:n.findColour(n.props.data[3]),loneliness_colour:n.findColour(n.props.data[4]),health_zero:n.isComplete(n.props.data[0])?n.props.data[0]:"Incomplete",mentalHealth:n.isComplete(n.props.data[1])?-1*n.props.data[1]:"Incomplete",wellBeing:n.isComplete(n.props.data[2])?n.props.data[2]:"Incomplete",lifeSatisfaction:n.isComplete(n.props.data[3])?n.props.data[3]:"Incomplete",loneliness:n.props.data[4]},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this.chartRef.current.getContext("2d");new bt.a(e,{type:"doughnut",options:{plugins:{legend:{display:!0,position:"top",labels:{font:{size:12}}},title:{display:!0,text:"At a glance"},tooltip:{enabled:!1}},scales:{x:{min:0,max:5}}},data:{labels:["Health score: "+this.state.health_zero,"Mental health score: "+this.state.mentalHealth,"Well-being score: "+this.state.wellBeing,"Life satisfaction score: "+this.state.lifeSatisfaction,"Loneliness"],datasets:[{data:[1,1,1,1,1],borderColor:"#0",backgroundColor:[this.state.health_colour,this.state.mentalHealth_colour,this.state.wellBeing_colour,this.state.lifeSatisfaction_colour,this.state.loneliness_colour],fill:!1}]}})}},{key:"render",value:function(){return Object(g.jsx)("div",{children:Object(g.jsx)("canvas",{id:"myChart",ref:this.chartRef})})}}]),a}(n.Component)),zt=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).chartRef=r.a.createRef(),n.scoreAverage=function(e){for(var t=0,a=0,r=0;r<5;r++){var i=e[r];i<0&&(i=100-(i*=-1)),n.isComplete(i)&&(t+=i,a++)}return t/a},n.findColour=function(e){return e<24?"#E74C3C":e<50?"#F4D03F":e<75?"#F39C12":e<101?"#27AE60":"#7D3C98"},n.isComplete=function(e){return!(e<-100||e>100)},n.calculateBalance=function(e){return 100-e},n.state={score:n.scoreAverage(n.props.data)},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this.chartRef.current.getContext("2d");new bt.a(e,{type:"doughnut",options:{rotation:270,circumference:180,plugins:{legend:{display:!0,position:"top",labels:{font:{size:12}}},title:{display:!0,text:"Overall"},tooltip:{enabled:!1}},scales:{x:{min:0,max:5}}},data:{labels:["Average score: "+this.state.score],datasets:[{data:[this.state.score,50],borderColor:"#0",backgroundColor:[this.findColour(this.state.score),"#FFFFFF"],fill:!1}]}})}},{key:"render",value:function(){return Object(g.jsx)("div",{children:Object(g.jsx)("canvas",{id:"myChart",ref:this.chartRef})})}}]),a}(n.Component),Rt=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).findDashboardValues=function(e,t){var a=(e.HT_QofL2_SD[t]+e.PH_QofL2_SD[t])/2,n=(e.MH_QofL2_SD[t]+4*e.AD_QofL2_SD[t])/2;n*=-1;var r=e.PWI_QofL3_COMB[t],i=10*e.LS_QofL3_SD[t],c=e.PL_QofL1_COMB[t]/3*100;return[a,n,r,i,c*=-1]},e}return Object(o.a)(a,[{key:"render",value:function(){return Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)("div",{className:"dashboard-flex",children:[Object(g.jsx)("div",{className:"dashboard-item",children:Object(g.jsx)(Wt,{data:this.findDashboardValues(this.props.reports,this.props.collection)})}),Object(g.jsx)("div",{className:"dashboard-item",children:Object(g.jsx)(zt,{data:this.findDashboardValues(this.props.reports,this.props.collection)})})]})})}}]),a}(n.Component),Vt=Object(st.a)((function(e){return{root:{flexGrow:1,height:"100%"},rootGrid:{height:"100%"}}})),Qt=function(e){var t=Vt(),a=e.appState,r=e.ToggleDrawerClose,i=e.CheckAuthenticationValidity,c=Object(n.useState)(new ct),s=Object(rt.a)(c,2),o=s[0],l=s[1],d=Object(n.useState)(null),j=Object(rt.a)(d,2),b=j[0],u=j[1],p=Object(n.useState)([]),O=Object(rt.a)(p,2),m=O[0],x=O[1],y=Object(n.useState)(localStorage.getItem("_id")),v=Object(rt.a)(y,2),C=v[0],S=v[1],w=Object(n.useState)(0),D=Object(rt.a)(w,2),_=D[0],I=D[1],A=Object(n.useCallback)((function(){if("Patient"!=a.role)if(a.patients.length<=0)l(new ct("You do not have any patients assigned. In order to start a collection, you must first be assigned a member by an Administrator.","error"));else{var e={_id:{$in:a.patients}};console.log(e._id.$in[0]),Re("users/query",a.token,e,(function(e,t){e?l(new ct("Unable to retrieve Patients. Please refresh and try again.","error")):200===t.status?x(t.data.response.users):l(new ct("Unable to retrieve Patients. Please refresh and try again.","error"))}))}else l(new ct("You do not have Permission to recieve Patients","error"))}),[a]),B=Object(n.useCallback)((function(e){h("reports/neighbours/user/"+e,a.token,(function(e,t){e?l(new ct("Unable to retrieve Neighbour Chapter Reports. Please refresh and try again.","error")):200===t.status?0===Object.keys(t.data).length?u(null):u(t.data):l(new ct("Unable to retrieve Neighbour Chapter Reports. Please refresh and try again.","error"))}))}),[a]),L=Object(n.useCallback)((function(e){S(e.target.value)}),[]),N=Object(n.useCallback)((function(e,t){I(t-1)}),[]);return Object(n.useEffect)((function(){r(),setTimeout((function(){i((function(e){A(C)}))}),200)}),[]),Object(n.useEffect)((function(){""!=C&&B(C)}),[C]),null!=o?Object(g.jsx)("div",{className:t.root,children:Object(g.jsx)(Ne.a,{container:!0,className:t.rootGrid,direction:"row",justifyContent:"flex-start",alignItems:"stretch",spacing:1,children:m?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(Ne.a,{item:!0,xs:8,children:Object(g.jsx)(Ee.a,{mx:1,my:1,children:Object(g.jsxs)(Ne.a,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"flex-end",spacing:2,children:[Object(g.jsx)(Ne.a,{item:!0,children:Object(g.jsx)(ce.a,{color:"primary"})}),Object(g.jsx)(Ne.a,{item:!0,xs:!0,children:Object(g.jsx)(f.a,{variant:"h5",color:"secondary",align:"left",gutterBottom:!1,children:"Your Reports"})})]})})}),Object(g.jsx)(Ne.a,{item:!0,xs:4,children:Object(g.jsx)(Ee.a,{mx:1,my:1})}),Object(g.jsx)(Ne.a,{item:!0,xs:12,children:Object(g.jsx)(Te.a,{raised:!0,children:Object(g.jsx)(Ee.a,{mx:1,my:1,boxShadow:0,children:Object(g.jsxs)(Ne.a,{container:!0,direction:"column",justifyContent:"flex-start",alignItems:"stretch",spacing:1,children:[Object(g.jsx)(Ne.a,{item:!0,xs:12,children:Object(g.jsxs)(k.a,{fullWidth:!0,variant:"filled",size:"small",className:t.formControl,children:[Object(g.jsx)(P.a,{id:"select-label-Member",children:"Member"}),Object(g.jsx)(Ve.a,{className:t.selectEmpty,labelId:"select-label-Member",id:"select-Member",defaultValue:"",disabled:!m,onChange:function(e){L(e)},children:m.map((function(e,t){return Object(g.jsx)(ge.a,{value:e._id,children:Object(g.jsx)("em",{children:e.info.name})},e._id)}))})]})}),Object(g.jsx)(Ne.a,{item:!0,xs:12,children:b?Object(g.jsx)(it.a,{count:b.SRVNum_PRF_SD.length,showFirstButton:!0,showLastButton:!0,disabled:!b,onChange:function(e,t){N(e,t)}}):Object(g.jsx)(g.Fragment,{children:" "})})]})})})}),Object(g.jsx)(Ne.a,{item:!0,xs:12,children:Object(g.jsx)(Te.a,{raised:!0,children:Object(g.jsx)(Ee.a,{mx:1,my:1,boxShadow:0,children:Object(g.jsx)(Ne.a,{container:!0,direction:"column",justifyContent:"flex-start",alignItems:"stretch",spacing:1,children:b&&0!=Object.keys(b).length&&Object.getPrototypeOf(b)===Object.prototype?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)(Ne.a,{item:!0,xs:12,children:[Object(g.jsx)(f.a,{variant:"h4",color:"textPrimary",children:"Compassion Care Community Neighbours Report"}),Object(g.jsx)(R.a,{light:!0})]}),Object(g.jsxs)(Ne.a,{item:!0,xs:12,id:"dashboard",children:[Object(g.jsx)(f.a,{variant:"h5",color:"textSecondary",align:"left",gutterBottom:!0,children:"Dashboard"}),Object(g.jsx)(Rt,{reports:b,collection:_})]}),Object(g.jsxs)(Ne.a,{item:!0,xs:12,id:"summary",children:[Object(g.jsx)(f.a,{variant:"h5",color:"textSecondary",align:"left",gutterBottom:!0,children:"Summary"}),Object(g.jsx)(wt,{reports:b,collection:_})]}),Object(g.jsxs)(Ne.a,{item:!0,xs:12,id:"possible concerns",children:[Object(g.jsx)(f.a,{variant:"h5",color:"textSecondary",align:"left",gutterBottom:!0,children:"Possible Concerns"}),Object(g.jsx)(Bt,{reports:b,collection:_})]}),Object(g.jsxs)(Ne.a,{item:!0,xs:12,id:"suggestions",children:[Object(g.jsx)(f.a,{variant:"h5",color:"textSecondary",align:"left",gutterBottom:!0,children:"Suggestions"}),Object(g.jsx)(Ft,{reports:b,collection:_})]})]}):Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(f.a,{variant:"subtitle2",color:"textSecondary",align:"left",gutterBottom:!0,children:"No available reports."})})})})})})]}):Object(g.jsx)(f.a,{variant:"subtitle2",color:"textSecondary",align:"left",gutterBottom:!0,children:"Persons Data Not Available"})})}):Object(g.jsx)(f.a,{variant:"h6",color:"inherit",align:"center",gutterBottom:!0,children:"Not Authorized. Please refresh and try again."})};Qt.defaultProps={appState:{},ToggleDrawerClose:function(){},CheckAuthenticationValidity:function(){}};var Ht=Qt,Jt=Object(st.a)((function(e){return{root:{flexGrow:1,height:"100%"},rootGrid:{height:"100%"}}})),Yt=function(e){var t=Jt(),a=e.appState,r=e.ToggleDrawerClose,i=e.CheckAuthenticationValidity,c=Object(n.useState)(new ct),s=Object(rt.a)(c,2),o=s[0],l=s[1],d=Object(n.useState)(null),j=Object(rt.a)(d,2),b=j[0],u=j[1],p=Object(n.useState)([]),O=Object(rt.a)(p,2),m=O[0],x=O[1],y=Object(n.useState)(localStorage.getItem("_id")),v=Object(rt.a)(y,2),C=v[0],S=v[1],w=Object(n.useState)(0),k=Object(rt.a)(w,2),D=k[0],P=k[1],_=Object(n.useCallback)((function(){if("Patient"!=a.role)if(a.patients.length<=0)l(new ct("You do not have any patients assigned. In order to start a collection, you must first be assigned a member by an Administrator.","error"));else{var e={_id:{$in:a.patients}};Re("users/query",a.token,e,(function(e,t){e?l(new ct("Unable to retrieve Patients. Please refresh and try again.","error")):200===t.status?x(t.data.response.users):l(new ct("Unable to retrieve Patients. Please refresh and try again.","error"))}))}else l(new ct("You do not have Permission to recieve Patients","error"))}),[a]),I=Object(n.useCallback)((function(e){h("reports/neighbours/user/"+e,a.token,(function(e,t){console.log(t),e?l(new ct("Unable to retrieve Neighbour Chapter Reports. Please refresh and try again.")):200===t.status?0===Object.keys(t.data).length?u(null):u(t.data):l(new ct("Unable to retrieve Neighbour Chapter Reports. Please refresh and try again.","error"))}))}),[a]);Object(n.useCallback)((function(e){S(e.target.value)}),[]),Object(n.useCallback)((function(e,t){P(t-1)}),[]);return Object(n.useEffect)((function(){r(),setTimeout((function(){i((function(e){_(C)}))}),200)}),[]),Object(n.useEffect)((function(){""!=C&&I(C)}),[C]),null!=o?Object(g.jsx)("div",{className:t.root,children:Object(g.jsx)(Ne.a,{container:!0,className:t.rootGrid,direction:"row",justifyContent:"flex-start",alignItems:"stretch",spacing:1,children:m?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(Ne.a,{item:!0,xs:8,children:Object(g.jsx)(Ee.a,{mx:1,my:1,children:Object(g.jsxs)(Ne.a,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"flex-end",spacing:2,children:[Object(g.jsx)(Ne.a,{item:!0,children:Object(g.jsx)(ce.a,{color:"primary"})}),Object(g.jsx)(Ne.a,{item:!0,xs:!0,children:Object(g.jsx)(f.a,{variant:"h5",color:"secondary",align:"left",gutterBottom:!1,children:"Your Reports"})})]})})}),Object(g.jsx)(Ne.a,{item:!0,xs:4,children:Object(g.jsx)(Ee.a,{mx:1,my:1,children:Object(g.jsx)(jt,{alert:o,setParentAlert:l})})}),Object(g.jsx)(Ne.a,{item:!0,xs:12,children:Object(g.jsx)(Te.a,{raised:!0})}),Object(g.jsx)(Ne.a,{item:!0,xs:12,children:Object(g.jsx)(Te.a,{raised:!0,children:Object(g.jsx)(Ee.a,{mx:1,my:1,boxShadow:0,children:Object(g.jsx)(Ne.a,{container:!0,direction:"column",justifyContent:"flex-start",alignItems:"stretch",spacing:1,children:b&&0!=Object.keys(b).length&&Object.getPrototypeOf(b)===Object.prototype?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)(Ne.a,{item:!0,xs:12,children:[Object(g.jsx)(f.a,{variant:"h4",color:"textPrimary",children:"Compassion Care Community Neighbours Report"}),Object(g.jsx)(R.a,{light:!0})]}),Object(g.jsxs)(Ne.a,{item:!0,xs:12,id:"dashboard",children:[Object(g.jsx)(f.a,{variant:"h5",color:"textSecondary",align:"left",gutterBottom:!0,children:"Dashboard"}),Object(g.jsx)(Rt,{reports:b,collection:D})]}),Object(g.jsxs)(Ne.a,{item:!0,xs:12,id:"summary",children:[Object(g.jsx)(f.a,{variant:"h5",color:"textSecondary",align:"left",gutterBottom:!0,children:"Summary"}),Object(g.jsx)(wt,{reports:b,collection:D})]}),Object(g.jsxs)(Ne.a,{item:!0,xs:12,id:"possible concerns",children:[Object(g.jsx)(f.a,{variant:"h5",color:"textSecondary",align:"left",gutterBottom:!0,children:"Possible Concerns"}),Object(g.jsx)(Bt,{reports:b,collection:D})]}),Object(g.jsxs)(Ne.a,{item:!0,xs:12,id:"suggestions",children:[Object(g.jsx)(f.a,{variant:"h5",color:"textSecondary",align:"left",gutterBottom:!0,children:"Suggestions"}),Object(g.jsx)(Ft,{reports:b,collection:D})]})]}):Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(f.a,{variant:"subtitle2",color:"textSecondary",align:"left",gutterBottom:!0,children:"No available reports."})})})})})})]}):Object(g.jsx)(f.a,{variant:"subtitle2",color:"textSecondary",align:"left",gutterBottom:!0,children:"Persons Data Not Available"})})}):Object(g.jsx)(f.a,{variant:"h6",color:"inherit",align:"center",gutterBottom:!0,children:"Not Authorized. Please refresh and try again."})};Yt.defaultProps={appState:{},ToggleDrawerClose:function(){},CheckAuthenticationValidity:function(){}};var Gt=Yt,qt=a(198),$t=a.n(qt),Zt=a(234),Kt=a(366),Xt=a(67),ea=a.n(Xt),ta=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).componentDidMount=Object(Zt.a)($t.a.mark((function e(){return $t.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.props.UpdateUser();case 2:n.users={},n.users.library={},n.users.length=0,n.users.patients=0,n.checkAuth();case 7:case"end":return e.stop()}}),e)}))),n.checkAuth=function(){setTimeout((function(){n.props.ToggleDrawerClose(),n.props.CheckAuthenticationValidity((function(e){e&&n.getUsers()}))}),200)},n.getUsers=function(){var e=n.props.appState;h("users/",e.token,(function(e,t){e?n.setState({error:e.message,render:!0}):200===t.status||304===t.status?n.populateStateData(t.data.response):n.setState({error:"Unable to retrieve users.  Please refresh and try agian.",render:!0})}))},n.populateStateData=function(e){for(var t=n.props.appState,a=0,r=0;r<e.count;r++)t.patients.includes(e.users[r]._id)&&(n.users.library[a]={_id:e.users[r]._id,name:e.users[r].info.name,role:e.users[r].role,email:e.users[r].email,createdAt:e.users[r].createdAt},a++);n.users.length=a,n.setState({error:"",render:!0})},n.createUserCard=function(e,t,a,n,r){return{_id:e,name:t,role:a,email:n,createdAt:r}},n.renderCards=function(){for(var e=n.props.classes,t=[],a=0;a<n.users.length;a++)t.push(n.createUserCard(n.users.library[a]._id,n.users.library[a].name,n.users.library[a].role,n.users.library[a].email,n.users.library[a].createdAt));return 0===n.users.length?Object(g.jsx)(f.a,{children:"You do not have any patients assigned to you yet.  Please wait for an administrator to assign you your members, or contact your administrator directly to ensure they know you currently have no one assigned to you."}):Object(g.jsx)("div",{className:e.userCardRoot,children:Object(g.jsx)(Ne.a,{container:!0,spacing:10,children:t.map((function(e,t){var a=new Date(e.createdAt);return Object(g.jsx)(Ne.a,{item:!0,xs:12,sm:12,md:6,lg:4,xl:4,children:Object(g.jsxs)(Te.a,{raised:!0,variant:"outlined",children:[Object(g.jsx)(Kt.a,{title:e.name,style:{backgroundColor:"aliceblue"},avatar:Object(g.jsx)(v.a,{"aria-label":"profile",children:"P"})}),Object(g.jsx)(Me.a,{children:Object(g.jsx)(Ee.a,{mx:1,my:0,boxShadow:0,children:Object(g.jsxs)(Ne.a,{container:!0,direction:"column",justifyContent:"flex-start",alignItems:"stretch",spacing:1,children:[Object(g.jsx)(Ne.a,{item:!0,xs:12}),Object(g.jsxs)(Ne.a,{item:!0,xs:12,children:[Object(g.jsx)(f.a,{variant:"body1",color:"textSecondary",component:"h2",children:"Role:"}),Object(g.jsx)(f.a,{variant:"body2",component:"h2",gutterBottom:!0,children:Object(g.jsx)("em",{children:e.role})}),Object(g.jsx)(f.a,{variant:"body1",color:"textSecondary",component:"h2",children:"Email:"}),Object(g.jsx)(f.a,{variant:"body2",component:"h2",gutterBottom:!0,children:Object(g.jsx)("em",{children:e.email})}),Object(g.jsx)(f.a,{variant:"body1",color:"textSecondary",component:"h2",children:"Joined:"}),Object(g.jsx)(f.a,{variant:"body2",component:"h2",gutterBottom:!0,children:Object(g.jsxs)("em",{children:[a.getMonth()+1," / ",a.getDate()," / ",a.getFullYear()]})})]})]})})}),Object(g.jsx)(Ue.a,{children:Object(g.jsx)(Qe.a,{title:"View Profile",children:Object(g.jsx)(C.a,{size:"small",color:"primary",variant:"contained",startIcon:Object(g.jsx)(ea.a,{}),component:M.b,to:"/profile/"+e._id,children:"View"})})})]})},t)}))})})},n.state={error:"",render:!1},n}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props.classes,t=this.state,a=t.error,n=t.render;return Object(g.jsx)("div",{children:n?Object(g.jsxs)(Ne.a,{container:!0,className:e.rootGrid,direction:"row",justifyContent:"flex-start",alignItems:"stretch",spacing:2,children:[Object(g.jsx)(Ne.a,{item:!0,xs:3,children:Object(g.jsx)(Ee.a,{mx:1,my:1,children:Object(g.jsxs)(Ne.a,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"center",spacing:2,children:[Object(g.jsx)(Ne.a,{item:!0,children:Object(g.jsx)(be.a,{color:"primary"})}),Object(g.jsx)(Ne.a,{item:!0,xs:!0,children:Object(g.jsx)(f.a,{variant:"h5",color:"secondary",align:"left",gutterBottom:!1,children:"Your Members"})})]})})}),Object(g.jsx)(Ne.a,{item:!0,xs:9,children:Object(g.jsx)(Ee.a,{mx:1,my:1})}),Object(g.jsx)(Ne.a,{item:!0,xs:12,children:Object(g.jsx)(Te.a,{raised:!0,style:{backgroundColor:"whitesmoke"},children:Object(g.jsx)(Me.a,{children:Object(g.jsx)(Ee.a,{mx:1,my:1,boxShadow:0,children:Object(g.jsx)(Ne.a,{container:!0,direction:"column",justifyContent:"flex-start",alignItems:"stretch",spacing:1,children:Object(g.jsxs)(Ne.a,{item:!0,xs:12,children:[""!==a&&Object(g.jsx)(y,{color:e.error,children:a}),this.renderCards()]})})})})})})]}):Object(g.jsx)(S.a,{})})}}]),a}(n.Component),aa=(Object(I.a)((function(e){return{userCardRoot:{flexGrow:1,marginTop:24},error:e.error}}))(ta),a(87)),na=a(367),ra=a(371),ia=a(370),ca=a(368),sa=a(369),oa=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){n.membersurveys={},n.membersurveys.library={},n.membersurveys.length=0,n.booklets={},n.booklets.library={},n.booklets.length=0,n.props.ToggleDrawerClose(),n.props.CheckAuthenticationValidity((function(e){e&&n.getMemberSurveys()}))},n.getMemberSurveys=function(){var e=n.props.appState;h("membersurveys/user/surveys/",e.token,(function(e,t){e?n.setState({error:e.message,render:!0}):200===t.status?(n.membersurveys.length=t.data.response.count,n.populateMemberSurveyData(t.data.response)):n.setState({error:"Unable to retrieve member surveys. Please refresh and try again.",render:!0})})),h("surveys/",e.token,(function(e,t){e?n.setState({error:e.message,render:!0}):200===t.status?(n.booklets.length=t.data.response.count,n.populateSurveyData(t.data.response)):n.setState({error:"Unable to retrieve surveys. Please refresh and try again.",render:!0})}))},n.populateMemberSurveyData=function(e){for(var t=0;t<e.count;t++)n.membersurveys.library[t]={_id:e.memberSurveys[t]._id,approved:e.memberSurveys[t].approved,patientId:e.memberSurveys[t].patientId,patientName:e.memberSurveys[t].patientName,name:e.memberSurveys[t].name,createdBy:e.memberSurveys[t].createdBy,modifiedBy:e.memberSurveys[t].modifiedBy,createdAt:e.memberSurveys[t].createdAt,updatedAt:e.memberSurveys[t].updatedAt};n.setState({error:"",render:!0})},n.populateSurveyData=function(e){for(var t=0;t<e.count;t++)n.booklets.library[t]={_id:e.surveys[t]._id,name:e.surveys[t].name};n.setState({error:"",render:!0})},n.createMemberSurveysRow=function(e,t,a,n,r,i,c,s,o){return{_id:e,approved:t,patientId:a,patientName:n,name:r,createdBy:i,modifiedBy:c,createdAt:s,updatedAt:o}},n.createSurveysRow=function(e,t){return{_id:e,name:t}},n.renderMemberSurveysList=function(){for(var e=[],t=n.membersurveys.length,a=0;a<t;a++)e.push(n.createMemberSurveysRow(n.membersurveys.library[a]._id,n.membersurveys.library[a].approved,n.membersurveys.library[a].patientId,n.membersurveys.library[a].patientName,n.membersurveys.library[a].name,n.membersurveys.library[a].createdBy,n.membersurveys.library[a].modifiedBy,n.membersurveys.library[a].createdAt,n.membersurveys.library[a].updatedAt));for(var r=[],i=n.booklets.length,c=0;c<i;c++)r.push(n.createSurveysRow(n.booklets.library[c]._id,n.booklets.library[c].name));var s=e.filter((function(e){var t=new Date(e.createdAt),a=new Date(n.state.date);return-1!==e.patientName.toLowerCase().indexOf(n.state.search.toLowerCase())&&-1!==e.name.toLowerCase().indexOf(n.state.booklet.toLowerCase())&&-1!==e.approved.toString().toLowerCase().indexOf(n.state.approval.toLowerCase())&&(t<=a||""===n.state.date)}));return 0===i?Object(g.jsx)(f.a,{children:"No booklets exist yet."}):0===t?Object(g.jsx)(f.a,{children:"No member surveys exist yet."}):Object(g.jsxs)("div",{children:[Object(g.jsxs)(f.a,{children:[Object(g.jsx)("label",{htmlFor:"pname",children:"Patient Name:"}),Object(g.jsx)("br",{}),Object(g.jsx)("input",{type:"text",id:"pname",name:"search",value:n.state.search,onChange:n.updateSearch.bind(Object(aa.a)(n))}),Object(g.jsx)("br",{}),Object(g.jsx)("label",{htmlFor:"bname",children:"Booklet Name:"}),Object(g.jsx)("br",{}),Object(g.jsxs)("select",{id:"bname",name:"booklet",onChange:n.updateSearch.bind(Object(aa.a)(n)),children:[Object(g.jsx)("option",{value:"",children:"All"}),r.map((function(e){return Object(g.jsx)("option",{value:e.name,children:e.name})}))]}),Object(g.jsx)("br",{}),Object(g.jsx)("label",{htmlFor:"approval",children:"Approval Status:"}),Object(g.jsx)("br",{}),Object(g.jsxs)("select",{id:"approval",name:"approval",onChange:n.updateSearch.bind(Object(aa.a)(n)),children:[Object(g.jsx)("option",{value:"",children:"All"}),Object(g.jsx)("option",{value:"false",children:"Pending Approval"}),Object(g.jsx)("option",{value:"true",children:"Approved"})]}),Object(g.jsx)("br",{}),Object(g.jsx)("label",{htmlFor:"date",children:"Created Before:"}),Object(g.jsx)("br",{}),Object(g.jsx)("input",{type:"date",id:"date",name:"date",onChange:n.updateSearch.bind(Object(aa.a)(n))})]}),Object(g.jsxs)(na.a,{children:[Object(g.jsx)(ca.a,{children:Object(g.jsxs)(sa.a,{children:[Object(g.jsx)(ia.a,{children:"Patient Name"}),Object(g.jsx)(ia.a,{align:"right",children:"Booklet Name"}),Object(g.jsx)(ia.a,{align:"right",children:"Date Started"}),Object(g.jsx)(ia.a,{align:"right",children:"Status"})]})}),Object(g.jsx)(ra.a,{children:s.map((function(e,t){var a="/profile/"+e.patientId,n="/booklet/"+e._id,r=new Date(e.createdAt),i="Pending Approval";return e.approved&&(i="Approved"),Object(g.jsxs)(sa.a,{children:[Object(g.jsx)(ia.a,{children:Object(g.jsx)(f.a,{component:M.b,to:a,children:e.patientName})},"profile"+e.patientId),Object(g.jsx)(ia.a,{children:Object(g.jsx)(f.a,{component:M.b,to:n,children:e.name})},"booklet"+e._id),Object(g.jsxs)(ia.a,{align:"right",children:[r.getMonth()+1," / ",r.getDate()," / ",r.getFullYear()]},"date"+e.createdAt),Object(g.jsx)(ia.a,{align:"right",children:i},"approval"+e._id)]},t+e.patientId)}))})]})]})},n.renderError=function(){return Object(g.jsx)(f.a,{children:n.state.error})},n.state={search:"",booklet:"",approval:"",date:"",error:"",render:!1},n}return Object(o.a)(a,[{key:"updateSearch",value:function(e){this.setState(Object(p.a)({},e.target.name,e.target.value))}},{key:"render",value:function(){var e=this.props.classes,t=this.state,a=t.error,n=t.render;return Object(g.jsx)(Te.a,{children:Object(g.jsxs)(Me.a,{children:[Object(g.jsx)(f.a,{variant:"h5",component:"h2",className:e.title,children:"Search Filter"}),n?Object(g.jsx)("div",{children:""===a?this.renderMemberSurveysList():this.renderError()}):Object(g.jsx)(S.a,{})]})})}}]),a}(n.Component),la=(Object(I.a)((function(e){return{title:e.title,buttonView:e.colorGreen,buttonEdit:e.colorBlue,buttonDelete:e.colorRed}}))(oa),function(e){var t=e.autoComplete,a=e.autoFocus,n=e.fullWidth,r=e.id,i=e.label,c=e.margin,s=e.onChange,o=e.type,l=e.value;return Object(g.jsxs)(k.a,{margin:c,required:!0,fullWidth:n,children:[Object(g.jsx)(P.a,{htmlFor:r,children:i}),Object(g.jsx)(D.a,Object(U.a)(Object(U.a)({id:r,name:r,type:o},""!==t&&{autoComplete:t}),{},{value:l,onChange:s,autoFocus:a}))]})});la.defaultProps={autoComplete:"",autoFocus:!1,fullWidth:!1,margin:"normal",type:""};var da=la,ja=a(375),ba=a(372),ua=a(373),ha=a(374),pa=a(389),Oa=a(376),ma=a(397),xa=a(236),fa=a.n(xa),ga=a(235),ya=a.n(ga),va=a(38),Ca=a.n(va),Sa=Object(I.a)((function(e){return{root:{borderBottom:"1px solid ".concat(e.palette.divider),margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}))((function(e){var t=e.children,a=e.classes,n=e.onClose;return Object(g.jsxs)(ba.a,{disableTypography:!0,className:a.root,children:[Object(g.jsx)(f.a,{variant:"h6",children:t}),n?Object(g.jsx)(ye.a,{"aria-label":"Close",className:a.closeButton,onClick:n,children:Object(g.jsx)(we.a,{})}):null]})})),wa=Object(I.a)((function(e){return{root:{margin:0,padding:e.spacing(2)}}}))(ua.a),ka=Object(I.a)((function(e){return{root:{borderTop:"1px solid ".concat(e.palette.divider),margin:0,padding:e.spacing(1)}}}))(ha.a);function Da(e){return Object(g.jsx)(f.a,{component:"div",style:{padding:8},children:e.children})}var Pa=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){var e=n.props.appState;n.user={},n.currentBooklet={};var t=n.props.match.params.profileID;n.setState({profileID:t}),t&&"Admin"!==e.role?"Coordinator"===e.role?e.patients.includes(t)||e.workers.includes(t)?n.checkAuth():n.setState({loadError:"This user is not a member nor a worker that has been assigned to you.  You do not have permission to view this page.",render:!0}):"Volunteer"===e.role&&(e.patients.includes(t)?n.checkAuth():n.setState({loadError:"This user is not a member that has been assigned to you.  You do not have permission to view this page.",render:!0})):n.checkAuth()},n.componentDidUpdate=function(){n.props.appState;var e=n.state.profileID,t=n.props.match.params.profileID;t!==e&&(n.setState({render:!1,profileID:t}),n.loadUserInformation())},n.checkAuth=function(){setTimeout((function(){n.props.ToggleDrawerClose(),n.props.CheckAuthenticationValidity((function(e){e&&n.loadUserInformation()}))}),200)},n.loadUserInformation=function(){var e=n.props.appState,t=n.props.match.params.profileID,a="";a=null==t?n.props.appState._id:t,h("users/1/"+a,e.token,(function(e,t){e?n.setState({loadError:"Unable to load profile.  Please try again later.",render:!0}):200===t.status||304===t.status?(n.user=t.data,n.setState({loadError:"Unable to load profile.  Please try again later.",render:!0})):n.setState({loadError:"Unable to load profile.  Please make sure your User ID is correct and you have proper permissions.",render:!0})}))},n.createStickyNote=function(){var e=n.props.appState,t=n.state,a=t.noteName,r=t.noteMessage,i=n.props.match.params.profileID;if(""!==a&&""!==r){var c={patientId:i,level:a,message:r,open:!0,createdBy:e._id,modifiedBy:e._id};n.setState({noteCreating:!0}),Re("stickynotes/",e.token,c,(function(e,t){e?n.setState({noteError:"There was an error creating the note, please try again later.",noteCreating:!1}):201===t.status?n.setState({noteError:"",noteCreating:!1,noteCreationDialogOpen:!1},(function(){window.location.reload()})):n.setState({noteError:"There was an error creating the note, please try again later.",noteCreating:!1})}))}else n.setState({noteError:"Please make sure a name and message are filled out."})},n.createBookletRow=function(e,t,a,n,r,i,c,s,o,l,d){return{_id:e,name:t,approved:a,approvedBy:n,approvedByName:r,dateCreated:i,createdBy:c,createdByName:s,dateLastModified:o,lastMofifiedBy:l,lastMofifiedByName:d}},n.createStickyNoteRow=function(e,t,a,n,r,i,c,s,o,l){return{_id:e,level:t,message:a,open:n,dateCreated:r,createdBy:i,createdByName:c,dateLastModified:s,lastMofifiedBy:o,lastMofifiedByName:l}},n.createUserRow=function(e,t,a,n,r){return{_id:e,email:t,role:a,name:n,createdAt:r}},n.handleTabChange=function(e,t){n.setState({tabValue:t})},n.HandleChange=function(e){n.setState(Object(p.a)({},e.target.name,e.target.value))},n.handleBookletDialogOpen=function(e){n.currentBooklet=e,n.setState({bookletDialogOpen:!0})},n.handleBookletDialogClose=function(){n.setState({bookletDialogOpen:!1})},n.handlePreviousVersionNumber=function(e){return n.user.memberSurveys.filter((function(t){return t.name===e})).length},n.handlePreviousVersionsOpen=function(e,t){n.currentBooklet=e,n.memberSurveys=t,n.setState({previousVersionDialogOpen:!0});var a=n.user.memberSurveys.filter((function(t){return t.name===e}));n.previousVersions=a},n.handlePreviousVersionsClose=function(){n.setState({previousVersionDialogOpen:!1})},n.handleNoteCreationDialogOpen=function(){n.setState({noteCreationDialogOpen:!0})},n.handleNoteCreationDialogClose=function(){n.setState({noteError:"",noteCreationDialogOpen:!1})},n.renderBookletTab=function(){var e=n.user.memberSurveys;e.sort((function(e,t){var a=e.name.toLowerCase(),n=t.name.toLowerCase();return a<n?-1:a>n?1:0}));var t=[],a=n.user.memberSurveys.length;1==a&&t.push(n.createBookletRow(e[0]._id,e[0].name,e[0].approved,e[0].approvedBy,e[0].approvedByname,e[0].createdAt,e[0].createdBy,e[0].createdByName,e[0].updatedAt,e[0].modifiedBy,e[0].modifiedByName));for(var r=1,i=0;r<a;)e[r].name===e[i].name?e[r].createdAt>e[i].createdAt?i=r++:++r:(t.push(n.createBookletRow(e[i]._id,e[i].name,e[i].approved,e[i].approvedBy,e[i].approvedByname,e[i].createdAt,e[i].createdBy,e[i].createdByName,e[i].updatedAt,e[i].modifiedBy,e[i].modifiedByName)),i=r++);return 0===a?Object(g.jsx)(f.a,{children:"There are no chapters for this user yet."}):Object(g.jsxs)(na.a,{children:[Object(g.jsx)(ca.a,{children:Object(g.jsxs)(sa.a,{children:[Object(g.jsx)(ia.a,{children:"Chapter Name"}),Object(g.jsx)(ia.a,{align:"right",children:"Date Started"}),Object(g.jsx)(ia.a,{align:"right",children:"Status"}),Object(g.jsx)(ia.a,{align:"right",children:"Previous Versions"}),Object(g.jsx)(ia.a,{align:"right",children:"Details"})]})}),Object(g.jsx)(ra.a,{children:t.map((function(t,a){var r="/booklet/"+t._id,i=new Date(t.dateCreated),c="Pending Approval";return t.approved&&(c="Approved"),Object(g.jsxs)(sa.a,{children:[Object(g.jsx)(ia.a,{children:Object(g.jsx)(f.a,{component:M.b,to:r,children:t.name})}),Object(g.jsxs)(ia.a,{align:"right",children:[i.getMonth()+1," / ",i.getDate()," / ",i.getFullYear()]}),Object(g.jsx)(ia.a,{align:"right",children:"Approved"===c?Object(g.jsx)(f.a,{style:{color:"green"},children:"Approved"}):Object(g.jsx)(f.a,{style:{color:"blue"},children:"Pending"})}),Object(g.jsx)(ia.a,{align:"right",children:Object(g.jsx)(C.a,{variant:"outlined",color:"primary",onClick:function(){return n.handlePreviousVersionsOpen(t.name,e)},endIcon:Object(g.jsx)(ya.a,{fontSize:"small"}),children:n.handlePreviousVersionNumber(t.name)})}),Object(g.jsx)(ia.a,{align:"right",children:Object(g.jsx)(ye.a,{"aria-label":"View",onClick:function(){return n.handleBookletDialogOpen(t)},children:Object(g.jsx)(fa.a,{fontSize:"small"})})})]},a)}))})]})},n.renderPreviousVersions=function(){var e=n.state.previousVersionDialogOpen;return n.previousVersions?Object(g.jsx)("div",{children:Object(g.jsx)(ja.a,{onClose:n.handlePreviousVersionsClose,"aria-labelledby":"Link-Dialog",open:e,children:Object(g.jsx)(wa,{children:Object(g.jsx)(q.a,{children:n.previousVersions.map((function(e){var t="/booklet/"+e._id;return Object(g.jsx)($.a,{children:Object(g.jsxs)(M.b,{to:t,children:[e.name," created on ",e.createdAt]})},e._id)}))})})})}):Object(g.jsx)("div",{children:Object(g.jsxs)(ja.a,{onClose:n.handlePreviousVersionsClose,"aria-labelledby":"Delete-Dialog",open:e,children:[Object(g.jsx)(Sa,{id:"Delete-Dialog",onClose:n.handlePreviousVersionsClose,children:n.currentBooklet.name}),Object(g.jsx)(wa,{children:Object(g.jsx)(q.a,{})})]})})},n.renderStickyNotesTab=function(){for(var e=n.props.classes,t=n.user.stickyNotes,a=[],r=t.length,i=0;i<r;i++)a.push(n.createStickyNoteRow(t[i]._id,t[i].level,t[i].message,t[i].open,t[i].createdAt,t[i].createdBy._id,t[i].createdBy.info.name,t[i].updatedAt,t[i].modifiedBy._id,t[i].modifiedBy.info.name));return 0===r?Object(g.jsxs)("div",{className:e.root,children:[Object(g.jsx)(f.a,{children:"There are no sticky notes attatched to this user yet."}),Object(g.jsx)("div",{className:e.alignLeftSpacer,children:Object(g.jsx)(Qe.a,{title:"Create Sticky Note",children:Object(g.jsx)(C.a,{size:"small",color:"primary",variant:"contained",startIcon:Object(g.jsx)(Ca.a,{}),onClick:n.handleNoteCreationDialogOpen,children:"Sticky Note"})})})]}):Object(g.jsxs)("div",{children:[Object(g.jsxs)(na.a,{children:[Object(g.jsx)(ca.a,{children:Object(g.jsxs)(sa.a,{children:[Object(g.jsx)(ia.a,{children:"Type"}),Object(g.jsx)(ia.a,{align:"right",children:"Message"}),Object(g.jsx)(ia.a,{align:"right",children:"Date Created"}),Object(g.jsx)(ia.a,{align:"right",children:"Created By"})]})}),Object(g.jsx)(ra.a,{children:a.map((function(e,t){var a=new Date(e.dateCreated);e.createdBy;return Object(g.jsxs)(sa.a,{children:[Object(g.jsxs)(ia.a,{children:["Info"===e.level?Object(g.jsx)(ot.a,{severity:"info",children:"Info Status"}):null,"Warning"===e.level?Object(g.jsx)(ot.a,{severity:"warning",children:"Warning Status"}):null,"Danger"===e.level?Object(g.jsx)(ot.a,{severity:"error",children:"Danger Status"}):null]}),Object(g.jsx)(ia.a,{align:"right",children:Object(g.jsx)(f.a,{children:e.message})}),Object(g.jsxs)(ia.a,{align:"right",children:[a.getMonth()+1," / ",a.getDate()," / ",a.getFullYear()]}),Object(g.jsx)(ia.a,{align:"right",children:Object(g.jsx)(f.a,{children:Object(g.jsx)("em",{children:e.createdByName})})})]},t)}))})]}),Object(g.jsx)("br",{}),Object(g.jsx)("div",{className:e.root,children:Object(g.jsx)("div",{className:e.alignLeftSpacer,children:Object(g.jsx)(Qe.a,{title:"Create Sticky Note",children:Object(g.jsx)(C.a,{size:"small",color:"primary",variant:"contained",startIcon:Object(g.jsx)(Ca.a,{}),onClick:n.handleNoteCreationDialogOpen,children:"Sticky Note"})})})})]})},n.renderUserTab=function(e){for(var t=n.props.classes,a=[],r=e.length,i=0;i<r;i++)a.push(n.createUserRow(e[i]._id,e[i].email,e[i].role,e[i].info.name,e[i].createdAt));return 0===r?Object(g.jsx)("div",{className:t.root,children:Object(g.jsx)(f.a,{children:"There are no patients assigned to this user."})}):Object(g.jsxs)(na.a,{children:[Object(g.jsx)(ca.a,{children:Object(g.jsxs)(sa.a,{children:[Object(g.jsx)(ia.a,{children:"Name"}),Object(g.jsx)(ia.a,{align:"right",children:"Email"}),Object(g.jsx)(ia.a,{align:"right",children:"Date Joined"})]})}),Object(g.jsx)(ra.a,{children:a.map((function(e,t){var a=new Date(e.createdAt),n="/profile/"+e._id;return Object(g.jsxs)(sa.a,{children:[Object(g.jsx)(ia.a,{children:Object(g.jsx)(f.a,{children:Object(g.jsx)("a",{href:n,children:e.name})})}),Object(g.jsx)(ia.a,{align:"right",children:Object(g.jsx)(f.a,{children:e.email})}),Object(g.jsxs)(ia.a,{align:"right",children:[a.getMonth()+1," / ",a.getDate()," / ",a.getFullYear()]})]},t)}))})]})},n.renderInfoTab=function(){var e=n.user;return Object(g.jsx)(Ee.a,{my:3,children:Object(g.jsxs)(Ne.a,{spacing:3,container:!0,children:[Object(g.jsx)(Ne.a,{item:!0,xs:6,children:Object(g.jsx)(ma.a,{id:"email",variant:"outlined",fullWidth:!0,label:"Email",value:e.user.email,readOnly:!0})}),Object(g.jsx)(Ne.a,{item:!0,xs:6,children:Object(g.jsx)(ma.a,{id:"Name",variant:"outlined",fullWidth:!0,label:"Name",value:e.user.info.name,readOnly:!0})}),Object(g.jsx)(Ne.a,{item:!0,xs:6,children:Object(g.jsx)(ma.a,{id:"Phone",variant:"outlined",fullWidth:!0,label:"Phone",value:e.user.info.phone,readOnly:!0})}),Object(g.jsx)(Ne.a,{item:!0,xs:12,children:Object(g.jsx)(ma.a,{id:"Address",variant:"outlined",fullWidth:!0,label:"Address",value:e.user.info.currentAddress.street,readOnly:!0})}),Object(g.jsx)(Ne.a,{item:!0,xs:6,children:Object(g.jsx)(ma.a,{id:"City",variant:"outlined",fullWidth:!0,label:"City",value:e.user.info.currentAddress.city,readOnly:!0})}),Object(g.jsx)(Ne.a,{item:!0,xs:6,children:Object(g.jsx)(ma.a,{id:"State",variant:"outlined",fullWidth:!0,label:"State",value:e.user.info.currentAddress.state,readOnly:!0})}),Object(g.jsx)(Ne.a,{item:!0,xs:6,children:Object(g.jsx)(ma.a,{id:"Zip",variant:"outlined",fullWidth:!0,label:"Zip/Postal Code",value:e.user.info.currentAddress.code,readOnly:!0})}),Object(g.jsx)(Ne.a,{item:!0,xs:6,children:Object(g.jsx)(ma.a,{id:"Country",variant:"outlined",fullWidth:!0,label:"Country",value:e.user.info.currentAddress.country,readOnly:!0})})]})})},n.renderBookletDialog=function(){var e=n.state.bookletDialogOpen,t=n.user.user.name;return Object(g.jsx)("div",{children:Object(g.jsxs)(ja.a,{onClose:n.handleBookletDialogClose,"aria-labelledby":"Delete-Dialog",open:e,children:[Object(g.jsx)(Sa,{id:"Delete-Dialog",onClose:n.handleBookletDialogClose,children:n.currentBooklet.name}),Object(g.jsxs)(wa,{children:[Object(g.jsxs)(f.a,{gutterBottom:!0,children:["Here is all the important information for the ",n.currentBooklet.name," for ",t,":"]}),Object(g.jsx)("br",{}),Object(g.jsxs)(f.a,{gutterBottom:!0,children:["Chapter Started: ",n.currentBooklet.dateCreated]}),Object(g.jsxs)(f.a,{gutterBottom:!0,children:["Started By: ",n.currentBooklet.createdByName]}),Object(g.jsxs)(f.a,{gutterBottom:!0,children:["Chapter Last Modified: ",n.currentBooklet.dateLastModified]}),Object(g.jsxs)(f.a,{gutterBottom:!0,children:["Last Modified By: ",n.currentBooklet.lastMofifiedByName]}),Object(g.jsx)("br",{}),n.currentBooklet.approved?Object(g.jsxs)(f.a,{gutterBottom:!0,children:["This Chapter has been approved by ",n.currentBooklet.approvedByName,"."]}):Object(g.jsx)(f.a,{gutterBottom:!0,children:"This Chapter has not been approved yet."})]}),Object(g.jsx)(ka,{children:Object(g.jsx)(C.a,{color:"primary",onClick:n.handleBookletDialogClose,children:"Close"})})]})})},n.renderNoteCreationDialog=function(){var e=n.props.classes,t=n.state,a=t.noteCreationDialogOpen,r=t.noteName,i=t.noteMessage,c=t.noteError,s=t.noteCreating;return Object(g.jsx)("div",{children:Object(g.jsxs)(ja.a,{onClose:n.handleNoteCreationDialogClose,"aria-labelledby":"Creation-Dialog",open:a,children:[Object(g.jsx)(Sa,{id:"Creation-Dialog",onClose:n.handleNoteCreationDialogClose,children:"Create a new Sticky Note"}),Object(g.jsxs)(wa,{children:[Object(g.jsx)(f.a,{gutterBottom:!0,children:"Please provide a name for this sticky note as well as a message.  This note will be visible to all users who have access to this member."}),Object(g.jsxs)("form",{className:e.root,children:[Object(g.jsxs)(k.a,{margin:"normal",required:!0,fullWidth:!0,children:[Object(g.jsx)(P.a,{htmlFor:"noteName",children:"Priority"}),Object(g.jsxs)(Ve.a,{value:r,onChange:n.HandleChange,inputProps:{name:"noteName",id:"noteName"},children:[Object(g.jsx)(ge.a,{value:"",children:Object(g.jsx)("em",{children:"Select Message Importance"})}),Object(g.jsx)(ge.a,{value:"Info",children:"Info"}),Object(g.jsx)(ge.a,{value:"Warning",children:"Warning"}),Object(g.jsx)(ge.a,{value:"Danger",children:"Danger"})]})]}),Object(g.jsxs)(k.a,{margin:"normal",required:!0,fullWidth:!0,children:[Object(g.jsx)(P.a,{htmlFor:"noteMessage",children:"Message"}),Object(g.jsx)(D.a,{id:"noteMessage",name:"noteMessage",value:i,onChange:n.HandleChange})]})]}),""!==c&&Object(g.jsx)(f.a,{gutterBottom:!0,className:e.error,children:c})]}),Object(g.jsxs)(ka,{children:[Object(g.jsx)(C.a,{color:"secondary",onClick:n.createStickyNote,disabled:s,children:"Create Note"}),Object(g.jsx)(C.a,{color:"primary",onClick:n.handleNoteCreationDialogClose,children:"Close"})]})]})})},n.state={profileID:"",loadError:"",tabValue:0,bookletDialogOpen:!1,previousVersionDialogOpen:!1,noteCreationDialogOpen:!1,noteName:"",noteMessage:"",noteError:"",noteCreating:!1,render:!1},n}return Object(o.a)(a,[{key:"render",value:function(){var e=this.state.profileID,t=this.props.classes,a=this.state,n=a.render,r=a.tabValue;if(n){var i=this.user.user,c=i.createdAt,s=i.info,o=i.patients,l=i.role,d=i.workers,j=new Date(c);return Object(g.jsxs)(Ne.a,{container:!0,className:t.rootGrid,direction:"row",justifyContent:"flex-start",alignItems:"stretch",spacing:2,children:[Object(g.jsx)(Ne.a,{item:!0,xs:3,children:Object(g.jsx)(Ee.a,{mx:1,my:1,children:Object(g.jsxs)(Ne.a,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"center",spacing:2,children:[Object(g.jsx)(Ne.a,{item:!0,children:Object(g.jsx)(de.a,{color:"primary"})}),Object(g.jsx)(Ne.a,{item:!0,xs:!0,children:Object(g.jsx)(f.a,{variant:"h5",color:"secondary",align:"left",gutterBottom:!1,children:null==e?"Your Profile":"Viewing Profile"})}),null==e?null:Object(g.jsx)(Ne.a,{item:!0,xs:12,children:Object(g.jsx)(C.a,{color:"default",startIcon:Object(g.jsx)(et.a,{}),component:M.b,to:"/your/",children:"Your Members"})})]})})}),Object(g.jsx)(Ne.a,{item:!0,xs:9,children:Object(g.jsx)(Ee.a,{mx:1,my:1})}),Object(g.jsx)(Ne.a,{item:!0,xs:12,children:Object(g.jsxs)(Te.a,{raised:!0,children:[Object(g.jsx)(Kt.a,{title:s.name,style:{backgroundColor:"aliceblue"},avatar:Object(g.jsx)(v.a,{"aria-label":"profile",children:"P"})}),Object(g.jsx)(Me.a,{children:Object(g.jsx)(Ee.a,{mx:1,my:1,boxShadow:0,children:Object(g.jsxs)(Ne.a,{container:!0,direction:"column",justifyContent:"flex-start",alignItems:"stretch",spacing:1,children:[Object(g.jsxs)(Ne.a,{item:!0,xs:12,children:[Object(g.jsx)(f.a,{variant:"body1",color:"textSecondary",component:"h2",children:"Role:"}),Object(g.jsx)(f.a,{variant:"body2",component:"h2",gutterBottom:!0,children:Object(g.jsx)("em",{children:l})}),Object(g.jsx)(f.a,{variant:"body1",color:"textSecondary",component:"h2",children:"Joined:"}),Object(g.jsx)(f.a,{variant:"body2",component:"h2",gutterBottom:!0,children:Object(g.jsxs)("em",{children:[j.getMonth()+1," / ",j.getDate()," / ",j.getFullYear()]})})]}),Object(g.jsxs)(Ne.a,{item:!0,xs:12,children:["Patient"===l&&Object(g.jsxs)("div",{className:t.tabRoot,children:[Object(g.jsx)(me.a,{position:"static",children:Object(g.jsxs)(pa.a,{value:r,onChange:this.handleTabChange,children:[Object(g.jsx)(Oa.a,{label:"Chapters"}),Object(g.jsx)(Oa.a,{label:"Sticky Notes"}),Object(g.jsx)(Oa.a,{label:"Profile"})]})}),0===r&&Object(g.jsx)(Da,{children:this.renderBookletTab()}),1===r&&Object(g.jsx)(Da,{children:this.renderStickyNotesTab()}),2===r&&Object(g.jsx)(Da,{children:this.renderInfoTab()})]}),"Worker"===l&&Object(g.jsxs)("div",{className:t.tabRoot,children:[Object(g.jsx)(me.a,{position:"static",children:Object(g.jsxs)(pa.a,{value:r,onChange:this.handleTabChange,children:[Object(g.jsx)(Oa.a,{label:"Patients"}),Object(g.jsx)(Oa.a,{label:"Profile"})]})}),0===r&&Object(g.jsx)(Da,{children:this.renderUserTab(o)}),1===r&&Object(g.jsx)(Da,{children:this.renderInfoTab()})]}),"Coordinator"===l&&Object(g.jsxs)("div",{className:t.tabRoot,children:[Object(g.jsx)(me.a,{position:"static",children:Object(g.jsxs)(pa.a,{value:r,onChange:this.handleTabChange,children:[Object(g.jsx)(Oa.a,{label:"Patients"}),Object(g.jsx)(Oa.a,{label:"Workers"}),Object(g.jsx)(Oa.a,{label:"Profile"})]})}),0===r&&Object(g.jsx)(Da,{children:this.renderUserTab(o)}),1===r&&Object(g.jsx)(Da,{children:this.renderUserTab(d)}),2===r&&Object(g.jsx)(Da,{children:this.renderInfoTab()})]}),"Admin"===l&&Object(g.jsxs)("div",{className:t.tabRoot,children:[Object(g.jsx)(me.a,{position:"static",children:Object(g.jsxs)(pa.a,{value:r,onChange:this.handleTabChange,children:[Object(g.jsx)(Oa.a,{label:"Patients"}),Object(g.jsx)(Oa.a,{label:"Workers"}),Object(g.jsx)(Oa.a,{label:"Profile"})]})}),0===r&&Object(g.jsx)(Da,{children:this.renderUserTab(o)}),1===r&&Object(g.jsx)(Da,{children:this.renderUserTab(d)}),2===r&&Object(g.jsx)(Da,{children:this.renderInfoTab()})]}),this.renderBookletDialog(),this.renderPreviousVersions(),this.renderNoteCreationDialog()]})]})})})]})})]},j)}return Object(g.jsx)(S.a,{})}}]),a}(n.Component),_a=(Object(I.a)((function(e){return{title:e.title,error:e.error,root:e.flexWrap,tabRoot:{flexGrow:1,backgroundColor:e.palette.background.paper},alignLeftSpacer:e.alignLeftSpacer,rightIcon:{marginLeft:e.spacing(1)},margin:{margin:10}}}))(Pa),function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){n.users={},n.users.library={},n.users.length=0,n.props.ToggleDrawerClose(),n.props.CheckAuthenticationValidity((function(e){e&&n.getUsers()}))},n.getUsers=function(){var e=n.props.appState;h("users/",e.token,(function(e,t){e?n.setState({error:e.message,render:!0}):200===t.status||304===t.status?(n.users.length=t.data.response.count,n.populateStateData(t.data.response)):n.setState({error:"Unable to retrieve users.  Please refresh and try agian.",render:!0})}))},n.populateStateData=function(e){for(var t=0;t<e.count;t++)n.users.library[t]={_id:e.users[t]._id,enabled:e.users[t].enabled,name:e.users[t].info.name,role:e.users[t].role,email:e.users[t].email,createdAt:e.users[t].createdAt};n.setState({error:"",render:!0})},n.createUserCard=function(e,t,a,n,r,i){return{_id:e,enabled:t,name:a,role:n,email:r,createdAt:i}},n.renderCards=function(){for(var e=n.props.classes,t=[],a=0;a<n.users.length;a++)t.push(n.createUserCard(n.users.library[a]._id,n.users.library[a].enabled,n.users.library[a].name,n.users.library[a].role,n.users.library[a].email,n.users.library[a].createdAt));return 0===n.users.length?Object(g.jsx)(f.a,{children:"There are no Users yet! Not sure how this is possible ..."}):Object(g.jsx)("div",{className:e.userCardRoot,children:Object(g.jsx)(Ne.a,{container:!0,spacing:10,children:t.map((function(e,t){var a=new Date(e.createdAt);return Object(g.jsx)(Ne.a,{item:!0,xs:12,sm:12,md:6,lg:6,xl:4,children:Object(g.jsx)(_.a,{children:Object(g.jsx)(Te.a,{children:Object(g.jsxs)(Me.a,{children:[Object(g.jsx)(f.a,{gutterBottom:!0,variant:"h5",component:"h2",children:e.name}),Object(g.jsxs)(f.a,{component:"p",children:["Role: ",e.role]}),Object(g.jsxs)(f.a,{component:"p",children:["Email: ",e.email]}),Object(g.jsxs)(f.a,{component:"p",children:["Status: ",e.enabled?"Enabled":"Disabled"]}),Object(g.jsxs)(f.a,{component:"p",children:["Joined: ",a.getMonth()+1," / ",a.getDate()," / ",a.getFullYear()]}),Object(g.jsx)("hr",{}),Object(g.jsxs)(Ne.a,{container:!0,spacing:10,children:[Object(g.jsx)(Ne.a,{item:!0,xs:4,children:Object(g.jsx)(C.a,{size:"small",variant:"contained",fullWidth:!0,color:"primary",component:M.b,to:"/profile/"+e._id,children:"View Profile"})}),Object(g.jsx)(Ne.a,{item:!0,xs:4,children:Object(g.jsx)(C.a,{size:"small",variant:"contained",fullWidth:!0,color:"primary",component:M.b,to:"/administration/users/edit/"+e._id,children:"Edit Profile"})})]}),Object(g.jsxs)(Ne.a,{container:!0,spacing:10,children:["Patient"===e.role&&Object(g.jsx)(Ne.a,{item:!0,xs:4,children:Object(g.jsx)(C.a,{size:"small",variant:"contained",fullWidth:!0,color:"secondary",component:M.b,disabled:"Patient"!==e.role,to:"/administration/users/research/"+e._id,children:"Research"})}),Object(g.jsx)(Ne.a,{item:!0,xs:4,children:Object(g.jsx)(C.a,{size:"small",variant:"contained",fullWidth:!0,color:"secondary",component:M.b,to:"/administration/users/ed/"+e._id,children:e.enabled?"Disable":"Enable"})})]})]})})})},t)}))})})},n.state={error:"",render:!1},n}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props.classes,t=this.state,a=t.error,n=t.render;return Object(g.jsx)("div",{children:n?Object(g.jsx)("div",{children:Object(g.jsx)(Te.a,{children:Object(g.jsxs)(Me.a,{children:[Object(g.jsx)(f.a,{variant:"h5",component:"h2",className:e.title,children:"User Management"}),""!==a&&Object(g.jsx)(y,{color:e.error,children:a}),this.renderCards()]})})}):Object(g.jsx)(S.a,{})})}}]),a}(n.Component)),Ia=(Object(I.a)((function(e){return{userCardRoot:{flexGrow:1,marginTop:24},error:e.error}}))(_a),a(399)),Aa=a(391),Ba=Object(st.a)((function(e){return{visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1}}})),La=[{id:"name",numeric:!1,disablePadding:!0,label:"Name"},{id:"sequenceId",numeric:!1,disablePadding:!1,label:"Sequence ID"},{id:"enabled",numeric:!1,disablePadding:!0,label:"Enabled"},{id:"email",numeric:!1,disablePadding:!0,label:"Email"},{id:"role",numeric:!1,disablePadding:!0,label:"Role"}],Na=function(e){var t=Ba(),a=e.onSelectAllClick,r=e.order,i=e.orderBy,c=e.numSelected,s=e.rowCount,o=e.onRequestSort,l=Object(n.useState)(La),d=Object(rt.a)(l,2),j=d[0],b=(d[1],Object(n.useCallback)((function(e){return function(t){o(t,e)}}),[o]));return Object(g.jsx)(ca.a,{children:Object(g.jsxs)(sa.a,{children:[Object(g.jsx)(ia.a,{padding:"checkbox",children:Object(g.jsx)(Aa.a,{indeterminate:c>0&&c<s,checked:s>0&&c===s,onChange:a,inputProps:{"aria-label":"select all"}})}),j?j.map((function(e){return Object(g.jsx)(ia.a,{align:e.numeric?"right":"left",padding:e.disablePadding?"none":"normal",sortDirection:i===e.id&&r,children:Object(g.jsxs)(Ia.a,{active:i===e.id,direction:i===e.id?r:"asc",onClick:b(e.id),children:[e.label,i===e.id?Object(g.jsx)("span",{className:t.visuallyHidden,children:"desc"===r?"sorted descending":"sorted ascending"}):null]})},e.id)})):null]})})};Na.defaultProps={numSelected:{},onRequestSort:function(){},onSelectAllClick:function(){},order:{},orderBy:{},rowCount:{}};var Ea=Na,Ta=a(5),Ua=a(30),Ma=a(51),Fa=a.n(Ma),Wa=a(108),za=a.n(Wa),Ra=Object(st.a)((function(e){return{root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1)},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(Ua.d)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},title:{flex:"1 1 100%"}}})),Va=function(e){var t=Ra(),a=e.appState,r=e.selectedDataItemsList,i=e.setParentDeleteUserDialog,c=Object(n.useState)(""),s=Object(rt.a)(c,2),o=s[0],l=s[1],d=Object(n.useState)(!1),j=Object(rt.a)(d,2),b=j[0],u=j[1],h=Object(n.useState)(!1),O=Object(rt.a)(h,2),m=O[0],x=O[1],y=Object(n.useState)(!1),v=Object(rt.a)(y,2),C=v[0],S=v[1],w=Object(n.useCallback)((function(){0===r.length?(u(!0),x(!1),S(!1)):1===r.length?(u(!1),x(!0),S(!1)):r.length>1&&(u(!1),x(!1),S(!0))}),[r,u,x,S]),k=Object(n.useCallback)((function(){i(!0)}),[i]);return Object(n.useEffect)((function(){w()}),[r,w]),Object(n.useEffect)((function(){b||C?l(""):m&&("Admin"===a.role?l("/administration/users/view/"+r[0]._id):"Coordinator"!==a.role&&"Volunteer"!==a.role||l("/staff/users/view/"+r[0]._id))}),[b,m,C]),Object(g.jsxs)(xe.a,{className:Object(Ta.a)(t.root,Object(p.a)({},t.highlight,r.length>0)),children:[r.length>0?Object(g.jsxs)(f.a,{className:t.title,color:"inherit",variant:"subtitle1",component:"div",children:[r.length," Selected Item",r.length>1?"s":null]}):Object(g.jsx)(f.a,{className:t.title,variant:"h6",component:"div",children:"User Results"}),b?Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(Qe.a,{title:"Filter list",children:Object(g.jsx)(ye.a,{"aria-label":"filter list",children:Object(g.jsx)(za.a,{})})})}):null,m?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(Qe.a,{title:"View",children:Object(g.jsx)(ye.a,{"aria-label":"view",component:M.b,to:o,children:Object(g.jsx)(ea.a,{})})}),Object(g.jsx)(Qe.a,{title:"Delete",children:Object(g.jsx)(ye.a,{"aria-label":"delete",onClick:function(){return k()},children:Object(g.jsx)(Fa.a,{})})})]}):null,C?Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(Qe.a,{title:"Delete",children:Object(g.jsx)(ye.a,{"aria-label":"delete",onClick:function(){return k()},children:Object(g.jsx)(Fa.a,{})})})}):null]})};Va.defaultProps={appState:{},selectedDataItemsList:{},setParentDeleteUserDialog:function(){}};var Qa=Va,Ha=a(377),Ja=a(400),Ya=function(e,t,a){return t[a]<e[a]?-1:t[a]>e[a]?1:0},Ga=function(e,t){return"desc"===e?function(e,a){return Ya(e,a,t)}:function(e,a){return-Ya(e,a,t)}},qa=function(e,t){var a=e.map((function(e,t){return[e,t]}));return a.sort((function(e,a){var n=t(e[0],a[0]);return 0!==n?n:e[1]-a[1]})),a.map((function(e){return e[0]}))},$a=Object(st.a)((function(e){return{root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1)},tableRow:{cursor:"pointer"}}}));function Za(e){var t=$a(),a=e.appState,r=e.isDense,i=e.searchFilteredDataList,c=e.setParentDeleteUserDialog,s=(e.setParentExportChapterDialog,e.selectedDataItemsList),o=e.setSelectedDataItemsList,l=Object(n.useState)("asc"),d=Object(rt.a)(l,2),j=d[0],b=d[1],u=Object(n.useState)("name"),h=Object(rt.a)(u,2),p=h[0],O=h[1],m=Object(n.useState)(0),x=Object(rt.a)(m,2),y=x[0],v=x[1],C=Object(n.useState)(20),S=Object(rt.a)(C,2),w=S[0],k=S[1],D=w-Math.min(w,i.length-y*w),P=Object(n.useCallback)((function(e,t){b(p===t&&"asc"===j?"desc":"asc"),O(t)}),[j,b,p,O]),I=Object(n.useCallback)((function(e){if(e.target.checked){var t=[];return i.forEach((function(e){t.push(e)})),void o(t)}o([])}),[i,o]),A=Object(n.useCallback)((function(e,t){var a=s.map((function(e){return e._id})).indexOf(t._id),n=[];-1===a?n=n.concat(s,t):0===a?n=n.concat(s.slice(1)):a===s.length-1?n=n.concat(s.slice(0,-1)):a>0&&(n=n.concat(s.slice(0,a),s.slice(a+1))),o(n)}),[s,o]),B=Object(n.useCallback)((function(e){return-1!==s.map((function(e){return e._id})).indexOf(e._id)}),[s]),L=Object(n.useCallback)((function(e){v(e)}),[v]),N=Object(n.useCallback)((function(e){k(parseInt(e.target.value,10)),v(0)}),[k,v]);return Object(n.useEffect)((function(){v(0)}),[i]),Object(g.jsx)("div",{className:t.root,children:Object(g.jsx)(Ee.a,{mx:1,my:1,children:Object(g.jsxs)(_.a,{className:t.paper,children:[Object(g.jsx)(Qa,{appState:a,selectedDataItemsList:s,setParentDeleteUserDialog:c}),Object(g.jsx)(Ha.a,{children:Object(g.jsxs)(na.a,{className:t.table,"aria-labelledby":"tableTitle",size:r?"small":"medium","aria-label":"enhanced table",children:[Object(g.jsx)(Ea,{numSelected:s.length,order:j,orderBy:p,onSelectAllClick:I,onRequestSort:P,rowCount:i.length}),Object(g.jsxs)(ra.a,{children:[qa(i,Ga(j,p)).slice(y*w,y*w+w).map((function(e,a){var n=B(e),r="enhanced-table-checkbox-".concat(a);return Object(g.jsxs)(sa.a,{className:t.tableRow,hover:!0,onClick:function(t){return A(t,e)},role:"checkbox","aria-checked":n,tabIndex:-1,selected:n,children:[Object(g.jsx)(ia.a,{padding:"checkbox",children:Object(g.jsx)(Aa.a,{checked:n,inputProps:{"aria-labelledby":r}})}),Object(g.jsx)(ia.a,{component:"th",id:r,scope:"row",padding:"none",children:Object(g.jsx)(f.a,{color:"textPrimary",variant:"subtitle2",style:{display:"inline-block"},children:e.info.name})}),Object(g.jsx)(ia.a,{align:"left",children:Object(g.jsx)(f.a,{color:"primary",variant:"body2",style:{display:"inline-block"},children:e.sequenceId})}),Object(g.jsx)(ia.a,{align:"left",padding:"none",children:Object(g.jsx)(f.a,{color:"primary",variant:"body2",style:{display:"inline-block",color:e.enabled?"green":"red"},children:e.enabled?"true":"false"})}),Object(g.jsx)(ia.a,{align:"left",padding:"none",children:Object(g.jsx)(f.a,{color:"textPrimary",variant:"body2",style:{display:"inline-block"},children:e.email})}),Object(g.jsx)(ia.a,{align:"left",padding:"none",children:Object(g.jsx)(f.a,{color:"textPrimary",variant:"body2",style:{display:"inline-block"},children:e.role})})]},e.name+e._id)})),D>0&&Object(g.jsx)(sa.a,{style:{height:(r?33:53)*D},children:Object(g.jsx)(ia.a,{colSpan:6})})]})]})}),i.length>0?Object(g.jsx)(Ja.a,{rowsPerPageOptions:[5,10,15,20,25],component:"div",count:i.length,rowsPerPage:w,page:i.length<=w?0:y,onPageChange:function(e,t){L(t)},onRowsPerPageChange:N}):null]})})})}Za.defaultProps={appState:{},searchFilteredDataList:{},setParentDeleteUserDialog:function(){},selectedDataItemsList:{},setSelectedDataItemsList:function(){}};var Ka=a(378),Xa=a(379),en=a(35),tn=a.n(en),an=a(37),nn=a.n(an),rn=a(44),cn=a.n(rn),sn=a(85),on=a.n(sn),ln=Object(st.a)((function(e){return{root:{flexGrow:1,height:"100%"},rootGrid:{height:"100%"}}})),dn=[{key:"Name",value:"name",display:"Name"},{key:"SequenceId",value:"sequenceId",display:"Sequence ID"},{key:"Email",value:"email",display:"Email"},{key:"Role",value:"role",display:"Role"}],jn=function(e){ln();var t=e.mode,a=e.setParentAlert,r=e.isDense,i=e.setIsDense,c=e.dataList,s=e.getParentData,o=e.setSearchFilteredDataList,l=e.setCreateUserDialog,d=e.setAssignUserDialog,j=Object(n.useState)(dn[0].value),b=Object(rt.a)(j,2),u=b[0],h=b[1],p=Object(n.useState)(""),O=Object(rt.a)(p,2),m=O[0],x=O[1],y=Object(n.useCallback)((function(){try{s(),a(new ct("Refreshed initiated...","info"))}catch(e){}}),[s,a]),v=Object(n.useCallback)((function(){l(!0)}),[l]),S=Object(n.useCallback)((function(){d(!0)}),[d]),w=Object(n.useCallback)((function(e){i(e.target.checked)}),[i]),D=Object(n.useCallback)((function(e){x(""),h(e.target.value)}),[h]),_=Object(n.useCallback)((function(e){var t=e.target.value.toUpperCase(),a=[];c.forEach((function(e){switch(u){case"name":e.info.name.toUpperCase().indexOf(t)>-1&&a.push(e);break;case"sequenceId":String(e.sequenceId).indexOf(t)>-1&&a.push(e);break;case"email":e.email.toUpperCase().indexOf(t)>-1&&a.push(e);break;case"role":e.role.toUpperCase().indexOf(t)>-1&&a.push(e)}})),x(e.target.value),o(a)}),[c,o,u]);return Object(n.useEffect)((function(){x("")}),[c]),Object(n.useEffect)((function(){""===m&&o(c)}),[h,m]),Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(Ee.a,{mx:2,my:1,boxShadow:0,children:Object(g.jsxs)(Ne.a,{container:!0,direction:"column",justifyContent:"flex-start",alignItems:"stretch",spacing:1,children:[Object(g.jsxs)(Ne.a,{item:!0,xs:12,container:!0,direction:"row",justifyContent:"space-between",alignItems:"stretch",spacing:1,children:[Object(g.jsxs)(Ne.a,{item:!0,children:[Object(g.jsx)(f.a,{variant:"h6",component:"h6",children:"Manage"}),Object(g.jsx)(R.a,{})]}),Object(g.jsx)(Ne.a,{item:!0,xs:!0,children:Object(g.jsx)(Ee.a,{mx:3,my:1,boxShadow:0,children:Object(g.jsxs)(Ne.a,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"center",spacing:1,children:[Object(g.jsx)(Ne.a,{item:!0,children:Object(g.jsx)(Qe.a,{placement:"bottom",title:"Refresh Online Users",children:Object(g.jsx)(C.a,{size:"small",variant:"contained",color:"primary",startIcon:Object(g.jsx)(cn.a,{}),onClick:function(){y()},children:"Refresh"})})}),Object(g.jsx)(Ne.a,{item:!0,children:"Other"===t?Object(g.jsx)(g.Fragment,{}):Object(g.jsx)(Qe.a,{placement:"bottom",title:"Create User",children:Object(g.jsx)(C.a,{size:"small",variant:"contained",color:"primary",startIcon:Object(g.jsx)(nn.a,{}),onClick:function(){v()},children:"Create a User"})})}),Object(g.jsx)(Ne.a,{item:!0,children:Object(g.jsx)(Qe.a,{placement:"bottom",title:"Assign User",children:Object(g.jsx)(C.a,{size:"small",variant:"contained",color:"secondary",startIcon:Object(g.jsx)(on.a,{}),onClick:function(){S()},children:"Assign User"})})})]})})}),Object(g.jsx)(Ne.a,{item:!0,children:Object(g.jsx)(Qe.a,{placement:"left",title:"Use this page to manage users in the system.",children:Object(g.jsx)(ye.a,{children:Object(g.jsx)(tn.a,{})})})})]}),Object(g.jsx)(Ne.a,{item:!0,xs:12,container:!0,direction:"column",justifyContent:"flex-start",alignItems:"stretch",spacing:1,children:Object(g.jsx)(Ee.a,{mx:1,my:1,boxShadow:0,children:Object(g.jsx)(Te.a,{children:Object(g.jsx)(Ee.a,{mx:1,my:1,boxShadow:0,children:Object(g.jsxs)(Ne.a,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"center",spacing:3,children:[Object(g.jsx)(Ne.a,{item:!0,children:Object(g.jsx)(f.a,{color:"textPrimary",variant:"subtitle2",children:"Table Options"})}),Object(g.jsx)(Ne.a,{item:!0,children:Object(g.jsx)(Ka.a,{control:Object(g.jsx)(Xa.a,{checked:r,onChange:function(e){w(e)}}),label:"Compact",labelPlacement:"end"})}),Object(g.jsx)(Ne.a,{item:!0,children:Object(g.jsxs)(k.a,{id:"search-filter-select-label",variant:"filled",size:"small",style:{minWidth:140},disabled:!c,children:[Object(g.jsx)(P.a,{children:"Search Filter"}),Object(g.jsx)(Ve.a,{autoWidth:!0,labelId:"search-filter-select-label",value:u,onChange:function(e){D(e)},children:dn.map((function(e){return Object(g.jsx)(ge.a,{value:e.value,children:Object(g.jsx)("em",{children:e.display})},e.key)}))})]})}),Object(g.jsx)(Ne.a,{item:!0,xs:!0,children:Object(g.jsx)(ma.a,{label:"Search",type:"search",size:"small",variant:"filled",fullWidth:!0,value:m,onChange:function(e){_(e)},disabled:!c})})]})})})})}),Object(g.jsx)(Ne.a,{item:!0,xs:12,container:!0,direction:"row",justifyContent:"flex-start",alignItems:"flex-start",spacing:1,children:Object(g.jsxs)(Ne.a,{item:!0,children:[Object(g.jsx)(f.a,{variant:"h6",component:"h6",children:"Table"}),Object(g.jsx)(R.a,{})]})})]})})})};jn.defaultProps={mode:null,setParentAlert:function(){},setIsDense:function(){},dataList:{},getParentData:function(){},setSearchFilteredDataList:function(){},setCreateUserDialog:function(){},setAssignUserDialog:function(){}};var bn=jn,un=a(23),hn=a(380),pn=a(45),On=a.n(pn),mn=Object(st.a)((function(e){return{root:{flexGrow:1,height:"100%"},rootGrid:{height:"100%"},margin:{margin:e.spacing(1)}}})),xn=function(e){var t,a=mn(),r=e.appState,i=e.setParentAlert,c=(e.getParentData,e.selectedUserList),s=e.assignUserDialog,o=e.setAssignUserDialog,l=e.assignUserDialogExecuting,d=e.setAssignUserDialogExecuting,j=Object(n.useState)(""),b=Object(rt.a)(j,2),u=b[0],O=b[1],m=Object(n.useState)(null),x=Object(rt.a)(m,2),y=x[0],v=x[1],w=Object(n.useState)(null),D=Object(rt.a)(w,2),_=D[0],I=D[1],A=Object(n.useState)(""),B=Object(rt.a)(A,2),L=B[0],N=B[1],E=Object(n.useState)(null),T=Object(rt.a)(E,2),U=T[0],M=T[1],F=Object(n.useState)(null),W=Object(rt.a)(F,2),z=W[0],R=W[1],V=Object(n.useState)(null),H=Object(rt.a)(V,2),J=H[0],Y=H[1],G=Object(n.useCallback)((function(e){var t=new Array;e&&Array.isArray(e)&&e.forEach((function(e){t.push({_id:e._id,name:e.info.name,role:e.role,createdAt:e.createdAt})})),Y([].concat(t))}),[r,Y]),q=Object(n.useCallback)((function(){h("users/",r.token,(function(e,t){e?i(new ct("Unable to retrieve Users. Please refresh and try again.","error")):200===t.status?G(t.data.response.users):i(new ct("Unable to retrieve Users. Please refresh and try again.","error"))}))}),[r,G,i]),$=Object(n.useCallback)((function(){if(y.length>0&&U.length>0){var e=new Array,t=new Array;y.map((function(t){e.push(t._id)})),U.map((function(e){t.push(e._id)})),y.forEach((function(e){var a={patients:t};qe("users/"+e._id,r.token,a,(function(e,t){e?i(new ct("Unable to update management user. Please refresh and try again.","error")):200===t.status?i(new ct("Successfully updated management user.","success")):i(new ct("Unable to update management user. Please refresh and try again.","error"))}))})),U.forEach((function(t){var a={workers:e};qe("users/"+t._id,r.token,a,(function(e,t){e?i(new ct("Unable to update client user. Please refresh and try again.","error")):200===t.status?i(new ct("Successfully updated client user.","success")):i(new ct("Unable to update client user. Please refresh and try again.","error"))}))}))}else i(new ct("Unable to assign users. Please refresh and try again.","error"))}),[r,i,y,U]),Z=Object(n.useCallback)((function(){o(!1),O(""),N(""),v(new Array),M(new Array)}),[o,O,N,v,M]),K=Object(n.useCallback)((function(){d(!0),$(),d(!1),o(!1)}),[$,d,o]),X=Object(n.useCallback)((function(e){O(e.target.value)}),[O]),ee=Object(n.useCallback)((function(e){N(e.target.value)}),[N]),te=Object(n.useCallback)((function(){if(u&&""!=u){var e=_.find((function(e){return e._id==u}));void 0!=e&&(v([].concat(Object(un.a)(y),[e])),O(""))}}),[u,_,v,y,O]),ae=Object(n.useCallback)((function(){if(L&&""!=L){var e=z.find((function(e){return e._id==L}));void 0!=e&&(M([].concat(Object(un.a)(U),[e])),N(""))}}),[L,z,M,U,N]),ne=Object(n.useCallback)((function(e){var t=y;t.splice(y.findIndex((function(t){return t._id==e._id})),1),v(Object(un.a)(t))}),[y,v]),re=Object(n.useCallback)((function(e){var t=U;t.splice(U.findIndex((function(t){return t._id==e._id})),1),M(Object(un.a)(t))}),[U,M]);return Object(n.useEffect)((function(){s&&q()}),[s,q]),Object(n.useEffect)((function(){if(J){var e=new Array,t=new Array;J.forEach((function(a){"Admin"==a.role||"Coordinator"==a.role||"Volunteer"==a.role?e.push(a):"Patient"==a.role&&t.push(a)})),I([].concat(e)),R([].concat(t))}}),[J,I,R]),Object(n.useEffect)((function(){if(c){var e=new Array,t=new Array;c.forEach((function(a){"Admin"==a.role||"Coordinator"==a.role||"Volunteer"==a.role?e.push({_id:a._id,name:a.info.name,role:a.role,createdAt:a.createdAt}):"Patient"==a.role&&t.push({_id:a._id,name:a.info.name,role:a.role,createdAt:a.createdAt})})),v([].concat(e)),M([].concat(t))}}),[c,v,M]),Object(g.jsx)(g.Fragment,{children:s?Object(g.jsxs)(ja.a,{id:"assign-user-dialog",fullWidth:!0,maxWidth:"md",open:s,onClose:function(){Z()},children:[Object(g.jsx)(ba.a,{children:"Assign Users"}),Object(g.jsx)(ua.a,{children:l?Object(g.jsx)(S.a,{}):Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)(hn.a,{children:["Please select users to be assigned to each other ",Object(g.jsxs)("em",{children:["(",Object(g.jsx)("u",{children:"Admin"}),", ",Object(g.jsx)("u",{children:"Coordinator"})," and ",Object(g.jsx)("u",{children:"Volunteer"})," users are assigned to ",Object(g.jsx)("u",{children:"Client"})," users)"]}),"."]}),Object(g.jsx)(Ee.a,{mx:1,my:1,boxShadow:0,children:Object(g.jsxs)(Ne.a,{container:!0,direction:"column",justifyContent:"flex-start",alignItems:"stretch",spacing:1,children:[Object(g.jsx)(Ne.a,{item:!0,xs:!0,container:!0,direction:"row",justifyContent:"space-between",alignItems:"center",spacing:1,children:_?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(Ne.a,{item:!0,xs:11,children:Object(g.jsxs)(k.a,{id:"Management-options-label",variant:"filled",size:"small",fullWidth:!0,disabled:!_,children:[Object(g.jsx)(P.a,{children:"Management"}),Object(g.jsxs)(Ve.a,{fullWidth:!0,labelId:"Management-options-label",value:u,onChange:function(e){X(e)},children:[Object(g.jsx)(ge.a,{value:"",children:Object(g.jsx)("em",{children:"None"})}),_.map((function(e,t){return Object(g.jsx)(ge.a,{value:e._id,disabled:-1!=y.findIndex((function(t){return t._id==e._id})),children:Object(g.jsx)("em",{children:e.name})},"SelectOption".concat(e._id))}))]})]})}),Object(g.jsx)(Ne.a,{item:!0,xs:1,children:Object(g.jsx)(ye.a,{variant:"outlined",size:"medium",color:"inherit",onClick:function(){te()},disabled:""==u,children:Object(g.jsx)(Ca.a,{})})})]}):Object(g.jsx)(S.a,{})}),Object(g.jsx)(Ne.a,{item:!0,xs:!0,children:y?Object(g.jsxs)(Q.a,{in:y.length>0,children:[Object(g.jsxs)(f.a,{component:"div",variant:"body2",color:"textSecondary",gutterBottom:!0,children:[Object(g.jsx)("em",{children:"The following selected management users"})," ",Object(g.jsx)("u",{children:"to be assigned:"})]}),Object(g.jsx)(f.a,{component:"div",variant:"body2",color:"primary",gutterBottom:!0,children:Object(g.jsx)("ol",{children:y.map((function(e,t){return Object(g.jsxs)("li",{children:[e.name,Object(g.jsx)(ye.a,{"aria-label":"delete",className:a.margin,size:"small",onClick:function(e){ne(e)},children:Object(g.jsx)(On.a,{fontSize:"inherit"})})]},"".concat(e._id).concat(t))}))})})]}):Object(g.jsx)(g.Fragment,{})}),Object(g.jsx)(Ne.a,{item:!0,xs:!0,container:!0,direction:"row",justifyContent:"space-between",alignItems:"center",spacing:1,children:z?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(Ne.a,{item:!0,xs:11,children:Object(g.jsxs)(k.a,{id:"Client-options-label",variant:"filled",size:"small",fullWidth:!0,disabled:!z,children:[Object(g.jsx)(P.a,{children:"Client"}),Object(g.jsxs)(Ve.a,{fullWidth:!0,labelId:"Client-options-label",value:L,onChange:function(e){ee(e)},children:[Object(g.jsx)(ge.a,{value:"",children:Object(g.jsx)("em",{children:"None"})}),z.map((function(e,t){return Object(g.jsx)(ge.a,{value:e._id,disabled:-1!=U.findIndex((function(t){return t._id==e._id})),children:Object(g.jsx)("em",{children:e.name})},"SelectOption".concat(e._id))}))]})]})}),Object(g.jsx)(Ne.a,{item:!0,xs:1,children:Object(g.jsx)(ye.a,{variant:"outlined",size:"medium",color:"inherit",onClick:function(){ae()},disabled:""==L,children:Object(g.jsx)(Ca.a,{})})})]}):Object(g.jsx)(S.a,{})}),Object(g.jsx)(Ne.a,{item:!0,xs:!0,children:U?Object(g.jsxs)(Q.a,{in:U.length>0,children:[Object(g.jsxs)(f.a,{component:"div",variant:"body2",color:"textSecondary",gutterBottom:!0,children:[Object(g.jsx)("em",{children:"The following selected client users"})," ",Object(g.jsx)("u",{children:"to be assigned by:"})]}),Object(g.jsx)(f.a,{component:"div",variant:"body2",color:"secondary",gutterBottom:!0,children:Object(g.jsx)("ol",{children:U.map((function(e,t){return Object(g.jsxs)("li",{children:[e.name,Object(g.jsx)(ye.a,{"aria-label":"delete",className:a.margin,size:"small",onClick:function(e){re(e)},children:Object(g.jsx)(On.a,{fontSize:"inherit"})})]},"".concat(e._id).concat(t))}))})})]}):Object(g.jsx)(g.Fragment,{})})]})})]})}),Object(g.jsxs)(ha.a,{children:[Object(g.jsx)(C.a,{color:"primary",variant:"contained",onClick:function(){Z()},disabled:l,children:"Cancel"}),Object(g.jsx)(C.a,(t={color:"primary",variant:"contained",startIcon:Object(g.jsx)(on.a,{}),onClick:function(){K()},disabled:l},Object(p.a)(t,"disabled",!(y.length>0&&U.length>0)),Object(p.a)(t,"children","Assign"),t))]})]}):null})};xn.defaultProps={appState:{},setParentAlert:function(){},getParentData:function(){},selectedUserList:{},assignUserDialog:{},setAssignUserDialog:function(){},assignUserDialogExecuting:{},setAssignUserDialogExecuting:function(){}};var fn=xn,gn=a(381),yn=a(179),vn=a.n(yn),Cn=a(180),Sn=a.n(Cn),wn=Object(st.a)((function(e){return{root:{flexGrow:1,height:"100%"},rootGrid:{height:"100%"}}})),kn=/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/,Dn=/^.{4,}$/,Pn=/^(\d{1,})[a-zA-Z0-9\s]+(\.)?$/,_n=/^[ABCEGHJ-NPRSTVXY]\d[ABCEGHJ-NPRSTV-Z][ -]?\d[ABCEGHJ-NPRSTV-Z]\d$/i,In=function(e){wn();var t=e.appState,a=e.setParentAlert,r=e.getParentData,i=e.createUserDialog,c=e.setCreateUserDialog,s=e.createUserDialogExecuting,o=e.setCreateUserDialogExecuting,l=Object(n.useState)(""),d=Object(rt.a)(l,2),j=d[0],b=d[1],u=Object(n.useState)(!1),h=Object(rt.a)(u,2),p=h[0],O=h[1],m=Object(n.useState)(""),x=Object(rt.a)(m,2),y=x[0],v=x[1],w=Object(n.useState)(!1),k=Object(rt.a)(w,2),D=k[0],P=k[1],_=Object(n.useState)(""),I=Object(rt.a)(_,2),A=I[0],B=I[1],L=Object(n.useState)(!1),N=Object(rt.a)(L,2),E=N[0],T=N[1],U=Object(n.useState)(""),M=Object(rt.a)(U,2),F=M[0],W=M[1],z=Object(n.useState)(!1),R=Object(rt.a)(z,2),V=R[0],H=R[1],J=Object(n.useState)(""),Y=Object(rt.a)(J,2),G=Y[0],q=Y[1],$=Object(n.useState)(!1),Z=Object(rt.a)($,2),K=Z[0],X=Z[1],ee=Object(n.useState)(""),te=Object(rt.a)(ee,2),ae=te[0],ne=te[1],re=Object(n.useState)(!1),ie=Object(rt.a)(re,2),ce=(ie[0],ie[1]),se=Object(n.useState)(""),oe=Object(rt.a)(se,2),le=oe[0],de=oe[1],je=Object(n.useState)(!1),be=Object(rt.a)(je,2),ue=(be[0],be[1]),he=Object(n.useState)(""),pe=Object(rt.a)(he,2),Oe=pe[0],me=pe[1],xe=Object(n.useState)(""),fe=Object(rt.a)(xe,2),ye=fe[0],ve=fe[1],Ce=Object(n.useState)(!1),Se=Object(rt.a)(Ce,2),we=Se[0],ke=Se[1],De=Object(n.useState)(""),Pe=Object(rt.a)(De,2),_e=Pe[0],Ie=Pe[1],Ae=Object(n.useState)(!1),Be=Object(rt.a)(Ae,2),Le=(Be[0],Be[1]),Te=Object(n.useState)(""),Ue=Object(rt.a)(Te,2),Me=Ue[0],Fe=Ue[1],We=Object(n.useState)(!1),ze=Object(rt.a)(We,2),Ve=ze[0],Qe=ze[1],He=Object(n.useState)(!1),Je=Object(rt.a)(He,2),Ye=Je[0],Ge=Je[1],qe=Object(n.useState)(""),$e=Object(rt.a)(qe,2),Ze=$e[0],Ke=$e[1],Xe=Object(n.useState)(!1),et=Object(rt.a)(Xe,2),tt=(et[0],et[1]),at=Object(n.useState)(!0),nt=Object(rt.a)(at,2),it=nt[0],st=(nt[1],Object(n.useState)("")),ot=Object(rt.a)(st,2),lt=ot[0],dt=ot[1],jt=Object(n.useState)(!1),bt=Object(rt.a)(jt,2),ut=bt[0],ht=bt[1],pt=Object(n.useState)(""),Ot=Object(rt.a)(pt,2),mt=Ot[0],xt=Ot[1],ft=Object(n.useState)(!1),gt=Object(rt.a)(ft,2),yt=gt[0],vt=gt[1],Ct=Object(n.useState)(""),St=Object(rt.a)(Ct,2),wt=St[0],kt=St[1],Dt=Object(n.useState)(!1),Pt=Object(rt.a)(Dt,2),_t=Pt[0],It=Pt[1],At=Object(n.useState)(""),Bt=Object(rt.a)(At,2),Lt=Bt[0],Nt=Bt[1],Et=Object(n.useState)(!1),Tt=Object(rt.a)(Et,2),Ut=(Tt[0],Tt[1]),Mt=Object(n.useState)(""),Ft=Object(rt.a)(Mt,2),Wt=Ft[0],zt=Ft[1],Rt=Object(n.useState)(!1),Vt=Object(rt.a)(Rt,2),Qt=(Vt[0],Vt[1]),Ht=Object(n.useState)(0),Jt=Object(rt.a)(Ht,2),Yt=Jt[0],Gt=Jt[1],qt=Object(n.useCallback)((function(){var e=F.trim().charAt(0).toUpperCase()+F.trim().slice(1).toLowerCase(),n=G.trim().charAt(0).toUpperCase()+G.trim().slice(1).toLowerCase(),i=Me.trim().charAt(0).toUpperCase()+Me.trim().slice(1).toLowerCase(),c=Oe.trim().charAt(0).toUpperCase()+Oe.trim().slice(1).toLowerCase(),s=wt.trim().charAt(0).toUpperCase()+wt.trim().slice(1).toLowerCase(),o={email:j,role:Ze,password:y,enabled:it,facilityId:t.facilityId,info:{name:e+" "+n,gender:"NonBinary"==le&&ye?c:le,dateOfBirth:new Date(ae),language:"Other"==_e&&Ve?i:_e,address:{street:lt,city:s,state:Lt,code:mt,country:Wt}}};Re("users/register",t.token,o,(function(e,t){e?a(new ct("Unable create user. Please refresh and try again.","error")):201===t.status?(r(),$t(),a(new ct("User created.","success"))):a(new ct("Unable create user. Please refresh and try again.","error"))}))}),[t,$t,j,y,F,G,it,Ze,le,ye,Oe,_e,Ve,Me,ae,lt,wt,mt,Lt,Wt]),$t=Object(n.useCallback)((function(){b(""),O(!1),v(""),P(!1),B(""),T(!1),W(""),H(!1),q(""),X(!1),Ke(""),tt(!1),de(""),ue(!1),ve(!1),me(""),ke(!1),Ie(""),Le(!1),Qe(!1),Fe(""),Ge(!1),ne(""),ce(!1),dt(""),ht(!1),kt(""),It(!1),xt(""),vt(!1),Nt(""),Ut(!1),zt(""),Qt(!1),Gt(0)}),[b,O,v,P,B,T,W,H,q,X,Ke,tt,de,ue,ve,me,ke,Ie,Le,Qe,Fe,Ge,ne,ce,dt,ht,kt,It,xt,vt,Nt,Ut,zt,Qt,Gt]),Zt=Object(n.useCallback)((function(){c(!1)}),[]),Kt=Object(n.useCallback)((function(){o(!0),qt(),o(!1),c(!1)}),[o,qt,c]),Xt=Object(n.useCallback)((function(e){Gt(Yt-1)}),[Yt]),ea=Object(n.useCallback)((function(e){Gt(Yt+1)}),[Yt]),ta=Object(n.useCallback)((function(e){kn.test(String(e.target.value))?O(!1):O(!0),b(e.target.value)}),[b,kn]),aa=Object(n.useCallback)((function(e){Dn.test(String(e.target.value))?P(!1):P(!0),v(e.target.value)}),[v,P,Dn]),na=Object(n.useCallback)((function(e){e.target.value!=y?T(!0):T(!1),B(e.target.value)}),[B,y]),ra=Object(n.useCallback)((function(e){W(e.target.value)}),[W]),ia=Object(n.useCallback)((function(e){q(e.target.value)}),[q]),ca=Object(n.useCallback)((function(e){ne(e.target.value)}),[ne]),sa=Object(n.useCallback)((function(e){de(e.target.value)}),[de]),oa=Object(n.useCallback)((function(e){me(e.target.value)}),[me]),la=Object(n.useCallback)((function(e){Ie(e.target.value)}),[Ie]),da=Object(n.useCallback)((function(e){Fe(e.target.value)}),[Fe]),pa=Object(n.useCallback)((function(e){Ke(e.target.value)}),[Ke]),Oa=Object(n.useCallback)((function(e){Pn.test(String(e.target.value))?ht(!1):ht(!0),dt(e.target.value)}),[dt,ht,Pn]),xa=Object(n.useCallback)((function(e){kt(e.target.value)}),[kt]),fa=Object(n.useCallback)((function(e){Nt(e.target.value)}),[Nt]),ga=Object(n.useCallback)((function(e){_n.test(String(e.target.value))?vt(!1):vt(!0),xt(e.target.value)}),[xt,vt,_n]),ya=Object(n.useCallback)((function(e){zt(e.target.value)}),[zt]);return Object(n.useEffect)((function(){}),[]),Object(n.useEffect)((function(){"NonBinary"==le?ve(!0):(ve(!1),me(""),ke(!1))}),[le]),Object(n.useEffect)((function(){"Other"==_e?Qe(!0):(Qe(!1),Fe(""),Ge(!1))}),[_e]),Object(g.jsx)(g.Fragment,{children:i?Object(g.jsxs)(ja.a,{id:"create-user-dialog",fullWidth:!0,maxWidth:"md",open:i,onClose:function(){Zt()},children:[Object(g.jsx)(ba.a,{children:"Create a User"}),Object(g.jsx)(ua.a,{children:s?Object(g.jsx)(S.a,{}):Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(f.a,{component:"div",variant:"body1",color:"inherit",gutterBottom:!0,children:"Please fill in user information to create the corresponding account."}),Object(g.jsxs)(Ee.a,{mx:1,my:2,boxShadow:0,children:[Object(g.jsx)(Q.a,{in:0==Yt,children:Object(g.jsxs)(Ne.a,{container:!0,direction:"row",justifyContent:"center",alignItems:"stretch",spacing:1,display:0==Yt?"block":"none",children:[Object(g.jsxs)(Ne.a,{item:!0,xs:!0,container:!0,direction:"column",justifyContent:"flex-start",alignItems:"stretch",spacing:2,children:[Object(g.jsx)(Ne.a,{item:!0,xs:!0,children:Object(g.jsx)(Ee.a,{mx:2,my:0,boxShadow:0,children:Object(g.jsx)(ma.a,{autoFocus:!0,id:"Email",fullWidth:!0,label:"Email",required:!0,onChange:function(e){ta(e)},value:j,error:p})})}),Object(g.jsx)(Ne.a,{item:!0,xs:!0,children:Object(g.jsx)(Ee.a,{mx:2,my:0,boxShadow:0,children:Object(g.jsx)(ma.a,{id:"Password",fullWidth:!0,type:"password",label:"Password",required:!0,onChange:function(e){aa(e)},value:y,error:D})})}),Object(g.jsx)(Ne.a,{item:!0,xs:!0,children:Object(g.jsx)(Ee.a,{mx:2,my:0,boxShadow:0,children:Object(g.jsx)(ma.a,{id:"ConfirmPassword",fullWidth:!0,type:"password",label:"Confirm Password",required:!0,disabled:!(""!=y&&!D),onChange:function(e){na(e)},value:A,error:E})})})]}),Object(g.jsxs)(Ne.a,{item:!0,xs:!0,container:!0,direction:"column",justifyContent:"flex-start",alignItems:"stretch",spacing:2,children:[Object(g.jsx)(Ne.a,{item:!0,children:Object(g.jsx)(Ee.a,{mx:2,my:0,boxShadow:0,children:Object(g.jsx)(ma.a,{id:"FirstName",fullWidth:!0,label:"First Name",required:!0,onChange:function(e){ra(e)},value:F,error:V})})}),Object(g.jsx)(Ne.a,{item:!0,children:Object(g.jsx)(Ee.a,{mx:2,my:0,boxShadow:0,children:Object(g.jsx)(ma.a,{id:"LastName",fullWidth:!0,label:"Last Name",required:!0,onChange:function(e){ia(e)},value:G,error:K})})})]})]})}),Object(g.jsx)(Q.a,{in:1==Yt,children:Object(g.jsxs)(Ne.a,{container:!0,direction:"row",justifyContent:"center",alignItems:"stretch",spacing:1,display:0==Yt?"block":"none",children:[Object(g.jsxs)(Ne.a,{item:!0,xs:!0,container:!0,direction:"column",justifyContent:"flex-start",alignItems:"stretch",spacing:2,display:1==Yt?"block":"none",children:[Object(g.jsx)(Ne.a,{item:!0,children:Object(g.jsx)(Ee.a,{mx:2,my:0,boxShadow:0,children:Object(g.jsxs)(ma.a,{id:"Language",select:!0,required:!0,fullWidth:!0,label:"Language",value:_e,onChange:function(e){la(e)},variant:"outlined",children:[Object(g.jsx)(ge.a,{value:"English",children:"English"},"English"),Object(g.jsx)(ge.a,{value:"Other",children:"Other"},"Other")]})})}),Object(g.jsx)(Ne.a,{item:!0,children:Object(g.jsx)(Ee.a,{mx:2,my:0,boxShadow:0,children:Object(g.jsx)(ma.a,{id:"Language2",fullWidth:!0,label:"Specify Language",required:Ve,onChange:function(e){da(e)},value:Me,error:Ye,disabled:!Ve})})})]}),Object(g.jsxs)(Ne.a,{item:!0,xs:!0,container:!0,direction:"column",justifyContent:"flex-start",alignItems:"stretch",spacing:2,display:1==Yt?"block":"none",children:[Object(g.jsx)(Ne.a,{item:!0,children:Object(g.jsx)(Ee.a,{mx:2,my:0,boxShadow:0,children:Object(g.jsxs)(ma.a,{id:"Gender",select:!0,required:!0,fullWidth:!0,label:"Gender",value:le,onChange:function(e){sa(e)},variant:"outlined",children:[Object(g.jsx)(ge.a,{value:"Male",children:"Male"},"Male"),Object(g.jsx)(ge.a,{value:"Female",children:"Female"},"Female"),Object(g.jsx)(ge.a,{value:"NonBinary",children:"Non-Binary"},"NonBinary")]})})}),Object(g.jsx)(Ne.a,{item:!0,children:Object(g.jsx)(Ee.a,{mx:2,my:0,boxShadow:0,children:Object(g.jsx)(ma.a,{id:"Gender2",fullWidth:!0,label:"Specify Gender",required:ye,onChange:function(e){oa(e)},value:Oe,error:we,disabled:!ye})})})]})]})}),Object(g.jsx)(Q.a,{in:2==Yt,children:Object(g.jsxs)(Ne.a,{container:!0,direction:"row",justifyContent:"center",alignItems:"stretch",spacing:1,display:0==Yt?"block":"none",children:[Object(g.jsx)(Ne.a,{item:!0,xs:!0,container:!0,direction:"column",justifyContent:"flex-start",alignItems:"stretch",spacing:2,display:2==Yt?"block":"none",children:Object(g.jsx)(Ne.a,{item:!0,children:Object(g.jsx)(Ee.a,{mx:2,my:0,boxShadow:0,children:Object(g.jsx)(ma.a,{id:"DateOfBirth",fullWidth:!0,required:!0,label:"Date of Birth",type:"date",defaultValue:ae,onChange:function(e){ca(e)},InputLabelProps:{shrink:!0},inputProps:{required:!0,max:(new Date).toISOString().split("T")[0]}})})})}),Object(g.jsx)(Ne.a,{item:!0,xs:!0,container:!0,direction:"column",justifyContent:"flex-start",alignItems:"stretch",spacing:2,display:2==Yt?"block":"none",children:Object(g.jsx)(Ne.a,{item:!0,children:Object(g.jsx)(Ee.a,{mx:2,my:0,boxShadow:0,children:Object(g.jsxs)(ma.a,{id:"Role",select:!0,required:!0,fullWidth:!0,label:"Role",value:Ze,onChange:function(e){pa(e)},variant:"outlined",children:[Object(g.jsx)(ge.a,{value:"Admin",children:"Admin"},"Admin"),Object(g.jsx)(ge.a,{value:"Coordinator",children:"Coordinator"},"Coordinator"),Object(g.jsx)(ge.a,{value:"Volunteer",children:"Volunteer"},"Volunteer"),Object(g.jsx)(ge.a,{value:"Patient",children:"Patient"},"Patient")]})})})})]})}),Object(g.jsx)(Q.a,{in:3==Yt,children:Object(g.jsxs)(Ne.a,{container:!0,direction:"row",justifyContent:"center",alignItems:"stretch",spacing:1,display:0==Yt?"block":"none",children:[Object(g.jsxs)(Ne.a,{item:!0,xs:!0,container:!0,direction:"column",justifyContent:"flex-start",alignItems:"stretch",spacing:2,display:3==Yt?"block":"none",children:[Object(g.jsx)(Ne.a,{item:!0,xs:!0,children:Object(g.jsx)(Ee.a,{mx:2,my:0,boxShadow:0,children:Object(g.jsx)(ma.a,{autoFocus:!0,id:"Street",fullWidth:!0,label:"Street",required:!0,onChange:function(e){Oa(e)},value:lt,error:ut})})}),Object(g.jsx)(Ne.a,{item:!0,xs:!0,children:Object(g.jsx)(Ee.a,{mx:2,my:0,boxShadow:0,children:Object(g.jsx)(ma.a,{id:"City",fullWidth:!0,label:"City",required:!0,onChange:function(e){xa(e)},value:wt,error:_t})})}),Object(g.jsx)(Ne.a,{item:!0,xs:!0,children:Object(g.jsx)(Ee.a,{mx:2,my:0,boxShadow:0,children:Object(g.jsx)(ma.a,{id:"PostalCode",fullWidth:!0,label:"Postal Code",required:!0,onChange:function(e){ga(e)},value:mt,error:yt})})})]}),Object(g.jsxs)(Ne.a,{item:!0,xs:!0,container:!0,direction:"column",justifyContent:"flex-start",alignItems:"stretch",spacing:2,display:3==Yt?"block":"none",children:[Object(g.jsx)(Ne.a,{item:!0,children:Object(g.jsx)(Ee.a,{mx:2,my:0,boxShadow:0,children:Object(g.jsxs)(ma.a,{id:"Province",select:!0,required:!0,fullWidth:!0,label:"Province",value:Lt,onChange:function(e){fa(e)},variant:"outlined",children:[Object(g.jsx)(ge.a,{value:"AB",children:"Alberta"},"AB"),Object(g.jsx)(ge.a,{value:"BC",children:"British Columbia"},"BC"),Object(g.jsx)(ge.a,{value:"MB",children:"Manitoba"},"MB"),Object(g.jsx)(ge.a,{value:"NB",children:"New Brunswick"},"NB"),Object(g.jsx)(ge.a,{value:"NL",children:"Newfoundland and Labrador"},"NL"),Object(g.jsx)(ge.a,{value:"NT",children:"Northwest Territories"},"NT"),Object(g.jsx)(ge.a,{value:"NS",children:"Nova Scotia"},"NS"),Object(g.jsx)(ge.a,{value:"NU",children:"Nunavut"},"NU"),Object(g.jsx)(ge.a,{value:"ON",children:"Ontario"},"ON"),Object(g.jsx)(ge.a,{value:"PE",children:"Prince Edward Island"},"PE"),Object(g.jsx)(ge.a,{value:"QC",children:"Quebec"},"QC"),Object(g.jsx)(ge.a,{value:"SK",children:"Saskatchewan"},"SK"),Object(g.jsx)(ge.a,{value:"YT",children:"Yukon"},"YT")]})})}),Object(g.jsx)(Ne.a,{item:!0,children:Object(g.jsx)(Ee.a,{mx:2,my:0,boxShadow:0,children:Object(g.jsx)(ma.a,{id:"Country",select:!0,required:!0,fullWidth:!0,label:"Country",value:Wt,onChange:function(e){ya(e)},variant:"outlined",children:Object(g.jsx)(ge.a,{value:"Canada",children:"Canada"},"Canada")})})})]})]})})]})]})}),Object(g.jsxs)(ha.a,{children:[Object(g.jsx)(C.a,{color:"primary",variant:"contained",onClick:function(){Zt()},disabled:s,children:"Cancel"}),Object(g.jsx)(Q.a,{in:0==Yt,children:Object(g.jsx)(Ee.a,{mx:2,my:0,boxShadow:0,display:0==Yt?"block":"none",children:Object(g.jsx)(C.a,{color:"secondary",variant:"contained",endIcon:Object(g.jsx)(vn.a,{}),onClick:function(){ea()},children:"Next"})})}),Object(g.jsx)(Q.a,{in:1==Yt,children:Object(g.jsx)(Ee.a,{mx:2,my:0,boxShadow:0,display:1==Yt?"block":"none",children:Object(g.jsxs)(gn.a,{display:1==Yt?"block":"none",children:[Object(g.jsx)(C.a,{color:"secondary",variant:"outlined",startIcon:Object(g.jsx)(Sn.a,{}),onClick:function(){Xt()},children:"Back"}),Object(g.jsx)(C.a,{color:"secondary",variant:"contained",endIcon:Object(g.jsx)(vn.a,{}),onClick:function(){ea()},children:"Next"})]})})}),Object(g.jsx)(Q.a,{in:2==Yt,children:Object(g.jsx)(Ee.a,{mx:2,my:0,boxShadow:0,display:2==Yt?"block":"none",children:Object(g.jsxs)(gn.a,{display:2==Yt?"block":"none",children:[Object(g.jsx)(C.a,{color:"secondary",variant:"outlined",startIcon:Object(g.jsx)(Sn.a,{}),onClick:function(){Xt()},children:"Back"}),Object(g.jsx)(C.a,{color:"secondary",variant:"contained",endIcon:Object(g.jsx)(vn.a,{}),onClick:function(){ea()},children:"Next"})]})})}),Object(g.jsx)(Q.a,{in:3==Yt,children:Object(g.jsx)(Ee.a,{mx:2,my:0,boxShadow:0,display:3==Yt?"block":"none",children:Object(g.jsxs)(gn.a,{display:3==Yt?"block":"none",children:[Object(g.jsx)(C.a,{color:"secondary",variant:"outlined",startIcon:Object(g.jsx)(Sn.a,{}),onClick:function(){Xt()},children:"Back"}),Object(g.jsx)(C.a,{color:"primary",variant:"contained",endIcon:Object(g.jsx)(nn.a,{}),onClick:function(){Kt()},disabled:s,children:"Create"})]})})})]})]}):null})};In.defaultProps={appState:{},setParentAlert:function(){},getParentData:function(){},setCreateUserDialog:function(){},setCreateUserDialogExecuting:function(){}};var An=In;var Bn=function(e,t,a){b()({method:"delete",url:"/api/"+e,headers:{"Content-Type":"application/json",Authorization:"Bearer "+t},timeout:5e3}).then((function(e){a(null,e)})).catch((function(e){a(e,null)}))},Ln=Object(st.a)((function(e){return{root:{flexGrow:1,height:"100%"}}})),Nn=function(e){Ln();var t=e.appState,a=e.getParentData,r=e.setParentAlert,i=e.deleteUserDialog,c=e.setDeleteUserDialog,s=e.deleteUserDialogExecuting,o=e.setDeleteUserDialogExecuting,l=e.selectedDataItemsList,d=e.setSelectedDataItemsList,j=Object(n.useCallback)((function(){l?l.forEach((function(e){Bn("users/"+e._id,t.token,(function(e,t){e?(c(!1),r(new ct("Unable to delete user(s). Please try again.","error"))):200===t.status?(a(),r(new ct("Successfully deleted. You can continue working.","success"))):(c(!1),r(new ct("Unable to delete user(s). Please try again.","error")))}))})):(c(!1),r(new ct("Unable to delete user(s). Please try again.","error")))}),[t,l,c,r,a]),b=Object(n.useCallback)((function(){c(!1)}),[c]),u=Object(n.useCallback)((function(){try{o(!0),j(),o(!1),c(!1),d([])}catch(e){}}),[o,j,d,c]);return Object(g.jsx)(g.Fragment,{children:l?Object(g.jsxs)(ja.a,{id:"delete-user-dialog",fullWidth:!0,maxWidth:"md",open:i,onClose:function(){b()},children:[Object(g.jsxs)(ba.a,{children:["Delete user",1===l.length?null:"s"]}),Object(g.jsx)(ua.a,{children:s?Object(g.jsx)(S.a,{}):Object(g.jsx)(hn.a,{children:1===l.length?Object(g.jsx)(g.Fragment,{children:"Are you sure you would like to delete the user?"}):Object(g.jsx)(g.Fragment,{children:"Are you sure you would like to delete ".concat(l.length," users?")})})}),Object(g.jsxs)(ha.a,{children:[Object(g.jsx)(C.a,{color:"primary",variant:"contained",onClick:function(){b()},disabled:s,children:"Cancel"}),Object(g.jsx)(C.a,{color:"primary",variant:"contained",startIcon:Object(g.jsx)(Fa.a,{}),onClick:function(){u()},disabled:s,children:"Delete"})]})]}):null})};Nn.defaultProps={appState:{},getParentData:function(){},setParentAlert:function(){},deleteUserDialog:{},setDeleteUserDialog:function(){},deleteUserDialogExecuting:{},setDeleteUserDialogExecuting:function(){},selectedDataItemsList:{},setSelectedDataItemsList:function(){}};var En=Nn,Tn=Object(st.a)((function(e){return{root:{flexGrow:1}}})),Un=function(e){var t=Tn(),a=e.appState,r=e.ToggleDrawerClose,i=e.CheckAuthenticationValidity,c=e.mode,s=Object(n.useState)(!0),o=Object(rt.a)(s,2),l=o[0],d=o[1],j=Object(n.useState)(null),b=Object(rt.a)(j,2),u=b[0],p=b[1],O=Object(n.useState)(null),m=Object(rt.a)(O,2),x=m[0],y=m[1],v=Object(n.useState)(null),C=Object(rt.a)(v,2),w=C[0],k=C[1],D=Object(n.useState)(!1),P=Object(rt.a)(D,2),_=P[0],I=P[1],A=Object(n.useState)(!1),B=Object(rt.a)(A,2),L=B[0],N=B[1],E=Object(n.useState)(!1),T=Object(rt.a)(E,2),U=T[0],M=T[1],F=Object(n.useState)(!1),W=Object(rt.a)(F,2),z=W[0],R=W[1],V=Object(n.useState)(!1),Q=Object(rt.a)(V,2),H=Q[0],J=Q[1],Y=Object(n.useState)(!1),G=Object(rt.a)(Y,2),q=G[0],$=G[1],Z=Object(n.useState)(new ct),K=Object(rt.a)(Z,2),X=K[0],ee=K[1],te=Object(n.useCallback)((function(e){var t=new Array;e&&Array.isArray(e)&&e.forEach((function(e){e._id!==a._id&&t.push({_id:e._id,sequenceId:e.sequenceId,collections:e.collections,email:e.email,enabled:e.enabled,info:e.info,patients:e.patients,workers:e.workers,research:e.research,role:e.role,createdBy:e.createdBy,createdAt:e.updatedAt,modifiedBy:e.modifiedBy,updatedAt:e.updatedAt})})),p([].concat(t)),y([].concat(t)),k([])}),[a]),ae=Object(n.useCallback)((function(){a&&("Admin"===c?h("users/",a.token,(function(e,t){e?ee(new ct("Unable to retrieve Users. Please refresh and try again.","error")):200===t.status?te(t.data.response.users):ee(new ct("Unable to retrieve Users. Please refresh and try again.","error"))})):"Other"===c&&h("users/"+a._id,a.token,(function(e,t){e?ee(new ct("Unable to retrieve Users. Please refresh and try again.","error")):200===t.status?te(t.data.user.patients):ee(new ct("Unable to retrieve Users. Please refresh and try again.","error"))})))}),[te,a,c]);return Object(n.useEffect)((function(){r(),setTimeout((function(){i((function(e){e?ae():ee(null)}))}),200)}),[]),Object(n.useEffect)((function(){ae()}),[c]),Object(n.useEffect)((function(){y(u),k([])}),[u]),null!=X?Object(g.jsxs)("div",{className:t.root,children:[Object(g.jsxs)(Ne.a,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"stretch",style:{height:"100%"},spacing:1,children:[Object(g.jsx)(Ne.a,{item:!0,xs:5,children:Object(g.jsxs)(Ee.a,{mx:1,my:1,children:["Admin"===c?Object(g.jsx)(f.a,{variant:"h5",color:"inherit",align:"left",gutterBottom:!0,children:"Manage Users"}):Object(g.jsx)(g.Fragment,{}),"Other"===c?Object(g.jsxs)(Ne.a,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"flex-end",spacing:2,children:[Object(g.jsx)(Ne.a,{item:!0,children:Object(g.jsx)(be.a,{color:"primary"})}),Object(g.jsx)(Ne.a,{item:!0,xs:!0,children:Object(g.jsx)(f.a,{variant:"h5",color:"secondary",align:"left",gutterBottom:!1,children:"Your Members"})})]}):Object(g.jsx)(g.Fragment,{})]})}),Object(g.jsx)(Ne.a,{item:!0,xs:6,children:Object(g.jsx)(Ee.a,{mx:1,my:1,children:Object(g.jsx)(jt,{alert:X,setParentAlert:ee})})}),Object(g.jsx)(Ne.a,{item:!0,xs:12,children:Object(g.jsx)(Ee.a,{mx:1,my:1,boxShadow:3,children:Object(g.jsx)(Te.a,{raised:!0,children:Object(g.jsx)(Ne.a,{container:!0,direction:"column",justifyContent:"flex-start",alignItems:"stretch",spacing:0,children:u&&x&&w?Object(g.jsxs)(Ne.a,{item:!0,xs:12,children:[Object(g.jsx)(bn,{mode:c,isDense:l,setIsDense:d,dataList:u,getParentData:ae,setSearchFilteredDataList:y,setCreateUserDialog:M,setAssignUserDialog:I,setParentAlert:ee}),Object(g.jsx)(Za,{appState:a,isDense:l,searchFilteredDataList:x,selectedDataItemsList:w,setSelectedDataItemsList:k,setParentDeleteUserDialog:J})]}):Object(g.jsx)(Ne.a,{item:!0,xs:12,container:!0,direction:"row",justifyContent:"center",alignItems:"stretch",spacing:1,children:Object(g.jsx)(Ne.a,{item:!0,children:Object(g.jsx)(Ee.a,{mx:1,my:1,boxShadow:0,children:Object(g.jsx)(S.a,{})})})})})})})})]}),Object(g.jsx)(fn,{assignUserDialog:_,setAssignUserDialog:I,assignUserDialogExecuting:L,setAssignUserDialogExecuting:N,setParentAlert:ee,getParentData:ae,selectedUserList:w,appState:a}),Object(g.jsx)(An,{createUserDialog:U,setCreateUserDialog:M,createUserDialogExecuting:z,setCreateUserDialogExecuting:R,setParentAlert:ee,getParentData:ae,appState:a}),Object(g.jsx)(En,{deleteUserDialog:H,setDeleteUserDialog:J,deleteUserDialogExecuting:q,setDeleteUserDialogExecuting:$,selectedDataItemsList:w,setSelectedDataItemsList:k,setParentAlert:ee,getParentData:ae,appState:a})]}):Object(g.jsx)(f.a,{variant:"h6",color:"inherit",align:"center",gutterBottom:!0,children:"Not Authorized. Please refresh and try again."})};Un.defaultProps={appState:{},ToggleDrawerClose:function(){},CheckAuthenticationValidity:function(){}};var Mn=Un,Fn=a(58),Wn=a.n(Fn),zn=Object(st.a)((function(e){return{root:{flexGrow:1,height:"100%"},rootGrid:{height:"100%"}}})),Rn=function(e){zn(),e.appState;var t=e.setParentAlert,a=e.user,r=e.toBePanelIndex,i=e.setPanelIndex,c=e.changesUserDialog,s=e.setChangesUserDialog,o=e.changesUserDialogExecuting,l=e.setChangesUserDialogExecuting,d=Object(n.useCallback)((function(){s(!1)}),[s]),j=Object(n.useCallback)((function(){try{l(!0),l(!1),s(!1),i(r)}catch(e){}}),[l,s,t,i,r]);return Object(g.jsx)(g.Fragment,{children:a?Object(g.jsxs)(ja.a,{id:"save-user-dialog",fullWidth:!0,maxWidth:"md",open:c,onClose:function(){d()},children:[Object(g.jsx)(ba.a,{children:"Unsaved Changes"}),Object(g.jsx)(ua.a,{children:o?Object(g.jsx)(S.a,{}):Object(g.jsx)(hn.a,{children:"You have some unsaved changes. Would you like to save the user changes?"})}),Object(g.jsxs)(ha.a,{children:[Object(g.jsx)(C.a,{color:"primary",variant:"contained",onClick:function(){d()},disabled:o,children:"Back"}),Object(g.jsx)(C.a,{color:"primary",variant:"contained",startIcon:Object(g.jsx)(Wn.a,{}),onClick:function(){j()},disabled:o,children:"Save"})]})]}):null})};Rn.defaultProps={appState:{},setParentAlert:function(){},user:{},toBePanelIndex:{},setPanelIndex:function(){},changesUserDialog:{},setChangesUserDialog:function(){},changesUserDialogExecuting:{},setChangesUserDialogExecuting:function(){}};var Vn=Rn,Qn=Object(st.a)((function(e){return{visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1}}})),Hn=[{id:"collectionName",numeric:!1,disablePadding:!0,label:"Service Name"},{id:"collectionId",numeric:!1,disablePadding:!0,label:"Service ID"},{id:"numProjects",numeric:!0,disablePadding:!1,label:"# of Associated Projects"},{id:"numMembers",numeric:!0,disablePadding:!1,label:"# of Associated Members"},{id:"numSurveyTemplates",numeric:!0,disablePadding:!1,label:"# of Chapter Templates"},{id:"numMemberSurveys",numeric:!0,disablePadding:!1,label:"# of Instances"},{id:"createdAt",numeric:!0,disablePadding:!1,label:"Date Created"},{id:"updatedAt",numeric:!0,disablePadding:!1,label:"Date Last Modified"}],Jn=[{id:"collectionName",numeric:!1,disablePadding:!0,label:"Service Name"},{id:"collectionId",numeric:!1,disablePadding:!0,label:"Service ID"},{id:"completeness",numeric:!1,disablePadding:!0,label:"Completeness"},{id:"clientName",numeric:!1,disablePadding:!0,label:"Client Name"},{id:"clientId",numeric:!1,disablePadding:!0,label:"Client ID"},{id:"numMemberSurveys",numeric:!0,disablePadding:!1,label:"# of Member Chapters"},{id:"createdAt",numeric:!0,disablePadding:!1,label:"Date Created"},{id:"updatedAt",numeric:!0,disablePadding:!1,label:"Date Last Modified"}],Yn=[{id:"collectionName",numeric:!1,disablePadding:!0,label:"Service Name"},{id:"collectionId",numeric:!1,disablePadding:!0,label:"Service ID"},{id:"completeness",numeric:!1,disablePadding:!0,label:"Completeness"},{id:"createdAt",numeric:!0,disablePadding:!1,label:"Date Created"},{id:"updatedAt",numeric:!0,disablePadding:!1,label:"Date Last Modified"}],Gn=function(e){var t=Qn(),a=e.userID,r=e.isTemplates,i=e.onSelectAllClick,c=e.order,s=e.orderBy,o=e.numSelected,l=e.rowCount,d=e.onRequestSort,j=Object(n.useState)(null),b=Object(rt.a)(j,2),u=b[0],h=b[1],p=Object(n.useCallback)((function(e){return function(t){d(t,e)}}),[d]);return Object(n.useEffect)((function(){h(a?Yn:r?Hn:Jn)}),[a,r]),Object(g.jsx)(ca.a,{children:Object(g.jsxs)(sa.a,{children:[Object(g.jsx)(ia.a,{padding:"checkbox",children:Object(g.jsx)(Aa.a,{indeterminate:o>0&&o<l,checked:l>0&&o===l,onChange:i,inputProps:{"aria-label":"select all"}})}),u?u.map((function(e){return Object(g.jsx)(ia.a,{align:e.numeric?"right":"left",padding:e.disablePadding?"none":"normal",sortDirection:s===e.id&&c,children:Object(g.jsxs)(Ia.a,{active:s===e.id,direction:s===e.id?c:"asc",onClick:p(e.id),children:[e.label,s===e.id?Object(g.jsx)("span",{className:t.visuallyHidden,children:"desc"===c?"sorted descending":"sorted ascending"}):null]})},e.id)})):null]})})};Gn.defaultProps={userID:null,isTemplates:!0,numSelected:{},onRequestSort:function(){},onSelectAllClick:function(){},order:{},orderBy:{},rowCount:{}};var qn=Gn,$n=Object(st.a)((function(e){return{root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1)},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(Ua.d)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},title:{flex:"1 1 100%"}}})),Zn=function(e){var t=$n(),a=e.appState,r=e.isTemplates,i=e.selectedDataItemsList,c=e.setParentDeleteCollectionDialog,s=e.setParentExportCollectionDialog,o=Object(n.useState)(""),l=Object(rt.a)(o,2),d=l[0],j=l[1],b=Object(n.useState)(""),u=Object(rt.a)(b,2),h=(u[0],u[1],Object(n.useState)(!1)),O=Object(rt.a)(h,2),m=O[0],x=O[1],y=Object(n.useState)(!1),v=Object(rt.a)(y,2),C=v[0],S=v[1],w=Object(n.useState)(!1),k=Object(rt.a)(w,2),D=k[0],P=k[1],_=Object(n.useCallback)((function(){0===i.length?(x(!0),S(!1),P(!1)):1===i.length?(x(!1),S(!0),P(!1)):i.length>1&&(x(!1),S(!1),P(!0))}),[i,x,S,P]),I=Object(n.useCallback)((function(){c(!0)}),[c]),A=Object(n.useCallback)((function(){s(!0)}),[s]);return Object(n.useEffect)((function(){_()}),[i,_]),Object(n.useEffect)((function(){m||D?j(""):C&&("Admin"===a.role?j("/administration/collections/view/"+i[0]._id):"Coordinator"===a.role||"Volunteer"===a.role?j("/staff/collections/view/"+i[0]._id):j("/client/collections/view/"+i[0]._id))}),[m,C,D,r]),Object(g.jsxs)(xe.a,{className:Object(Ta.a)(t.root,Object(p.a)({},t.highlight,i.length>0)),children:[i.length>0?Object(g.jsxs)(f.a,{className:t.title,color:"inherit",variant:"subtitle1",component:"div",children:[i.length," Selected Item",i.length>1?"s":null]}):Object(g.jsx)(f.a,{className:t.title,variant:"h6",component:"div",children:r?"Service Template Results":"Member Service Instance Results"}),m?Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(Qe.a,{title:"Filter list",children:Object(g.jsx)(ye.a,{"aria-label":"filter list",children:Object(g.jsx)(za.a,{})})})}):null,C?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(Qe.a,{title:"View",children:Object(g.jsx)(ye.a,{"aria-label":"view",component:M.b,to:d,disabled:!0,children:Object(g.jsx)(ea.a,{})})}),Object(g.jsx)(Qe.a,{title:"Export",onClick:function(){return A()},children:Object(g.jsx)(ye.a,{"aria-label":"export",children:Object(g.jsx)(Ke.a,{})})}),Object(g.jsx)(Qe.a,{title:"Delete",children:Object(g.jsx)(ye.a,{"aria-label":"delete",onClick:function(){return I()},children:Object(g.jsx)(Fa.a,{})})})]}):null,D?Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(Qe.a,{title:"Delete",children:Object(g.jsx)(ye.a,{"aria-label":"delete",onClick:function(){return I()},children:Object(g.jsx)(Fa.a,{})})})}):null]})};Zn.defaultProps={appState:{},selectedDataItemsList:{},setParentDeleteCollectionDialog:function(){},setParentExportCollectionDialog:function(){},isTemplates:!0};var Kn=Zn,Xn=function(e,t,a){return t[a]<e[a]?-1:t[a]>e[a]?1:0},er=function(e,t){return"desc"===e?function(e,a){return Xn(e,a,t)}:function(e,a){return-Xn(e,a,t)}},tr=function(e,t){var a=e.map((function(e,t){return[e,t]}));return a.sort((function(e,a){var n=t(e[0],a[0]);return 0!==n?n:e[1]-a[1]})),a.map((function(e){return e[0]}))},ar=Object(st.a)((function(e){return{root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1)},tableRow:{cursor:"pointer"}}}));function nr(e){var t=ar(),a=e.appState,r=e.isDense,i=e.isTemplates,c=e.userID,s=e.searchFilteredDataList,o=e.setParentDeleteCollectionDialog,l=e.setParentExportCollectionDialog,d=e.selectedDataItemsList,j=e.setSelectedDataItemsList,b=Object(n.useState)("asc"),u=Object(rt.a)(b,2),h=u[0],p=u[1],O=Object(n.useState)("collectionId"),m=Object(rt.a)(O,2),x=m[0],y=m[1],v=Object(n.useState)(0),S=Object(rt.a)(v,2),w=S[0],k=S[1],D=Object(n.useState)(20),P=Object(rt.a)(D,2),I=P[0],A=P[1],B=I-Math.min(I,s.length-w*I),L=Object(n.useCallback)((function(e,t){p(x===t&&"asc"===h?"desc":"asc"),y(t)}),[h,p,x,y]),N=Object(n.useCallback)((function(e){if(e.target.checked){var t=[];return s.forEach((function(e){t.push(e)})),void j(t)}j([])}),[s,j]),E=Object(n.useCallback)((function(e,t){var a=d.map((function(e){return e._id})).indexOf(t._id),n=[];-1===a?n=n.concat(d,t):0===a?n=n.concat(d.slice(1)):a===d.length-1?n=n.concat(d.slice(0,-1)):a>0&&(n=n.concat(d.slice(0,a),d.slice(a+1))),j(n)}),[d,j]),T=Object(n.useCallback)((function(e){return-1!==d.map((function(e){return e._id})).indexOf(e._id)}),[d]),U=Object(n.useCallback)((function(e){k(e)}),[k]),M=Object(n.useCallback)((function(e){A(parseInt(e.target.value,10)),k(0)}),[A,k]);return Object(n.useEffect)((function(){k(0)}),[s]),Object(g.jsx)("div",{className:t.root,children:Object(g.jsx)(Ee.a,{mx:1,my:1,children:Object(g.jsxs)(_.a,{className:t.paper,children:[Object(g.jsx)(Kn,{appState:a,isTemplates:i,selectedDataItemsList:d,setParentDeleteCollectionDialog:o,setParentExportCollectionDialog:l}),Object(g.jsx)(Ha.a,{children:Object(g.jsxs)(na.a,{className:t.table,"aria-labelledby":"tableTitle",size:r?"small":"medium","aria-label":"enhanced table",children:[Object(g.jsx)(qn,{userID:c,numSelected:d.length,order:h,orderBy:x,onSelectAllClick:N,onRequestSort:L,rowCount:s.length,isTemplates:i}),Object(g.jsxs)(ra.a,{children:[tr(s,er(h,x)).slice(w*I,w*I+I).map((function(e,a){var n=T(e),r="enhanced-table-checkbox-".concat(a);return Object(g.jsxs)(sa.a,{className:t.tableRow,hover:!0,onClick:function(t){return E(t,e)},role:"checkbox","aria-checked":n,tabIndex:-1,selected:n,children:[Object(g.jsx)(ia.a,{padding:"checkbox",children:Object(g.jsx)(Aa.a,{checked:n,inputProps:{"aria-labelledby":r}})}),Object(g.jsx)(ia.a,{component:"th",id:r,scope:"row",padding:"none",children:Object(g.jsx)(f.a,{color:"textPrimary",variant:"subtitle2",noWrap:!0,style:{display:"inline-block",width:"240px"},children:i?e.name:e.collectionTemplate?e.collectionTemplate.name:""})}),Object(g.jsx)(ia.a,{align:"left",padding:"none",children:Object(g.jsx)(f.a,{color:"secondary",variant:"body2",noWrap:!0,style:{display:"inline-block",width:"120px"},children:e._id})}),i&&e.projectList&&e.memberList&&e.memberCollectionList&&e.surveyList?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(ia.a,{align:"right",padding:"normal",children:Object(g.jsx)(Qe.a,{title:Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(f.a,{color:"inherit",children:"Projects"}),Object(g.jsx)("ol",{children:e.projectList.map((function(e,t){return Object(g.jsx)("li",{children:e.name},"subrow".concat(t,"-").concat(e._id))}))}),Object(g.jsx)("em",{children:"Projects apart of this"})," ",Object(g.jsx)("b",{children:"Service Template"}),"."," "]}),placement:"top",children:Object(g.jsx)(C.a,{children:Object(g.jsx)(f.a,{color:"secondary",variant:"body2",style:{display:"inline-block",width:"120px"},children:e.projectList.length})})})}),Object(g.jsx)(ia.a,{align:"right",padding:"normal",children:Object(g.jsx)(Qe.a,{title:Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(f.a,{color:"inherit",children:"Members"}),Object(g.jsx)("em",{children:"Members apart of this"})," ",Object(g.jsx)("b",{children:"Service Template"}),"."," "]}),placement:"top",children:Object(g.jsx)(C.a,{children:Object(g.jsx)(f.a,{color:"secondary",variant:"body2",style:{display:"inline-block",width:"120px"},children:e.memberList.length})})})}),Object(g.jsx)(ia.a,{align:"right",padding:"normal",children:Object(g.jsx)(Qe.a,{title:Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(f.a,{color:"inherit",children:"Survey Templates"}),Object(g.jsx)("ol",{children:e.surveyList.map((function(e,t){return Object(g.jsx)("li",{children:e.name},"subrow".concat(t,"-").concat(e._id))}))}),Object(g.jsx)("em",{children:"Survey Templates apart of this"})," ",Object(g.jsx)("b",{children:"Service Template"}),"."," "]}),placement:"top",children:Object(g.jsx)(C.a,{children:Object(g.jsx)(f.a,{color:"secondary",variant:"body2",style:{display:"inline-block",width:"120px"},children:e.surveyList.length})})})}),Object(g.jsx)(ia.a,{align:"right",padding:"normal",children:Object(g.jsx)(Qe.a,{title:Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(f.a,{color:"inherit",children:"Member Service Instances"}),Object(g.jsx)("em",{children:"Member Collections apart of this"})," ",Object(g.jsx)("b",{children:"Service Template"}),"."," "]}),placement:"top",children:Object(g.jsx)(C.a,{children:Object(g.jsx)(f.a,{color:"secondary",variant:"body2",style:{display:"inline-block",width:"120px"},children:e.memberCollectionList.length})})})})]}):Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(ia.a,{align:"left",padding:"none",children:Object(g.jsx)(f.a,{color:"primary",variant:"body2",style:{display:"inline-block",width:"120px"},children:e.completeness})}),c?Object(g.jsx)(g.Fragment,{}):e.member?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(ia.a,{align:"left",padding:"none",children:Object(g.jsx)(f.a,{color:"secondary",variant:"body2",style:{display:"inline-block",width:"120px"},children:e.member.info.name})}),Object(g.jsx)(ia.a,{align:"left",padding:"none",children:Object(g.jsx)(f.a,{color:"textPrimary",variant:"body2",style:{display:"inline-block",width:"120px"},children:e.member._id})}),Object(g.jsx)(ia.a,{align:"right",padding:"normal",children:Object(g.jsx)(Qe.a,{title:Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(f.a,{color:"inherit",children:"Member Chapters"}),Object(g.jsx)("ol",{children:e.memberSurveyList.map((function(e,t){return Object(g.jsx)("li",{children:e.name},"subrow".concat(t,"-").concat(e._id))}))}),Object(g.jsx)("em",{children:"Member Chapters instantiated in this"})," ",Object(g.jsx)("b",{children:"Member Collection"}),"."," "]}),placement:"top",children:Object(g.jsx)(C.a,{children:Object(g.jsx)(f.a,{color:"secondary",variant:"body2",style:{display:"inline-block",width:"120px"},children:e.memberSurveyList.length})})})})]}):Object(g.jsx)(g.Fragment,{})]}),Object(g.jsxs)(ia.a,{align:"right",children:[Object(g.jsx)(f.a,{color:"primary",variant:"body2",style:{display:"inline-block",width:"120px"},children:new Date(e.createdAt).toLocaleDateString()}),Object(g.jsx)(f.a,{color:"secondary",variant:"body2",style:{display:"inline-block",width:"120px"},children:new Date(e.createdAt).toLocaleTimeString()})]}),Object(g.jsxs)(ia.a,{align:"right",children:[Object(g.jsx)(f.a,{color:"primary",variant:"body2",style:{display:"inline-block",width:"120px"},children:new Date(e.updatedAt).toLocaleDateString()}),Object(g.jsx)(Ee.a,{component:"span",mr:1}),Object(g.jsx)(f.a,{color:"secondary",variant:"body2",style:{display:"inline-block",width:"120px"},children:new Date(e.updatedAt).toLocaleTimeString()})]})]},"row".concat(a,"-").concat(e._id))})),B>0&&Object(g.jsx)(sa.a,{style:{height:(r?33:53)*B},children:Object(g.jsx)(ia.a,{colSpan:6})})]})]})}),s.length>0?Object(g.jsx)(Ja.a,{rowsPerPageOptions:[5,10,15,20,25],component:"div",count:s.length,rowsPerPage:I,page:s.length<=I?0:w,onPageChange:function(e,t){U(t)},onRowsPerPageChange:M}):null]})})})}nr.defaultProps={appState:{},userID:null,searchFilteredDataList:{},setParentDeleteCollectionDialog:function(){},setParentExportCollectionDialog:function(){},selectedDataItemsList:{},setSelectedDataItemsList:function(){},isTemplates:!0};var rr=a(126),ir=a.n(rr),cr=a(127),sr=a.n(cr),or=Object(st.a)((function(e){return{root:{flexGrow:1,height:"100%"},rootGrid:{height:"100%"}}})),lr=[{key:"CollectionId",value:"collectionId",display:"Service ID"},{key:"CollectionName",value:"collectionName",display:"Service Name"},{key:"NumSurveyTemplates",value:"numSurveyTemplates",display:"# Chapter Templates"}],dr=[{key:"CollectionId",value:"collectionId",display:"Service ID"},{key:"CollectionName",value:"collectionName",display:"Service Name"},{key:"NumMemberSurveys",value:"numMemberSurveys",display:"# Member Chapters"},{key:"ClientId",value:"clientId",display:"Client ID"},{key:"ClientName",value:"clientName",display:"Client Name"},{key:"Completeness",value:"completeness",display:"Completeness"}],jr=[{key:"CollectionId",value:"collectionId",display:"Service ID"},{key:"CollectionName",value:"collectionName",display:"Service Name"},{key:"Completeness",value:"completeness",display:"Completeness"}],br=function(e){or();var t=e.setParentAlert,a=e.isDense,r=e.setIsDense,i=e.isTemplates,c=e.setIsTemplates,s=e.dataList,o=e.getParentData,l=e.userID,d=e.setSearchFilteredDataList,j=e.setCreateCollectionTemplateDialog,b=e.setCreateMemberCollectionDialog,u=e.setAssignMemberDialog,h=e.setAssignProjectDialog,p=Object(n.useState)(lr[0].value),O=Object(rt.a)(p,2),m=O[0],x=O[1],y=Object(n.useState)(""),v=Object(rt.a)(y,2),S=v[0],w=v[1],D=Object(n.useCallback)((function(){try{o(),t(new ct("Refreshed initiated...","info"))}catch(e){}}),[o,t]),_=Object(n.useCallback)((function(){j(!0)}),[j]),I=Object(n.useCallback)((function(){b(!0)}),[b]),A=Object(n.useCallback)((function(e){r(e.target.checked)}),[r]),B=Object(n.useCallback)((function(){c(!0),x(lr[0].value)}),[c]),L=Object(n.useCallback)((function(){u(!0)}),[u]),N=Object(n.useCallback)((function(){h(!0)}),[h]),E=Object(n.useCallback)((function(){c(!1),x(l?jr[0].value:dr[0].value)}),[c,l]),T=Object(n.useCallback)((function(e){w(""),x(e.target.value)}),[x]),U=Object(n.useCallback)((function(e){var t=e.target.value.toUpperCase(),a=[];s.forEach((function(e){switch(m){case"collectionId":e._id.toUpperCase().indexOf(t)>-1&&a.push(e);break;case"collectionName":i?e.name.toUpperCase().indexOf(t)>-1&&a.push(e):e.collectionTemplate.name.toUpperCase().indexOf(t)>-1&&a.push(e);break;case"clientId":e.member._id.toUpperCase().indexOf(t)>-1&&a.push(e);break;case"clientName":e.member.info.name.toUpperCase().indexOf(t)>-1&&a.push(e);break;case"completeness":e.completeness.toUpperCase().indexOf(t)>-1&&a.push(e);break;case"numSurveyTemplates":e.surveyTemplates.length.toUpperCase().indexOf(t)>-1&&a.push(e);break;case"numMemberSurveys":e.memberSurveys.length.toUpperCase().indexOf(t)>-1&&a.push(e)}})),w(e.target.value),d(a)}),[s,d,m,i]);return Object(n.useEffect)((function(){w("")}),[s]),Object(n.useEffect)((function(){""===S&&d(s)}),[x,S]),Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(Ee.a,{mx:2,my:1,boxShadow:0,children:Object(g.jsxs)(Ne.a,{container:!0,direction:"column",justifyContent:"flex-start",alignItems:"stretch",spacing:1,children:[Object(g.jsxs)(Ne.a,{item:!0,xs:12,container:!0,direction:"row",justifyContent:"space-between",alignItems:"stretch",spacing:1,children:[Object(g.jsxs)(Ne.a,{item:!0,children:[Object(g.jsx)(f.a,{variant:"h6",component:"h6",children:"Manage"}),Object(g.jsx)(R.a,{})]}),Object(g.jsx)(Ne.a,{item:!0,xs:!0,children:Object(g.jsx)(Ee.a,{mx:3,my:1,boxShadow:0,children:Object(g.jsxs)(Ne.a,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"center",spacing:1,children:[Object(g.jsx)(Ne.a,{item:!0,children:Object(g.jsxs)(gn.a,{size:"small",variant:"contained",color:"secondary",children:[Object(g.jsx)(C.a,{startIcon:Object(g.jsx)(ir.a,{}),disabled:i,onClick:function(){B()},children:"Service Templates"}),Object(g.jsx)(C.a,{startIcon:Object(g.jsx)(sr.a,{}),disabled:!i,onClick:function(){E()},children:"Service Instances"})]})}),Object(g.jsx)(Ne.a,{item:!0,children:Object(g.jsx)(Qe.a,{placement:"bottom",title:"Refresh Online Collections",children:Object(g.jsx)(C.a,{size:"small",variant:"contained",color:"primary",startIcon:Object(g.jsx)(cn.a,{}),onClick:function(){D()},children:"Refresh"})})}),i?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(Ne.a,{item:!0,children:Object(g.jsx)(Qe.a,{placement:"bottom",title:"Create Service Template",children:Object(g.jsx)(C.a,{size:"small",variant:"contained",color:"primary",startIcon:Object(g.jsx)(nn.a,{}),onClick:function(){_()},children:"Start a Service Template"})})}),Object(g.jsx)(Ne.a,{item:!0,children:Object(g.jsx)(Qe.a,{placement:"bottom",title:"Assign Members to Service",children:Object(g.jsx)(C.a,{size:"small",variant:"contained",color:"secondary",disabled:!i,startIcon:Object(g.jsx)(nn.a,{}),onClick:function(){L()},children:"Assign Member"})})}),Object(g.jsx)(Ne.a,{item:!0,children:Object(g.jsx)(Qe.a,{placement:"bottom",title:"Assign Projects to Service",children:Object(g.jsx)(C.a,{size:"small",variant:"contained",color:"secondary",disabled:!i,startIcon:Object(g.jsx)(nn.a,{}),onClick:function(){N()},children:"Assign Project"})})})]}):Object(g.jsx)(Ne.a,{item:!0,children:Object(g.jsx)(Qe.a,{placement:"bottom",title:"Create a Member Service Instance",children:Object(g.jsx)(C.a,{size:"small",variant:"contained",color:"primary",startIcon:Object(g.jsx)(nn.a,{}),onClick:function(){I()},children:"Start a Service Instance"})})})]})})}),Object(g.jsx)(Ne.a,{item:!0,children:Object(g.jsx)(Qe.a,{placement:"left",title:"Use this page to manage your services.",children:Object(g.jsx)(ye.a,{children:Object(g.jsx)(tn.a,{})})})})]}),Object(g.jsx)(Ne.a,{item:!0,xs:12,container:!0,direction:"column",justifyContent:"flex-start",alignItems:"stretch",spacing:1,children:Object(g.jsx)(Ee.a,{mx:1,my:1,boxShadow:0,children:Object(g.jsx)(Te.a,{children:Object(g.jsx)(Ee.a,{mx:1,my:1,boxShadow:0,children:Object(g.jsxs)(Ne.a,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"center",spacing:3,children:[Object(g.jsx)(Ne.a,{item:!0,children:Object(g.jsx)(f.a,{color:"textPrimary",variant:"subtitle2",children:"Table Options"})}),Object(g.jsx)(Ne.a,{item:!0,children:Object(g.jsx)(Ka.a,{control:Object(g.jsx)(Xa.a,{checked:a,onChange:function(e){A(e)}}),label:"Compact",labelPlacement:"end"})}),Object(g.jsx)(Ne.a,{item:!0,children:Object(g.jsxs)(k.a,{id:"search-filter-select-label",variant:"filled",size:"small",style:{minWidth:140},disabled:!s,children:[Object(g.jsx)(P.a,{children:"Search Filter"}),Object(g.jsx)(Ve.a,{autoWidth:!0,labelId:"search-filter-select-label",value:m,onChange:function(e){T(e)},children:l?i?Object(g.jsx)(ge.a,{value:"",children:Object(g.jsx)("em",{children:"None"})}):jr.map((function(e){return Object(g.jsx)(ge.a,{value:e.value,children:Object(g.jsx)("em",{children:e.display})},e.key)})):i?lr.map((function(e){return Object(g.jsx)(ge.a,{value:e.value,children:Object(g.jsx)("em",{children:e.display})},e.key)})):dr.map((function(e){return Object(g.jsx)(ge.a,{value:e.value,children:Object(g.jsx)("em",{children:e.display})},e.key)}))})]})}),Object(g.jsx)(Ne.a,{item:!0,xs:!0,children:Object(g.jsx)(ma.a,{label:"Search",type:"search",size:"small",variant:"filled",fullWidth:!0,value:S,onChange:function(e){U(e)},disabled:!s})})]})})})})}),Object(g.jsx)(Ne.a,{item:!0,xs:12,container:!0,direction:"row",justifyContent:"flex-start",alignItems:"flex-start",spacing:1,children:Object(g.jsxs)(Ne.a,{item:!0,children:[Object(g.jsx)(f.a,{variant:"h6",component:"h6",children:"Table"}),Object(g.jsx)(R.a,{})]})})]})})})};br.defaultProps={setParentAlert:function(){},setIsDense:function(){},setIsTemplates:function(){},dataList:{},getParentData:function(){},userID:null,setSearchFilteredDataList:function(){},setCreateCollectionTemplateDialog:function(){},setCreateMemberCollectionDialog:function(){},setAssignMemberDialog:function(){},setAssignProjectDialog:function(){}};var ur=br,hr=Object(st.a)((function(e){return{root:{flexGrow:1,height:"100%"},rootGrid:{height:"100%"}}})),pr=210,Or=297,mr={inputProps:{min:1}},xr=function(e){hr();var t=e.getParentData,a=e.setParentAlert,r=e.selectedDataItemsList,i=e.exportCollectionDialog,c=e.setExportCollectionDialog,s=e.exportCollectionDialogExecuting,o=e.setExportCollectionDialogExecuting,l=e.isTemplates,d=Object(n.useState)(pr),j=Object(rt.a)(d,2),b=j[0],u=j[1],h=Object(n.useState)(Or),p=Object(rt.a)(h,2),O=p[0],m=p[1],x=Object(n.useState)(0),f=Object(rt.a)(x,2),y=f[0],v=f[1],w=Object(n.useCallback)((function(){if(!(b>0&&O>0&&r.length>0))throw new Error("Bad Export.");var e=new Array;r.forEach((function(t){l?t.surveyList.forEach((function(t){e.push(new Promise((function(e,a){var n="",r="{}";""!==t.surveyJSON&&(n=JSON.parse(t.surveyJSON)),Object.prototype.hasOwnProperty.call(t,"responseJSON")&&(r=JSON.parse(t.responseJSON));var i={format:[parseInt(b)||pr,parseInt(O)||Or],fontSize:14,margins:{left:10,right:10,top:18,bot:10}},c=new at.SurveyPDF(n,i);Object.prototype.hasOwnProperty.call(t,"responseJSON")&&(c.data=r),c.save((new Date).getTime().toString()+t._id+t.name+".pdf"),e()})).catch((function(e){console.log("Error: ",e)})))})):t.memberSurveyList.forEach((function(t){e.push(new Promise((function(e,a){var n="",r="{}";""!==t.surveyTemplate.surveyJSON&&(n=JSON.parse(t.surveyJSON)),Object.prototype.hasOwnProperty.call(t,"responseJSON")&&(r=JSON.parse(t.responseJSON));var i={format:[parseInt(b)||pr,parseInt(O)||Or],fontSize:14,margins:{left:10,right:10,top:18,bot:10}},c=new at.SurveyPDF(n,i);Object.prototype.hasOwnProperty.call(t,"responseJSON")&&(c.data=r),l?c.save((new Date).getTime().toString()+t._id+t.name+".pdf"):c.save((new Date).getTime().toString()+t._id+t.collectionTemplate.name+".pdf"),e()})).catch((function(e){console.log("Error: ",e)})))}))})),Promise.all(e).then((function(){a(new ct("Successfully exported ".concat(y," chapter").concat(y>1?"s":"","."),"success"))})).catch((function(){a(new ct("Unable export ".concat(y," chapter").concat(y>1?"s":"",". Please refresh and try again."),"error"))}))}),[b,O,r,y]),k=Object(n.useCallback)((function(){c(!1),u(pr),m(Or)}),[u,m,c]),D=Object(n.useCallback)((function(){try{o(!0),w(),o(!1),c(!1),u(pr),m(Or),t()}catch(e){a(new ct("Unable export collection(s). Please refresh and try again.","error"))}}),[u,m,w,r,o,c,a,t]),P=Object(n.useCallback)((function(e){""!==e.target.value&&u(parseInt(e.target.value))}),[u]),_=Object(n.useCallback)((function(e){""!==e.target.value&&m(parseInt(e.target.value))}),[m]);return Object(n.useEffect)((function(){tt.StylesManager.applyTheme("default")}),[]),Object(n.useEffect)((function(){r&&v((function(){var e=0;return l?r.forEach((function(t){e+=t.surveyList.length})):r.forEach((function(t){e+=t.memberSurveyList.length})),e}))}),[r]),Object(g.jsx)(g.Fragment,{children:i?Object(g.jsxs)(ja.a,{id:"export-collection-chapter-dialog",fullWidth:!0,maxWidth:"md",open:i,onClose:function(){k()},children:[Object(g.jsxs)(ba.a,{children:["Export collection",r.length>1?"s":""]}),Object(g.jsx)(ua.a,{children:s?Object(g.jsx)(S.a,{}):Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)(hn.a,{children:["Exporting ",r.length," collection",r.length>1?"s":"",", totalling ",y," chapter",y>1?"s":"",". Please enter valid pdf width and height values for your export."]}),Object(g.jsx)(Ee.a,{mx:1,my:1,boxShadow:0,children:Object(g.jsxs)(Ne.a,{container:!0,direction:"column",justifyContent:"flex-start",alignItems:"stretch",spacing:1,children:[Object(g.jsx)(Ne.a,{item:!0,xs:!0,children:Object(g.jsx)(ma.a,{label:"Pdf Width",type:"number",size:"small",variant:"filled",InputProps:mr,error:b<=0,fullWidth:!0,value:b,onChange:function(e){P(e)}})}),Object(g.jsx)(Ne.a,{item:!0,xs:!0,children:Object(g.jsx)(ma.a,{label:"Pdf Height",type:"number",size:"small",variant:"filled",InputProps:mr,error:O<=0,fullWidth:!0,value:O,onChange:function(e){_(e)}})})]})})]})}),Object(g.jsxs)(ha.a,{children:[Object(g.jsx)(C.a,{color:"primary",variant:"contained",onClick:function(){k()},disabled:s,children:"Cancel"}),Object(g.jsx)(C.a,{color:"primary",variant:"contained",startIcon:Object(g.jsx)(Ke.a,{}),onClick:function(){D()},disabled:s,children:"Export"})]})]}):null})};xr.defaultProps={getParentData:function(){},setParentAlert:function(){},selectedDataItemsList:{},exportCollectionDialog:{},setExportCollectionDialog:function(){},exportCollectionDialogExecuting:{},setExportCollectionDialogExecuting:function(){},isTemplates:!0};var fr=xr,gr=Object(st.a)((function(e){return{root:{flexGrow:1,height:"100%"},rootGrid:{height:"100%"}}})),yr=function(e){var t=gr(),a=e.appState,r=e.setParentAlert,i=e.getParentData,c=(e.userID,e.createCollectionTemplateDialog),s=e.setCreateCollectionTemplateDialog,o=e.createCollectionTemplateDialogExecuting,l=e.setCreateCollectionTemplateDialogExecuting,d=Object(n.useState)(null),j=Object(rt.a)(d,2),b=j[0],u=j[1],p=Object(n.useState)(""),O=Object(rt.a)(p,2),m=O[0],x=O[1],y=Object(n.useState)([]),v=Object(rt.a)(y,2),w=v[0],D=v[1],_=Object(n.useState)(""),I=Object(rt.a)(_,2),A=I[0],B=I[1],L=Object(n.useCallback)((function(){h("surveys/",a.token,(function(e,t){e?r(new ct("Unable to get public templates. Please refresh and try again.","error")):200===t.status?u(t.data.surveyList):r(new ct("Unable to get public templates. Please refresh and try again.","error"))}))}),[a]),N=Object(n.useCallback)((function(){if(A&&""!=A&&0!=w.length){var e=new Array;w.forEach((function(t){e.push(t._id)}));var t={name:A,surveyList:e,createdBy:a._id,modifiedBy:a._id};Re("collections/",a.token,t,(function(e,t){e?r(new ct("Unable create collection. Please refresh and try again.","error")):201===t.status?(i(),r(new ct("Collection created.","success"))):r(new ct("Unable create collection. Please refresh and try again.","error"))}))}else r(new ct("Unable create collection. Please make sure Template Name is and selected Chapter Templates are not empty.","error"))}),[a,A,w]),E=Object(n.useCallback)((function(e){B(e.target.value)}),[]),T=Object(n.useCallback)((function(e){x(e.target.value)}),[]),U=Object(n.useCallback)((function(e){if(m&&""!=m){var t=b.find((function(e){return e._id==m}));void 0!=t&&(D([].concat(Object(un.a)(w),[t])),x(""))}}),[m,w]),M=Object(n.useCallback)((function(e){var t=w;t.splice(w.findIndex((function(t){return t._id==e._id})),1),D(Object(un.a)(t))}),[w,D]),F=Object(n.useCallback)((function(){s(!1)}),[s]),W=Object(n.useCallback)((function(){try{l(!0),N(),l(!1),s(!1)}catch(e){}}),[l,N,s,r]);return Object(n.useEffect)((function(){L()}),[]),Object(g.jsx)(g.Fragment,{children:c?Object(g.jsxs)(ja.a,{id:"create-collection-template-dialog",fullWidth:!0,maxWidth:"md",open:c,onClose:function(){F()},children:[Object(g.jsx)(ba.a,{children:"Create Collection Template"}),Object(g.jsx)(ua.a,{children:o?Object(g.jsx)(S.a,{}):Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)(hn.a,{children:["Please select ",Object(g.jsx)("em",{children:Object(g.jsx)("u",{children:"Chapter Templates"})})," to be apart of this new ",Object(g.jsx)("em",{children:Object(g.jsx)("u",{children:"Collection Template"})}),"."]}),Object(g.jsx)(Ee.a,{mx:1,my:1,boxShadow:0,children:Object(g.jsx)(Ne.a,{container:!0,direction:"column",justifyContent:"flex-start",alignItems:"stretch",spacing:1,children:Object(g.jsx)(Ne.a,{item:!0,children:Object(g.jsx)(ma.a,{label:"Collection Name",size:"small",variant:"filled",error:""===A,fullWidth:!0,value:A,onChange:function(e){E(e)}})})})}),Object(g.jsx)(Ee.a,{mx:1,my:1,boxShadow:0,children:Object(g.jsxs)(Ne.a,{container:!0,direction:"column",justifyContent:"flex-start",alignItems:"stretch",spacing:1,children:[Object(g.jsx)(Ne.a,{item:!0,xs:!0,container:!0,direction:"row",justifyContent:"space-between",alignItems:"center",spacing:1,children:b?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(Ne.a,{item:!0,xs:11,children:Object(g.jsxs)(k.a,{id:"survey-templates-options",variant:"filled",size:"small",fullWidth:!0,disabled:!b,children:[Object(g.jsx)(P.a,{children:"Survey Templates"}),Object(g.jsxs)(Ve.a,{fullWidth:!0,labelId:"survey-templates-options-label",value:m,onChange:function(e){T(e)},children:[Object(g.jsx)(ge.a,{value:"",children:Object(g.jsx)("em",{children:"None"})}),b.map((function(e,t){return Object(g.jsx)(ge.a,{value:e._id,disabled:-1!=w.findIndex((function(t){return t._id==e._id})),children:Object(g.jsx)("em",{children:e.name})},"SelectOption".concat(e._id))}))]})]})}),Object(g.jsx)(Ne.a,{item:!0,xs:1,children:Object(g.jsx)(ye.a,{variant:"outlined",size:"medium",color:"inherit",onClick:function(){U()},disabled:""==m,children:Object(g.jsx)(Ca.a,{})})})]}):Object(g.jsx)(S.a,{})}),Object(g.jsx)(Ne.a,{item:!0,xs:!0,children:w?Object(g.jsxs)(Q.a,{in:w.length>0,children:[Object(g.jsxs)(f.a,{component:"div",variant:"body2",color:"textSecondary",gutterBottom:!0,children:[Object(g.jsx)("em",{children:"The following selected chapter templates"})," ",Object(g.jsx)("u",{children:"to be added:"})]}),Object(g.jsx)(f.a,{component:"div",variant:"body2",color:"primary",gutterBottom:!0,children:Object(g.jsx)("ol",{children:w.map((function(e,a){return Object(g.jsxs)("li",{children:[e.name,Object(g.jsx)(ye.a,{"aria-label":"delete",className:t.margin,size:"small",onClick:function(e){M(e)},children:Object(g.jsx)(On.a,{fontSize:"inherit"})})]},"".concat(e._id).concat(a))}))})})]}):Object(g.jsx)(g.Fragment,{})})]})})]})}),Object(g.jsxs)(ha.a,{children:[Object(g.jsx)(C.a,{color:"primary",variant:"contained",onClick:function(){F()},disabled:o,children:"Cancel"}),Object(g.jsx)(C.a,{color:"primary",variant:"contained",startIcon:Object(g.jsx)(nn.a,{}),onClick:function(){W()},disabled:o||0==w.length||""==A,children:"Create"})]})]}):null})};yr.defaultProps={appState:{},setParentAlert:function(){},getParentData:function(){},userID:null,setCreateCollectionTemplateDialog:function(){},setCreateCollectionTemplateDialogExecuting:function(){}};var vr=yr,Cr=Object(st.a)((function(e){return{root:{flexGrow:1,height:"100%"}}})),Sr=function(e){Cr();var t=e.appState,a=e.getParentData,r=e.setParentAlert,i=e.deleteCollectionDialog,c=e.setDeleteCollectionDialog,s=e.deleteCollectionDialogExecuting,o=e.setDeleteCollectionDialogExecuting,l=e.selectedDataItemsList,d=e.setSelectedDataItemsList,j=e.isTemplates,b=Object(n.useCallback)((function(){l?l.forEach((function(e){Bn("collections/"+e._id,t.token,(function(e,t){e?(c(!1),r(new ct("Unable to delete collection(s). Please try again.","error"))):200===t.status?(a(),r(new ct("Successfully deleted collection(s). You can continue working.","success"))):(c(!1),r(new ct("Unable to delete collection(s). Please try again.","error")))}))})):(c(!1),r(new ct("Unable to delete collection(s). Please try again.","error")))}),[t,l,c,r,a]),u=Object(n.useCallback)((function(){l?l.forEach((function(e){Bn("membercollections/"+e._id,t.token,(function(e,t){e?(c(!1),r(new ct("Unable to delete Member collection(s). Please try again.","error"))):200===t.status?(a(),r(new ct("Successfully deleted Member collection(s). You can continue working.","success"))):(c(!1),r(new ct("Unable to delete Member collection(s). Please try again.","error")))}))})):(c(!1),r(new ct("Unable to delete Member collection(s). Please try again.","error")))}),[t,l,c,r,a]),h=Object(n.useCallback)((function(){c(!1)}),[c]),p=Object(n.useCallback)((function(){try{o(!0),j?b():u(),o(!1),c(!1),d([])}catch(e){}}),[j,o,b,u,d,c]);return Object(g.jsx)(g.Fragment,{children:l?Object(g.jsxs)(ja.a,{id:"delete-collection-dialog",fullWidth:!0,maxWidth:"md",open:i,onClose:function(){h()},children:[Object(g.jsxs)(ba.a,{children:["Delete collection",1===l.length?null:"s"]}),Object(g.jsx)(ua.a,{children:s?Object(g.jsx)(S.a,{}):Object(g.jsx)(hn.a,{children:1===l.length?Object(g.jsx)(g.Fragment,{children:"Are you sure you would like to delete the collection?"}):Object(g.jsx)(g.Fragment,{children:"Are you sure you would like to delete ".concat(l.length," collections?")})})}),Object(g.jsxs)(ha.a,{children:[Object(g.jsx)(C.a,{color:"primary",variant:"contained",onClick:function(){h()},disabled:s,children:"Cancel"}),Object(g.jsx)(C.a,{color:"primary",variant:"contained",startIcon:Object(g.jsx)(Fa.a,{}),onClick:function(){p()},disabled:s,children:"Delete"})]})]}):null})};Sr.defaultProps={appState:{},getParentData:function(){},setParentAlert:function(){},deleteCollectionDialog:{},setDeleteCollectionDialog:function(){},deleteCollectionDialogExecuting:{},setDeleteCollectionDialogExecuting:function(){},selectedDataItemsList:{},setSelectedDataItemsList:function(){},isTemplates:!0};var wr=Sr,kr=Object(st.a)((function(e){return{root:{flexGrow:1,height:"100%"},rootGrid:{height:"100%"}}})),Dr=function(e){kr();var t=e.appState,a=e.userID,r=e.setParentAlert,i=e.panelId,c=e.panelIndex,s=e.userOriginal,o=Object(n.useState)(!0),l=Object(rt.a)(o,2),d=l[0],j=l[1],b=Object(n.useState)(null),u=Object(rt.a)(b,2),p=u[0],O=u[1],m=Object(n.useState)(null),x=Object(rt.a)(m,2),y=x[0],v=x[1],C=Object(n.useState)(null),w=Object(rt.a)(C,2),k=w[0],D=w[1],P=Object(n.useState)(!1),_=Object(rt.a)(P,2),I=_[0],A=_[1],B=Object(n.useState)(!1),L=Object(rt.a)(B,2),N=L[0],E=L[1],T=Object(n.useState)(!1),U=Object(rt.a)(T,2),M=U[0],F=U[1],W=Object(n.useState)(!1),z=Object(rt.a)(W,2),V=z[0],H=z[1],J=Object(n.useState)(!1),Y=Object(rt.a)(J,2),G=Y[0],q=Y[1],$=Object(n.useState)(!1),Z=Object(rt.a)($,2),K=Z[0],X=Z[1],ee=Object(n.useCallback)((function(e){var t=new Array;e&&Array.isArray(e)&&e.forEach((function(e){t.push({_id:e._id,patientName:e.patientName,patientId:e.patientId,chapterTemplates:e.chapterTemplates,memberChapters:e.memberChapters,overallCompleteness:e.overallCompleteness,createdBy:e.createdBy,createdAt:e.updatedAt,modifiedBy:e.modifiedBy,updatedAt:e.updatedAt})})),O([].concat(t)),v([].concat(t)),D([])}),[]),te=Object(n.useCallback)((function(){null!=a?h("collections/patient/"+a,t.token,(function(e,t){e?r(new ct("Unable to retrieve user Collections. Please refresh and try again.","error")):200===t.status||304===t.status?ee(t.data.collections):r(new ct("Unable to retrieve user Collections. Please refresh and try again.","error"))})):r(new ct("Unable to retrieve user Collections. Please refresh and try again.","error"))}),[a,t,ee]);return Object(n.useEffect)((function(){v(p),D([])}),[p]),Object(n.useEffect)((function(){c!==i?(O(null),v(null),D(null)):a&&te()}),[c,i,a,te]),null!=s?Object(g.jsxs)("div",{role:"tabpanel",hidden:c!==i,id:"Panel-".concat(i),children:[Object(g.jsx)(Q.a,{in:c==i,children:p?Object(g.jsxs)(Ne.a,{container:!0,direction:"column",justifyContent:"flex-start",alignItems:"stretch",spacing:1,children:[Object(g.jsxs)(Ne.a,{item:!0,xs:12,container:!0,direction:"row",justifyContent:"space-between",alignItems:"stretch",spacing:1,children:[Object(g.jsxs)(Ne.a,{item:!0,children:[Object(g.jsx)(f.a,{variant:"h6",component:"h6",children:"My Collections"}),Object(g.jsx)(R.a,{})]}),Object(g.jsx)(Ne.a,{item:!0,xs:!0,children:Object(g.jsx)(Ee.a,{mx:3,my:1,boxShadow:0,children:Object(g.jsx)(Ne.a,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"center",spacing:1})})})]}),Object(g.jsx)(Ne.a,{item:!0,xs:12,children:Object(g.jsx)(Ee.a,{mx:1,my:1,boxShadow:0,children:Object(g.jsx)(Te.a,{raised:!0,children:Object(g.jsx)(Ne.a,{container:!0,direction:"column",justifyContent:"flex-start",alignItems:"stretch",spacing:0,children:p&&y&&k?Object(g.jsxs)(Ne.a,{item:!0,xs:12,children:[Object(g.jsx)(ur,{isDense:d,setIsDense:j,dataList:p,getParentData:te,userID:a,setSearchFilteredDataList:v,setCreateCollectionDialog:A,setParentAlert:r}),Object(g.jsx)(nr,{appState:t,isDense:d,userID:a,searchFilteredDataList:y,selectedDataItemsList:k,setSelectedDataItemsList:D,setParentDeleteCollectionDialog:q,setParentExportCollectionDialog:F})]}):Object(g.jsx)(Ne.a,{item:!0,xs:12,container:!0,direction:"row",justifyContent:"center",alignItems:"stretch",spacing:1,children:Object(g.jsx)(Ne.a,{item:!0,children:Object(g.jsx)(Ee.a,{mx:1,my:1,boxShadow:0,children:Object(g.jsx)(S.a,{})})})})})})})})]}):Object(g.jsx)(Ne.a,{container:!0,direction:"column",justifyContent:"flex-start",alignItems:"stretch",spacing:1,children:Object(g.jsx)(Ne.a,{item:!0,xs:12,container:!0,direction:"row",justifyContent:"center",alignItems:"stretch",spacing:1,children:Object(g.jsx)(Ne.a,{item:!0,children:Object(g.jsx)(Ee.a,{mx:1,my:1,boxShadow:0,children:Object(g.jsx)(S.a,{})})})})})}),Object(g.jsx)(vr,{createCollectionDialog:I,setCreateCollectionDialog:A,createCollectionDialogExecuting:N,setCreateCollectionDialogExecuting:E,setParentAlert:r,getParentData:te,userID:a,appState:t}),Object(g.jsx)(fr,{exportCollectionDialog:M,setExportCollectionDialog:F,exportCollectionDialogExecuting:V,setExportCollectionDialogExecuting:H,selectedDataItemsList:k,setParentAlert:r,getParentData:te}),Object(g.jsx)(wr,{deleteCollectionDialog:G,setDeleteCollectionDialog:q,deleteCollectionDialogExecuting:K,setDeleteCollectionDialogExecuting:X,selectedDataItemsList:k,setSelectedDataItemsList:D,setParentAlert:r,getParentData:te,appState:t})]}):Object(g.jsx)(g.Fragment,{})};Dr.defaultProps={appState:{},userID:null,setParentAlert:function(){},panelId:null,panelIndex:null,userOriginal:{}};var Pr=a(383),_r=a(382),Ir=a(149),Ar=a.n(Ir),Br=Object(st.a)((function(e){return{root:{flexGrow:1,height:"100%"},rootGrid:{height:"100%"}}})),Lr="/administration",Nr="/staff",Er=function(e){Br();var t=e.appState,a=(e.userID,e.setParentAlert,e.getParentInfo,e.panelId),r=e.panelIndex,i=e.userOriginal,c=Object(n.useState)(null),s=Object(rt.a)(c,2),o=s[0],l=s[1],d=Object(n.useCallback)((function(e){i&&l(Object(U.a)({},i))}),[i]);return Object(n.useEffect)((function(){l(i)}),[i]),Object(n.useEffect)((function(){r!==a&&d()}),[r,a,d]),null!=i?Object(g.jsx)("div",{role:"tabpanel",hidden:r!==a,id:"Panel-".concat(a),children:Object(g.jsx)(Q.a,{in:r==a,children:o?Object(g.jsxs)(Ne.a,{container:!0,direction:"column",justifyContent:"flex-start",alignItems:"stretch",spacing:1,children:[Object(g.jsxs)(Ne.a,{item:!0,xs:12,container:!0,direction:"row",justifyContent:"space-between",alignItems:"stretch",spacing:1,children:[Object(g.jsxs)(Ne.a,{item:!0,children:[Object(g.jsx)(f.a,{variant:"h6",component:"h6",children:"My Community"}),Object(g.jsx)(R.a,{})]}),Object(g.jsx)(Ne.a,{item:!0,xs:!0,children:Object(g.jsx)(Ee.a,{mx:3,my:1,boxShadow:0,children:Object(g.jsx)(Ne.a,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"center",spacing:1})})}),Object(g.jsx)(Ne.a,{item:!0,children:Object(g.jsx)(Qe.a,{placement:"left",title:"This page views user information.",children:Object(g.jsx)(ye.a,{children:Object(g.jsx)(tn.a,{})})})})]}),Object(g.jsx)(Ne.a,{item:!0,xs:12,children:Object(g.jsx)(Ee.a,{mx:1,my:1,boxShadow:0,children:Object(g.jsx)(Ne.a,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"stretch",spacing:3,children:"Patient"===o.role?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)(Ne.a,{item:!0,xs:12,children:[Object(g.jsx)(f.a,{variant:"subtitle2",component:"h6",color:"textPrimary",children:"Assigned Helpers"}),Object(g.jsx)(R.a,{light:!0})]}),Object(g.jsx)(Ne.a,{item:!0,children:Object(g.jsx)(C.a,{size:"small",variant:"outlined",color:"primary",startIcon:Object(g.jsx)(Ar.a,{}),disabled:!0,children:"remove"})}),Object(g.jsx)(Ne.a,{item:!0,children:Object(g.jsx)(C.a,{size:"small",variant:"outlined",color:"secondary",startIcon:Object(g.jsx)(Ar.a,{}),disabled:!0,children:"assign"})}),Object(g.jsx)(Ne.a,{item:!0,xs:12,container:!0,direction:"row",justifyContent:"space-between",alignItems:"stretch",spacing:1,children:Object(g.jsx)(Ne.a,{item:!0,xs:!0,children:o.workers?Object(g.jsx)(q.a,{dense:!1,children:o.workers.map((function(e,a){var n="Admin"===t.role?Lr:"";return n="Coordinator"===t.role?Nr:n,n="Volunteer"===t.role?Nr:n,Object(g.jsxs)($.a,{dense:!1,divider:!0,children:[Object(g.jsx)(_r.a,{children:Object(g.jsx)(v.a,{children:Object(g.jsx)(De.a,{})})}),Object(g.jsx)(K.a,{primary:e.info?e.info.name:"",secondary:e.role?e.role:""}),Object(g.jsx)(Pr.a,{children:Object(g.jsx)(ye.a,{edge:"end","aria-label":"edit",size:"small",disabled:!0,component:M.b,to:n+"/users/view/"+e._id,children:Object(g.jsx)(ea.a,{})})})]},"helper".concat(a,"-").concat(e._id))}))}):Object(g.jsx)(f.a,{variant:"body2",component:"h6",color:"textPrimary",children:"None available"})})})]}):Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)(Ne.a,{item:!0,xs:12,children:[Object(g.jsx)(f.a,{variant:"subtitle2",component:"h6",color:"textPrimary",children:"Assigned Clients"}),Object(g.jsx)(R.a,{light:!0})]}),Object(g.jsx)(Ne.a,{item:!0,children:Object(g.jsx)(C.a,{size:"small",variant:"outlined",color:"primary",startIcon:Object(g.jsx)(Ar.a,{}),disabled:!0,children:"remove"})}),Object(g.jsx)(Ne.a,{item:!0,children:Object(g.jsx)(C.a,{size:"small",variant:"outlined",color:"secondary",startIcon:Object(g.jsx)(Ar.a,{}),disabled:!0,children:"assign"})}),Object(g.jsx)(Ne.a,{item:!0,xs:!0}),Object(g.jsx)(Ne.a,{item:!0,xs:12,container:!0,direction:"row",justifyContent:"space-between",alignItems:"stretch",spacing:1,children:Object(g.jsx)(Ne.a,{item:!0,xs:!0,children:o.patients?Object(g.jsx)(q.a,{dense:!1,children:o.patients.map((function(e,a){var n="Admin"===t.role?Lr:"";return n="Coordinator"===t.role?Nr:n,n="Volunteer"===t.role?Nr:n,Object(g.jsxs)($.a,{dense:!1,divider:!0,children:[Object(g.jsx)(_r.a,{children:Object(g.jsx)(v.a,{children:Object(g.jsx)(De.a,{})})}),Object(g.jsx)(K.a,{primary:e.info?e.info.name:"",secondary:e.role?e.role:""}),Object(g.jsx)(Pr.a,{children:Object(g.jsx)(ye.a,{edge:"end","aria-label":"edit",size:"small",disabled:e._id===t._id,component:M.b,to:n+"/users/view/"+e._id,children:Object(g.jsx)(ea.a,{})})})]},"client".concat(a,"-").concat(e._id))}))}):Object(g.jsx)(f.a,{variant:"body2",component:"h6",color:"textPrimary",children:"None available"})})})]})})})})]}):Object(g.jsx)(Ne.a,{container:!0,direction:"column",justifyContent:"flex-start",alignItems:"stretch",spacing:1,children:Object(g.jsx)(Ne.a,{item:!0,xs:12,container:!0,direction:"row",justifyContent:"center",alignItems:"stretch",spacing:1,children:Object(g.jsx)(Ne.a,{item:!0,children:Object(g.jsx)(Ee.a,{mx:1,my:1,boxShadow:0,children:Object(g.jsx)(S.a,{})})})})})})}):Object(g.jsx)(g.Fragment,{})};Er.defaultProps={appState:{},userID:null,setParentAlert:function(){},getParentInfo:function(){},panelId:null,panelIndex:null,userOriginal:{}};var Tr=Er;var Ur=function(e,t,a,n){b()({method:"put",url:"/api/"+e,headers:{"Content-Type":"application/json",Authorization:"Bearer "+t},data:JSON.stringify(a),timeout:5e3}).then((function(e){n(null,e)})).catch((function(e){n(e,null)}))},Mr=a(237),Fr=a.n(Mr),Wr=a(238),zr=a.n(Wr),Rr=a(384),Vr=Object(st.a)((function(e){return{root:{flexGrow:1,height:"100%"},rootGrid:{height:"100%"}}})),Qr=function(e){var t=Vr(),a=e.appState,r=e.userID,i=e.setParentAlert,c=(e.getParentInfo,e.panelId),s=e.panelIndex,o=e.userOriginal,l=Object(n.useState)([]),d=Object(rt.a)(l,2),j=d[0],b=d[1],u=Object(n.useState)([]),p=Object(rt.a)(u,2),O=p[0],m=p[1],x=Object(n.useState)(""),y=Object(rt.a)(x,2),v=y[0],w=y[1],D=Object(n.useState)(null),_=Object(rt.a)(D,2),I=_[0],A=_[1],B=Object(n.useState)([]),L=Object(rt.a)(B,2),N=L[0],E=(L[1],Object(n.useCallback)((function(e){var t={senderId:r,receiverId:O,message:v};console.log(t),null!=r&&Re("notes/",a.token,t,(function(e,t){e?i(new ct("Unable to save note. Please refresh and try again.","error")):200===t.status||304===t.status?(i(new ct("Successfully saved note.","success")),w(""),m("")):i(new ct("Unable to save note. Please refresh and try again.","error"))}))}),[w,v])),T=Object(n.useCallback)((function(e){w(""),m([])}),[]),U=Object(n.useCallback)((function(e){null!=r&&h("users/getAllUsers/"+r,a.token,(function(e,t){for(var a=[],n=0;n<t.data.user.patients.length;n++){var r={name:t.data.user.patients[n].info.name,id:t.data.user.patients[n]._id};a.push(r)}for(n=0;n<t.data.user.admins.length;n++){r={name:t.data.user.admins[n].info.name,id:t.data.user.admins[n]._id};a.push(r)}for(n=0;n<t.data.user.coordinators.length;n++){r={name:t.data.user.coordinators[n].info.name,id:t.data.user.coordinators[n]._id};a.push(r)}for(n=0;n<t.data.user.volunteers.length;n++){r={name:t.data.user.volunteers[n].info.name,id:t.data.user.volunteers[n]._id};a.push(r)}b(a)}))}),[]),M=Object(n.useCallback)((function(e){m(e.target.value)}),[m]),F=Object(n.useCallback)((function(e){for(var t=0;t<N.length;t++)e===N[t].id&&(N[t].id.status="read");Ur("notes/",a.token,{noteID:e},(function(e,t){}))}),[m,O]),W=function(e){var t=new Date(e);return z(t.getMonth())+" "+t.getDate()+" , "+t.getFullYear()+" "+t.getHours()+":"+t.getUTCMinutes()},z=function(e){return 0===e?"JAN":1===e?"FEB":2===e?"MAR":3===e?"APR":4===e?"MAY":5===e?"JUN":6===e?"JUL":7===e?"AUG":8===e?"SEP":9===e?"OCT":10===e?"NOV":11===e?"DEC":void 0},V=Object(n.useCallback)((function(e){null!=r&&h("notes/"+r,a.token,(function(e,t){if(null==e)for(var a=0;a<t.data.foundNotes.length;a++){var n=t.data.foundNotes[a];n.createdAt=W(n.createdAt),N.push(n)}}))}),[a]),H=N.map((function(e){var t=e._id;return Object(g.jsx)(g.Fragment,{children:Object(g.jsx)("div",{children:Object(g.jsx)(Te.a,{variant:"outlined",style:{marginTop:15},children:Object(g.jsx)(q.a,{subheader:Object(g.jsx)(Rr.a,{component:"div",id:"nested-list-subheader",children:e.senderId.info.name}),children:Object(g.jsxs)($.a,{children:[Object(g.jsx)(K.a,{primary:e.message,secondary:e.createdAt}),Object(g.jsx)(Pr.a,{children:Object(g.jsx)(ye.a,{edge:"end","aria-label":"edit",size:"small",onClick:function(){F(t)},children:"unread"==e.status?Object(g.jsx)(Fr.a,{}):Object(g.jsx)(zr.a,{})})})]},e._id)})})})})}));return Object(n.useEffect)((function(){A(o)}),[o]),Object(n.useEffect)((function(){U(),0==N.length&&V()}),[O,m]),null!=o?Object(g.jsx)("div",{role:"tabpanel",hidden:s!==c,id:"Panel-".concat(c),children:Object(g.jsx)(Q.a,{in:s==c,children:I?Object(g.jsxs)(Ne.a,{container:!0,direction:"column",justifyContent:"flex-start",alignItems:"stretch",spacing:1,children:[Object(g.jsxs)(Ne.a,{item:!0,xs:12,container:!0,direction:"row",justifyContent:"space-between",alignItems:"stretch",spacing:1,children:[Object(g.jsxs)(Ne.a,{item:!0,children:[Object(g.jsx)(f.a,{variant:"h6",component:"h6",children:"Add Note"}),Object(g.jsx)(R.a,{})]}),Object(g.jsx)(Ne.a,{item:!0,children:Object(g.jsx)(Ee.a,{boxShadow:0,children:Object(g.jsx)(Ne.a,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"center",spacing:1,children:Object(g.jsx)(Ne.a,{item:!0,children:Object(g.jsx)(Qe.a,{placement:"left",title:"This allows sending notes.",children:Object(g.jsx)(ye.a,{children:Object(g.jsx)(tn.a,{})})})})})})}),Object(g.jsx)(Ne.a,{item:!0,xs:!0,children:Object(g.jsx)(Ee.a,{mx:3,my:1,boxShadow:0,children:Object(g.jsx)(Ne.a,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"center",spacing:1,children:Object(g.jsxs)(Ne.a,{item:!0,children:[Object(g.jsx)(C.a,{size:"small",variant:"outlined",color:"default",startIcon:Object(g.jsx)(cn.a,{}),onClick:function(){T()},children:"Reset"}),Object(g.jsx)(C.a,{size:"small",variant:"outlined",color:"secondary",startIcon:Object(g.jsx)(Wn.a,{}),onClick:function(){return E()},children:"Save"})]})})})}),Object(g.jsx)(Ne.a,{item:!0,xs:12,children:Object(g.jsx)(Ee.a,{mx:3,my:1,boxShadow:0,children:Object(g.jsx)(Ne.a,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"center",spacing:1,children:Object(g.jsx)(Ne.a,{item:!0,lg:8,children:Object(g.jsxs)(k.a,{fullWidth:!0,variant:"filled",size:"small",className:t.formControl,children:[Object(g.jsx)(P.a,{id:"select-label-Member",children:"Member"}),Object(g.jsx)(Ve.a,{className:t.selectEmpty,labelId:"select-label-Member",id:"select-user",fullWidth:!0,defaultValue:"",disabled:!j,onChange:function(e){M(e)},children:j.map((function(e,t){return Object(g.jsx)(ge.a,{value:e.id,children:Object(g.jsx)("em",{children:e.name})},e.id)}))})]})})})})}),Object(g.jsx)(Ne.a,{item:!0,xs:12,children:Object(g.jsx)(Ee.a,{mx:3,my:1,boxShadow:0,children:Object(g.jsx)(Ne.a,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"center",spacing:1,children:Object(g.jsx)(Ne.a,{item:!0,lg:8,children:Object(g.jsx)(ma.a,{id:"Note",multiline:!0,rows:5,variant:"outlined",placeholder:"Write your notes here...",fullWidth:!0,label:"Note",onChange:function(e){w(e.target.value)},value:v})})})})})]}),Object(g.jsxs)(Ne.a,{item:!0,xs:12,container:!0,direction:"row",justifyContent:"space-between",alignItems:"stretch",spacing:1,children:[Object(g.jsxs)(Ne.a,{item:!0,children:[Object(g.jsx)(f.a,{variant:"h6",component:"h6",children:"My Notes"}),Object(g.jsx)(R.a,{})]}),Object(g.jsx)(Ne.a,{item:!0,children:Object(g.jsx)(Qe.a,{placement:"left",title:"This allows all notes received for current user",children:Object(g.jsx)(ye.a,{children:Object(g.jsx)(tn.a,{})})})})]}),Object(g.jsx)(Ne.a,{item:!0,children:0!=N.length?H:"There are no notes available for you!"})]}):Object(g.jsx)(Ne.a,{container:!0,direction:"column",justifyContent:"flex-start",alignItems:"stretch",spacing:1,children:Object(g.jsx)(Ne.a,{item:!0,xs:12,container:!0,direction:"row",justifyContent:"center",alignItems:"stretch",spacing:1,children:Object(g.jsx)(Ne.a,{item:!0,children:Object(g.jsx)(Ee.a,{mx:1,my:1,boxShadow:0,children:Object(g.jsx)(S.a,{})})})})})})}):Object(g.jsx)(g.Fragment,{})};Qr.defaultProps={appState:{},userID:null,setParentAlert:function(){},getParentInfo:function(){},panelId:null,panelIndex:null,userOriginal:{}};var Hr=Qr,Jr=a(100),Yr=a.n(Jr),Gr=a(99),qr=a.n(Gr),$r=Object(st.a)((function(e){return{root:{flexGrow:1,height:"100%"},rootGrid:{height:"100%"}}})),Zr=/^\s*(?:\+?(\d{1,3}))?[-. (]*(\d{3})[-. )]*(\d{3})[-. ]*(\d{4})(?: *x(\d+))?\s*$/,Kr=/^.+$/,Xr=/^(\d{1,})[a-zA-Z0-9\s]+(\.)?$/,ei=/^[ABCEGHJ-NPRSTVXY]\d[ABCEGHJ-NPRSTV-Z][ -]?\d[ABCEGHJ-NPRSTV-Z]\d$/i,ti=function(e){$r();var t=e.appState,a=e.userID,r=e.setParentAlert,i=e.getParentInfo,c=e.panelId,s=e.panelIndex,o=e.userOriginal,l=Object(n.useState)(null),d=Object(rt.a)(l,2),j=d[0],b=d[1],u=Object(n.useState)(!1),h=Object(rt.a)(u,2),p=h[0],O=h[1],m=Object(n.useState)(!1),x=Object(rt.a)(m,2),y=x[0],v=x[1],w=Object(n.useState)(""),k=Object(rt.a)(w,2),D=(k[0],k[1]),P=Object(n.useState)(!1),_=Object(rt.a)(P,2),I=_[0],A=_[1],B=Object(n.useState)(""),L=Object(rt.a)(B,2),N=(L[0],L[1]),E=Object(n.useState)(!1),T=Object(rt.a)(E,2),M=T[0],F=T[1],W=Object(n.useState)(""),z=Object(rt.a)(W,2),V=z[0],H=z[1],J=Object(n.useState)(!1),Y=Object(rt.a)(J,2),G=Y[0],q=Y[1],$=Object(n.useState)(""),Z=Object(rt.a)($,2),K=Z[0],X=Z[1],ee=Object(n.useState)(""),te=Object(rt.a)(ee,2),ae=te[0],ne=te[1],re=Object(n.useState)(!1),ie=Object(rt.a)(re,2),ce=ie[0],se=ie[1],oe=Object(n.useState)(""),le=Object(rt.a)(oe,2),de=le[0],je=le[1],be=Object(n.useState)(!1),ue=Object(rt.a)(be,2),he=ue[0],pe=ue[1],Oe=Object(n.useState)(""),me=Object(rt.a)(Oe,2),xe=me[0],fe=me[1],ve=Object(n.useState)(!1),Ce=Object(rt.a)(ve,2),Se=Ce[0],we=Ce[1],ke=Object(n.useState)(!1),De=Object(rt.a)(ke,2),Pe=De[0],_e=De[1],Ie=Object(n.useState)(""),Ae=Object(rt.a)(Ie,2),Be=Ae[0],Le=Ae[1],Te=Object(n.useState)(!1),Ue=Object(rt.a)(Te,2),Me=Ue[0],Fe=Ue[1],We=Object(n.useState)(""),ze=Object(rt.a)(We,2),Re=ze[0],Ve=ze[1],He=Object(n.useState)(!1),Je=Object(rt.a)(He,2),Ye=Je[0],Ge=Je[1],$e=Object(n.useState)(""),Ze=Object(rt.a)($e,2),Ke=Ze[0],Xe=Ze[1],et=Object(n.useState)(!1),tt=Object(rt.a)(et,2),at=tt[0],nt=tt[1],it=Object(n.useState)(""),st=Object(rt.a)(it,2),ot=st[0],lt=st[1],dt=Object(n.useState)(!1),jt=Object(rt.a)(dt,2),bt=jt[0],ut=jt[1],ht=Object(n.useState)(""),pt=Object(rt.a)(ht,2),Ot=pt[0],mt=pt[1],xt=Object(n.useState)(!1),ft=Object(rt.a)(xt,2),gt=ft[0],yt=ft[1],vt=Object(n.useState)(""),Ct=Object(rt.a)(vt,2),St=Ct[0],wt=Ct[1],kt=Object(n.useState)(!1),Dt=Object(rt.a)(kt,2),Pt=Dt[0],_t=Dt[1],It=Object(n.useCallback)((function(e){O(!p),o&&(b(Object(U.a)({},o)),D(o.info.name),A(!1),N(o.info.dateOfBirth),F(!1),"Male"!=o.info.gender&&"Female"!=o.info.gender?(H("NonBinary"),ne(!0),o&&o.info&&(X(o.info.gender),0===o.info.gender.length?se(!0):se(!1))):(H(o.info.gender),ne(!1),X(""),se(!1)),q(!1),"English"!=o.info.language?(je("Other"),fe(o.info.language),0===o.info.language.length?_e(!0):_e(!1)):(je(o.info.language),we(!1),fe(""),_e(!1)),pe(!1),o.info&&o.info.phone?Le(o.info.phone):Le(""),Fe(!1),o.info&&o.info.currentAddress&&o.info.currentAddress.street?Ve(o.info.currentAddress.street):Ve(""),Ge(!1),o.info&&o.info.currentAddress&&o.info.currentAddress.city?lt(o.info.currentAddress.city):lt(""),ut(!1),o.info&&o.info.currentAddress&&o.info.currentAddress.code?Xe(o.info.currentAddress.code):Xe(""),nt(!1),o.info&&o.info.currentAddress&&o.info.currentAddress.state?mt(o.info.currentAddress.state):mt(""),yt(!1),o.info&&o.info.currentAddress&&o.info.currentAddress.country?wt(o.info.currentAddress.country):wt(""),_t(!1))}),[p,O,o,b,D,A,N,F,H,q,ne,X,se,je,pe,we,fe,_e,Le,Fe,Ve,Ge,Xe,nt,lt,ut,mt,yt,wt,_t]),At=Object(n.useCallback)((function(e){0===e.target.value.length&&A(!0),b(Object(U.a)(Object(U.a)({},j),{},{info:Object(U.a)(Object(U.a)({},j.info),{},{name:e.target.value})}))}),[j,b,A]),Bt=Object(n.useCallback)((function(e){H(e.target.value)}),[H]),Lt=Object(n.useCallback)((function(e){Kr.test(String(e.target.value))?se(!1):se(!0),X(e.target.value)}),[Kr,X,se]),Nt=Object(n.useCallback)((function(e){b(Object(U.a)(Object(U.a)({},j),{},{info:Object(U.a)(Object(U.a)({},j.info),{},{dateOfBirth:new Date(e.target.value)})}))}),[j,b,F]),Et=Object(n.useCallback)((function(e){je(e.target.value)}),[je]),Tt=Object(n.useCallback)((function(e){Kr.test(String(e.target.value))?_e(!1):_e(!0),fe(e.target.value)}),[Kr,fe,_e]),Ut=Object(n.useCallback)((function(e){Zr.test(String(e.target.value))||0===e.target.value.length?Fe(!1):Fe(!0),Le(e.target.value)}),[Le,Fe,Zr]),Mt=Object(n.useCallback)((function(e){Xr.test(String(e.target.value))||0===e.target.value.length?Ge(!1):Ge(!0),Ve(e.target.value)}),[Ve,Ge,Xr]),Ft=Object(n.useCallback)((function(e){lt(e.target.value)}),[lt]),Wt=Object(n.useCallback)((function(e){mt(e.target.value)}),[mt]),zt=Object(n.useCallback)((function(e){ei.test(String(e.target.value))||0===e.target.value.length?nt(!1):nt(!0),Xe(e.target.value)}),[Xe,nt,ei]),Rt=(Object(n.useCallback)((function(e){wt(e.target.value)}),[wt]),Object(n.useCallback)((function(e){o&&(b(Object(U.a)({},o)),D(o.info.name),A(!1),N(o.info.dateOfBirth),F(!1),"Male"!=o.info.gender&&"Female"!=o.info.gender?(H("NonBinary"),ne(!0),o&&o.info&&(X(o.info.gender),0===o.info.gender.length?se(!0):se(!1))):(H(o.info.gender),ne(!1),X(""),se(!1)),q(!1),"English"!=o.info.language?(je("Other"),fe(o.info.language),0===o.info.language.length?_e(!0):_e(!1)):(je(o.info.language),we(!1),fe(""),_e(!1)),pe(!1),o.info&&o.info.phone?Le(o.info.phone):Le(""),Fe(!1),o.info&&o.info.currentAddress&&o.info.currentAddress.street?Ve(o.info.currentAddress.street):Ve(""),Ge(!1),o.info&&o.info.currentAddress&&o.info.currentAddress.city?lt(o.info.currentAddress.city):lt(""),ut(!1),o.info&&o.info.currentAddress&&o.info.currentAddress.code?Xe(o.info.currentAddress.code):Xe(""),nt(!1),o.info&&o.info.currentAddress&&o.info.currentAddress.state?mt(o.info.currentAddress.state):mt(""),yt(!1),o.info&&o.info.currentAddress&&o.info.currentAddress.country?wt(o.info.currentAddress.country):wt(""),_t(!1))}),[o,b,D,A,N,F,H,q,ne,X,se,je,pe,we,fe,_e,Le,Fe,Ve,Ge,Xe,nt,lt,ut,mt,yt,wt,_t])),Vt=Object(n.useCallback)((function(e){if(I||G||ce||M||he||Pe||Me||Ye||bt||at||gt||Pt)r(new ct("One or more fields have errors. Please correct them and try again.","error"));else{var n={info:{name:j.info.name,dateOfBirth:j.info.dateOfBirth,currentAddress:{_id:j.info.currentAddress._id,country:j.info.currentAddress.country}}};ae?K!==j.info.gender&&(n=Object(U.a)(Object(U.a)({},n),{},{info:Object(U.a)(Object(U.a)({},n.info),{},{gender:K})})):V!==j.info.gender&&(n=Object(U.a)(Object(U.a)({},n),{},{info:Object(U.a)(Object(U.a)({},n.info),{},{gender:V})})),Se?xe!==j.info.language&&(n=Object(U.a)(Object(U.a)({},n),{},{info:Object(U.a)(Object(U.a)({},n.info),{},{language:xe})})):de!==j.info.language&&(n=Object(U.a)(Object(U.a)({},n),{},{info:Object(U.a)(Object(U.a)({},n.info),{},{language:de})})),Be!==j.info.phone&&(n=Object(U.a)(Object(U.a)({},n),{},{info:Object(U.a)(Object(U.a)({},n.info),{},{phone:Be})})),Re!==j.info.currentAddress.street&&(n=Object(U.a)(Object(U.a)({},n),{},{info:Object(U.a)(Object(U.a)({},n.info),{},{currentAddress:Object(U.a)(Object(U.a)({},n.info.currentAddress),{},{street:Re})})})),ot!==j.info.currentAddress.city&&(n=Object(U.a)(Object(U.a)({},n),{},{info:Object(U.a)(Object(U.a)({},n.info),{},{currentAddress:Object(U.a)(Object(U.a)({},n.info.currentAddress),{},{city:ot})})})),Ke!==j.info.currentAddress.code&&(n=Object(U.a)(Object(U.a)({},n),{},{info:Object(U.a)(Object(U.a)({},n.info),{},{currentAddress:Object(U.a)(Object(U.a)({},n.info.currentAddress),{},{code:Ke})})})),Ot!==j.info.currentAddress.state&&(n=Object(U.a)(Object(U.a)({},n),{},{info:Object(U.a)(Object(U.a)({},n.info),{},{currentAddress:Object(U.a)(Object(U.a)({},n.info.currentAddress),{},{state:Ot})})})),null!=a?qe("users/"+a,t.token,n,(function(e,t){e?r(new ct("Unable to save changes to User. Please refresh and try again.","error")):200===t.status||304===t.status?(i(),Rt(),r(new ct("Successfully saved changes to user.","success"))):r(new ct("Unable to save changes to User. Please refresh and try again.","error"))})):r(new ct("Unable to save changes to User. Please refresh and try again.","error"))}}),[t,a,j,r,i,I,G,ce,M,he,Pe,Me,Ye,bt,at,gt,Pt,V,ae,K,de,Se,xe,Be,Re,ot,Ke,Ot]);return Object(n.useEffect)((function(){b(o),o&&("Male"!=o.info.gender&&"Female"!=o.info.gender?H("NonBinary"):H(o.info.gender),q(!1),"English"!=o.info.language?je("Other"):je(o.info.language),pe(!1),o.info&&o.info.phone?Le(o.info.phone):Le(""),Fe(!1),o.info&&o.info.currentAddress&&o.info.currentAddress.street?Ve(o.info.currentAddress.street):Ve(""),Ge(!1),o.info&&o.info.currentAddress&&o.info.currentAddress.city?lt(o.info.currentAddress.city):lt(""),ut(!1),o.info&&o.info.currentAddress&&o.info.currentAddress.code?Xe(o.info.currentAddress.code):Xe(""),nt(!1),o.info&&o.info.currentAddress&&o.info.currentAddress.state?mt(o.info.currentAddress.state):mt(""),yt(!1),o.info&&o.info.currentAddress&&o.info.currentAddress.country?wt(o.info.currentAddress.country):wt(""),_t(!1))}),[o]),Object(n.useEffect)((function(){s!==c&&Rt()}),[s,c,Rt]),Object(n.useEffect)((function(){JSON.stringify(j)===JSON.stringify(o)?v(!1):v(!0)}),[o,j,v]),Object(n.useEffect)((function(){"NonBinary"==V?(ne(!0),o&&o.info&&(X(o.info.gender),0===o.info.gender.length?se(!0):se(!1))):(ne(!1),X(""),se(!1))}),[o,V,ne,X,se]),Object(n.useEffect)((function(){"Other"==de?(we(!0),o&&o.info&&(fe(o.info.language),0===o.info.language.length?_e(!0):_e(!1))):(we(!1),fe(""),_e(!1))}),[o,de,we,fe,_e]),Object(n.useEffect)((function(){j&&(new Date(j.info.dateOfBirth).toISOString().split("T")[0]>(new Date).toISOString().split("T")[0]?F(!0):F(!1))}),[j,F]),Object(n.useEffect)((function(){o&&o.info&&(ae?K!==o.info.gender?v(!0):v(!1):V!==o.info.gender?v(!0):v(!1))}),[o,V,ae,K,v]),Object(n.useEffect)((function(){o&&o.info&&(Se?Se&&xe!==o.info.language?v(!0):v(!1):de!==o.info.language?v(!0):v(!1))}),[o,de,Se,xe,v]),Object(n.useEffect)((function(){o&&o.info&&(Be!==o.info.phone?0===Be.length&&void 0===o.info.phone?v(!1):v(!0):v(!1))}),[Be,o,v]),Object(n.useEffect)((function(){o&&o.info&&o.info.currentAddress&&(Re!==o.info.currentAddress.street?0===Re.length&&void 0===o.info.currentAddress.street?v(!1):v(!0):v(!1))}),[Re,o,v]),Object(n.useEffect)((function(){o&&o.info&&o.info.currentAddress&&(ot!==o.info.currentAddress.city?0===ot.length&&void 0===o.info.currentAddress.city?v(!1):v(!0):v(!1))}),[ot,o,v]),Object(n.useEffect)((function(){o&&o.info&&o.info.currentAddress&&(Ke!==o.info.currentAddress.code?0===Ke.length&&void 0===o.info.currentAddress.code?v(!1):v(!0):v(!1))}),[Ke,o,v]),Object(n.useEffect)((function(){o&&o.info&&o.info.currentAddress&&(Ot!==o.info.currentAddress.state?0===Ot.length&&void 0===o.info.currentAddress.state?v(!1):v(!0):v(!1))}),[Ot,o,v]),null!=o?Object(g.jsx)("div",{role:"tabpanel",hidden:s!==c,id:"Panel-".concat(c),children:Object(g.jsx)(Q.a,{in:s==c,children:j?Object(g.jsxs)(Ne.a,{container:!0,direction:"column",justifyContent:"flex-start",alignItems:"stretch",spacing:1,children:[Object(g.jsxs)(Ne.a,{item:!0,xs:12,container:!0,direction:"row",justifyContent:"space-between",alignItems:"stretch",spacing:1,children:[Object(g.jsxs)(Ne.a,{item:!0,children:[Object(g.jsx)(f.a,{variant:"h6",component:"h6",children:"My Information"}),Object(g.jsx)(R.a,{})]}),Object(g.jsx)(Ne.a,{item:!0,xs:!0,children:Object(g.jsx)(Ee.a,{mx:3,my:1,boxShadow:0,children:Object(g.jsxs)(Ne.a,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"center",spacing:1,children:[Object(g.jsx)(Ne.a,{item:!0,children:Object(g.jsx)(Qe.a,{placement:"bottom",title:"Unlock editable fields",children:Object(g.jsx)(ye.a,{size:"small",color:"primary",onClick:function(){It()},children:p?Object(g.jsx)(qr.a,{}):Object(g.jsx)(Yr.a,{})})})}),Object(g.jsx)(Ne.a,{item:!0,hidden:!p,children:Object(g.jsx)(Q.a,{in:p,children:Object(g.jsxs)(gn.a,{color:"primary",children:[Object(g.jsx)(C.a,{size:"small",variant:"outlined",color:"default",startIcon:Object(g.jsx)(cn.a,{}),onClick:function(){Rt()},children:"Reset"}),Object(g.jsx)(C.a,{size:"small",variant:"outlined",color:"secondary",disabled:!y,startIcon:Object(g.jsx)(Wn.a,{}),onClick:function(){Vt()},children:"Save"})]})})}),Object(g.jsx)(Ne.a,{item:!0,children:Object(g.jsx)(Q.a,{in:y,children:Object(g.jsx)(f.a,{variant:"caption",color:"textSecondary",align:"left",gutterBottom:!0,children:y?"Changes have been made.":""})})})]})})}),Object(g.jsx)(Ne.a,{item:!0,children:Object(g.jsx)(Qe.a,{placement:"left",title:"This page views user information.",children:Object(g.jsx)(ye.a,{children:Object(g.jsx)(tn.a,{})})})})]}),Object(g.jsx)(Ne.a,{item:!0,xs:12,children:Object(g.jsx)(Ee.a,{mx:1,my:1,boxShadow:0,children:Object(g.jsxs)(Ne.a,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"stretch",spacing:3,children:[Object(g.jsxs)(Ne.a,{item:!0,xs:12,children:[Object(g.jsx)(f.a,{variant:"subtitle2",component:"h6",color:"textPrimary",children:"System Information"}),Object(g.jsx)(R.a,{light:!0})]}),Object(g.jsx)(Ne.a,{item:!0,xs:1,children:Object(g.jsx)(ma.a,{id:"Sequence-id",size:"small",variant:"outlined",fullWidth:!0,label:"Sequence ID",readOnly:!0,disabled:!0,value:j.sequence_id})}),Object(g.jsx)(Ne.a,{item:!0,xs:1,children:Object(g.jsx)(ma.a,{id:"Sequence-prefix",size:"small",variant:"outlined",fullWidth:!0,label:"Facility Prefix",readOnly:!0,disabled:!0,value:j.facilityId?j.facilityId.prefix:""})}),Object(g.jsx)(Ne.a,{item:!0,xs:3,children:Object(g.jsx)(ma.a,{id:"Facility-name",size:"small",variant:"outlined",fullWidth:!0,label:"Facility",readOnly:!0,disabled:!0,value:j.facilityId?j.facilityId.name:""})}),Object(g.jsx)(Ne.a,{item:!0,xs:7}),Object(g.jsxs)(Ne.a,{item:!0,xs:12,children:[Object(g.jsx)(f.a,{variant:"subtitle2",component:"h6",color:"textPrimary",children:"General User Information"}),Object(g.jsx)(R.a,{light:!0})]}),Object(g.jsx)(Ne.a,{item:!0,xs:5,children:Object(g.jsx)(ma.a,{id:"Name",required:!0,size:"small",variant:"outlined",fullWidth:!0,label:"Name",onChange:function(e){At(e)},value:j.info.name,error:I,readOnly:!p,disabled:!p})}),Object(g.jsx)(Ne.a,{item:!0,xs:7}),Object(g.jsx)(Ne.a,{item:!0,xs:1,children:Object(g.jsxs)(ma.a,{id:"Gender",select:!0,required:!0,fullWidth:!0,label:"Gender",value:V,onChange:function(e){Bt(e)},size:"small",variant:"outlined",readOnly:!p,disabled:!p,children:[Object(g.jsx)(ge.a,{value:"Male",children:"Male"},"Male"),Object(g.jsx)(ge.a,{value:"Female",children:"Female"},"Female"),Object(g.jsx)(ge.a,{value:"NonBinary",children:"Non-Binary"},"NonBinary")]})}),Object(g.jsx)(Ne.a,{item:!0,xs:1,children:Object(g.jsx)(ma.a,{id:"Gender2",fullWidth:!0,label:"Specify Gender",onChange:function(e){Lt(e)},value:K,error:ce,size:"small",variant:"outlined",required:ae,readOnly:!p||!ae,disabled:!p||!ae})}),Object(g.jsx)(Ne.a,{item:!0,xs:10}),Object(g.jsx)(Ne.a,{item:!0,xs:2,children:Object(g.jsx)(ma.a,{id:"Date-Of-Birth",fullWidth:!0,label:"Date of Birth",type:"date",value:new Date(j.info.dateOfBirth).toISOString().split("T")[0],error:M,onChange:function(e){Nt(e)},InputLabelProps:{shrink:!0},inputProps:{required:!0,max:(new Date).toISOString().split("T")[0]},size:"small",variant:"outlined",required:!0,readOnly:!p,disabled:!p})}),Object(g.jsx)(Ne.a,{item:!0,xs:10}),Object(g.jsx)(Ne.a,{item:!0,xs:1,children:Object(g.jsxs)(ma.a,{id:"Language",select:!0,required:!0,fullWidth:!0,label:"Language",value:de,onChange:function(e){Et(e)},size:"small",variant:"outlined",readOnly:!p,disabled:!p,children:[Object(g.jsx)(ge.a,{value:"English",children:"English"},"English"),Object(g.jsx)(ge.a,{value:"Other",children:"Other"},"Other")]})}),Object(g.jsx)(Ne.a,{item:!0,xs:1,children:Object(g.jsx)(ma.a,{id:"Language2",fullWidth:!0,label:"Specify Language",onChange:function(e){Tt(e)},value:xe,error:Pe,size:"small",variant:"outlined",required:Se,readOnly:!p||!Se,disabled:!p||!Se})}),Object(g.jsx)(Ne.a,{item:!0,xs:10}),Object(g.jsx)(Ne.a,{item:!0,xs:10}),Object(g.jsxs)(Ne.a,{item:!0,xs:12,children:[Object(g.jsx)(f.a,{variant:"subtitle2",component:"h6",color:"textPrimary",children:"User Contact Information"}),Object(g.jsx)(R.a,{light:!0})]}),Object(g.jsx)(Ne.a,{item:!0,xs:2,children:Object(g.jsx)(ma.a,{id:"Phone",size:"small",variant:"outlined",fullWidth:!0,label:"Phone",onChange:function(e){Ut(e)},value:Be,error:Me,readOnly:!p,disabled:!p})}),Object(g.jsx)(Ne.a,{item:!0,xs:10}),Object(g.jsx)(Ne.a,{item:!0,xs:2,children:Object(g.jsx)(ma.a,{id:"Street",size:"small",variant:"outlined",fullWidth:!0,label:"Street",onChange:function(e){Mt(e)},value:Re,error:Ye,readOnly:!p,disabled:!p})}),Object(g.jsx)(Ne.a,{item:!0,xs:10}),Object(g.jsx)(Ne.a,{item:!0,xs:2,children:Object(g.jsx)(ma.a,{id:"City",size:"small",variant:"outlined",fullWidth:!0,label:"City",onChange:function(e){Ft(e)},value:ot,error:bt,readOnly:!p,disabled:!p})}),Object(g.jsx)(Ne.a,{item:!0,xs:10}),Object(g.jsx)(Ne.a,{item:!0,xs:2,children:Object(g.jsx)(ma.a,{id:"PostalCode",size:"small",variant:"outlined",fullWidth:!0,label:"Postal Code",onChange:function(e){zt(e)},value:Ke,error:at,readOnly:!p,disabled:!p})}),Object(g.jsx)(Ne.a,{item:!0,xs:10}),Object(g.jsx)(Ne.a,{item:!0,xs:2,children:Object(g.jsxs)(ma.a,{id:"Province",select:!0,fullWidth:!0,label:"Province",value:Ot,onChange:function(e){Wt(e)},size:"small",variant:"outlined",readOnly:!p,disabled:!p,children:[Object(g.jsx)(ge.a,{value:"",children:"None"},"None"),Object(g.jsx)(ge.a,{value:"AB",children:"Alberta"},"AB"),Object(g.jsx)(ge.a,{value:"BC",children:"British Columbia"},"BC"),Object(g.jsx)(ge.a,{value:"MB",children:"Manitoba"},"MB"),Object(g.jsx)(ge.a,{value:"NB",children:"New Brunswick"},"NB"),Object(g.jsx)(ge.a,{value:"NL",children:"Newfoundland and Labrador"},"NL"),Object(g.jsx)(ge.a,{value:"NT",children:"Northwest Territories"},"NT"),Object(g.jsx)(ge.a,{value:"NS",children:"Nova Scotia"},"NS"),Object(g.jsx)(ge.a,{value:"NU",children:"Nunavut"},"NU"),Object(g.jsx)(ge.a,{value:"ON",children:"Ontario"},"ON"),Object(g.jsx)(ge.a,{value:"PE",children:"Prince Edward Island"},"PE"),Object(g.jsx)(ge.a,{value:"QC",children:"Quebec"},"QC"),Object(g.jsx)(ge.a,{value:"SK",children:"Saskatchewan"},"SK"),Object(g.jsx)(ge.a,{value:"YT",children:"Yukon"},"YT")]})}),Object(g.jsx)(Ne.a,{item:!0,xs:10}),Object(g.jsx)(Ne.a,{item:!0,xs:2,children:Object(g.jsx)(ma.a,{id:"Country",size:"small",variant:"outlined",fullWidth:!0,label:"Country",value:St,error:Pt,required:!0,readOnly:!0,disabled:!p})}),Object(g.jsx)(Ne.a,{item:!0,xs:10})]})})})]}):Object(g.jsx)(Ne.a,{container:!0,direction:"column",justifyContent:"flex-start",alignItems:"stretch",spacing:1,children:Object(g.jsx)(Ne.a,{item:!0,xs:12,container:!0,direction:"row",justifyContent:"center",alignItems:"stretch",spacing:1,children:Object(g.jsx)(Ne.a,{item:!0,children:Object(g.jsx)(Ee.a,{mx:1,my:1,boxShadow:0,children:Object(g.jsx)(S.a,{})})})})})})}):Object(g.jsx)(g.Fragment,{})};ti.defaultProps={appState:{},userID:null,setParentAlert:function(){},getParentInfo:function(){},panelId:null,panelIndex:null,userOriginal:{}};var ai=ti,ni=Object(st.a)((function(e){return{root:{flexGrow:1,height:"100%"},rootGrid:{height:"100%"}}})),ri=/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/,ii=/^.{4,}$/,ci=function(e){ni();var t=e.appState,a=e.userID,r=e.setParentAlert,i=e.getParentInfo,c=e.panelId,s=e.panelIndex,o=e.userOriginal,l=Object(n.useState)(null),d=Object(rt.a)(l,2),j=d[0],b=d[1],u=Object(n.useState)(!1),h=Object(rt.a)(u,2),p=h[0],O=h[1],m=Object(n.useState)(!1),x=Object(rt.a)(m,2),y=x[0],v=x[1],w=Object(n.useState)(!1),k=Object(rt.a)(w,2),D=k[0],P=k[1],_=Object(n.useState)(""),I=Object(rt.a)(_,2),A=I[0],B=I[1],L=Object(n.useState)(!1),N=Object(rt.a)(L,2),E=N[0],T=N[1],M=Object(n.useState)(""),F=Object(rt.a)(M,2),W=F[0],z=F[1],V=Object(n.useState)(!1),H=Object(rt.a)(V,2),J=H[0],Y=H[1],G=Object(n.useState)(""),q=Object(rt.a)(G,2),$=q[0],Z=q[1],K=Object(n.useState)(!1),X=Object(rt.a)(K,2),ee=X[0],te=X[1],ae=(Object(n.useCallback)((function(e){te(e.target.checked)}),[te]),Object(n.useCallback)((function(e){O(!p),o&&(b(Object(U.a)({},o)),P(!1),B(""),T(!1),z(""),Y(!1),Z(o.role),te(o.enabled))}),[p,O,o,P,T,Y,Z,te])),ne=(Object(n.useCallback)((function(e){Z(e.target.value)}),[Z]),Object(n.useCallback)((function(e){ri.test(String(e.target.value))?P(!1):P(!0),b(Object(U.a)(Object(U.a)({},j),{},{email:e.target.value}))}),[j,b,P,ri])),re=Object(n.useCallback)((function(e){ii.test(String(e.target.value))?T(!1):T(!0),B(e.target.value)}),[B,T,ii]),ie=Object(n.useCallback)((function(e){e.target.value!=A?Y(!0):Y(!1),z(e.target.value)}),[z,A]),ce=Object(n.useCallback)((function(e){o&&(b(Object(U.a)({},o)),P(!1),B(""),T(!1),z(""),Y(!1),Z(o.role),te(o.enabled))}),[o,b,P,B,T,z,Y,Z,te]),se=Object(n.useCallback)((function(e){if(D||E||J)r(new ct("One or more fields have errors. Please correct them and try again.","error"));else{var n={email:j.email,role:$,enabled:ee};A.length>0&&W.length>0&&(n=Object(U.a)(Object(U.a)({},n),{},{password:A})),null!=a?qe("users/"+a,t.token,n,(function(e,t){e?r(new ct("Unable to save changes to User. Please refresh and try again.","error")):200===t.status||304===t.status?(i(),ce(),r(new ct("Successfully saved changes to user.","success"))):r(new ct("Unable to save changes to User. Please refresh and try again.","error"))})):r(new ct("Unable to save changes to User. Please refresh and try again.","error"))}}),[t,a,D,E,J,j,$,ee,A,W,r,i]);return Object(n.useEffect)((function(){o&&Object.keys(o).length>0&&Object.getPrototypeOf(o)===Object.prototype&&(b(o),Z(o.role),te(o.enabled))}),[o]),Object(n.useEffect)((function(){o&&($!==o.role?v(!0):v(!1))}),[o,$]),Object(n.useEffect)((function(){o&&(ee!==o.enabled?v(!0):v(!1))}),[o,ee]),Object(n.useEffect)((function(){s!==c&&ce()}),[s,c,ce]),Object(n.useEffect)((function(){JSON.stringify(j)===JSON.stringify(o)?v(!1):v(!0)}),[o,j,v]),Object(n.useEffect)((function(){A.length>0&&W.length>0&&A===W&&!E&&!J&&v(!0)}),[A,W,E,J,v]),Object(n.useEffect)((function(){0===A.length?Y(!1):A.length>0&&(0===W.length?Y(!0):W.length>0&&Y(A!==W))}),[A,W,Y]),null!=o?Object(g.jsx)("div",{role:"tabpanel",hidden:s!==c,id:"Panel-".concat(c),children:Object(g.jsx)(Q.a,{in:s==c,children:j?Object(g.jsxs)(Ne.a,{container:!0,direction:"column",justifyContent:"flex-start",alignItems:"stretch",spacing:1,children:[Object(g.jsxs)(Ne.a,{item:!0,xs:12,container:!0,direction:"row",justifyContent:"space-between",alignItems:"stretch",spacing:1,children:[Object(g.jsxs)(Ne.a,{item:!0,children:[Object(g.jsx)(f.a,{variant:"h6",component:"h6",children:"General Properties"}),Object(g.jsx)(R.a,{})]}),Object(g.jsx)(Ne.a,{item:!0,xs:!0,children:Object(g.jsx)(Ee.a,{mx:3,my:1,boxShadow:0,children:Object(g.jsxs)(Ne.a,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"center",spacing:1,children:[Object(g.jsx)(Ne.a,{item:!0,children:Object(g.jsx)(Qe.a,{placement:"bottom",title:"Unlock editable fields",children:Object(g.jsx)(ye.a,{size:"small",color:"primary",onClick:function(){ae()},children:p?Object(g.jsx)(qr.a,{}):Object(g.jsx)(Yr.a,{})})})}),Object(g.jsx)(Ne.a,{item:!0,hidden:!p,children:Object(g.jsx)(Q.a,{in:p,children:Object(g.jsxs)(gn.a,{color:"primary",children:[Object(g.jsx)(C.a,{size:"small",variant:"outlined",color:"default",startIcon:Object(g.jsx)(cn.a,{}),onClick:function(){ce()},children:"Reset"}),Object(g.jsx)(C.a,{size:"small",variant:"outlined",color:"secondary",disabled:!y,startIcon:Object(g.jsx)(Wn.a,{}),onClick:function(){se()},children:"Save"})]})})}),Object(g.jsx)(Ne.a,{item:!0,children:Object(g.jsx)(Q.a,{in:y,children:Object(g.jsx)(f.a,{variant:"caption",color:"textSecondary",align:"left",gutterBottom:!0,children:y?"Changes have been made.":""})})})]})})}),Object(g.jsx)(Ne.a,{item:!0,children:Object(g.jsx)(Qe.a,{placement:"left",title:"This page views user properties.",children:Object(g.jsx)(ye.a,{children:Object(g.jsx)(tn.a,{})})})})]}),Object(g.jsx)(Ne.a,{item:!0,xs:12,children:Object(g.jsx)(Ee.a,{mx:1,my:1,boxShadow:0,children:Object(g.jsxs)(Ne.a,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"stretch",spacing:3,children:[Object(g.jsx)(Ne.a,{item:!0,xs:!0}),Object(g.jsxs)(Ne.a,{item:!0,xs:12,children:[Object(g.jsx)(f.a,{variant:"subtitle2",component:"h6",color:"textPrimary",children:"Login Properties"}),Object(g.jsx)(R.a,{light:!0})]}),Object(g.jsx)(Ne.a,{item:!0,xs:4,children:Object(g.jsx)(ma.a,{id:"Email",size:"small",variant:"outlined",fullWidth:!0,label:"Email",required:!0,onChange:function(e){ne(e)},value:j.email,error:D,readOnly:!p,disabled:!p})}),Object(g.jsx)(Ne.a,{item:!0,xs:8}),Object(g.jsx)(Ne.a,{item:!0,xs:4,children:Object(g.jsx)(ma.a,{id:"New-Password",size:"small",variant:"outlined",fullWidth:!0,type:"password",label:"New Password",required:!0,onChange:function(e){re(e)},value:A,error:E,readOnly:!p,disabled:!p})}),Object(g.jsx)(Ne.a,{item:!0,xs:8}),Object(g.jsx)(Ne.a,{item:!0,xs:4,children:Object(g.jsx)(ma.a,{id:"Confirm-New-Password",size:"small",variant:"outlined",fullWidth:!0,type:"password",label:"Confirm Password",required:!0,onChange:function(e){ie(e)},value:W,error:J,readOnly:!p,disabled:!p})})]})})})]}):Object(g.jsx)(Ne.a,{container:!0,direction:"column",justifyContent:"flex-start",alignItems:"stretch",spacing:1,children:Object(g.jsx)(Ne.a,{item:!0,xs:12,container:!0,direction:"row",justifyContent:"center",alignItems:"stretch",spacing:1,children:Object(g.jsx)(Ne.a,{item:!0,children:Object(g.jsx)(Ee.a,{mx:1,my:1,boxShadow:0,children:Object(g.jsx)(S.a,{})})})})})})}):Object(g.jsx)(g.Fragment,{})};ci.defaultProps={appState:{},userID:null,setParentAlert:function(){},getParentInfo:function(){},panelId:null,panelIndex:null,userOriginal:{}};var si=ci,oi=a(385),li=Object(st.a)((function(e){return{root:{flexGrow:1,height:"100%"},rootGrid:{height:"100%"}}})),di=function(e){var t=li(),a=e.appState,r=e.userID,i=e.ToggleDrawerClose,c=e.CheckAuthenticationValidity,s=Object(n.useState)(null),o=Object(rt.a)(s,2),l=o[0],d=o[1],j=Object(n.useState)(null),b=Object(rt.a)(j,2),u=b[0],p=b[1],O=Object(n.useState)(new ct),m=Object(rt.a)(O,2),x=m[0],y=m[1],v=Object(n.useState)(0),C=Object(rt.a)(v,2),S=C[0],w=C[1],k=Object(n.useState)(0),D=Object(rt.a)(k,2),P=D[0],_=D[1],I=Object(n.useState)(!1),A=Object(rt.a)(I,2),B=A[0],L=A[1],N=Object(n.useState)(!1),E=Object(rt.a)(N,2),T=E[0],U=E[1],M=Object(n.useCallback)((function(){null!=r?h("users/"+r,a.token,(function(e,t){e?y(new ct("Unable to retrieve User. Please refresh and try again.","error")):200===t.status||304===t.status?d(t.data.user):y(new ct("Unable to retrieve User. Please refresh and try again.","error"))})):y(new ct("Unable to retrieve User. Please refresh and try again.","error"))}),[r,a]),F=Object(n.useCallback)((function(e,t){_(t),JSON.stringify(u)===JSON.stringify(l)?w(t):L(!0)}),[u,l,_,w,L]);return Object(n.useEffect)((function(){i(),setTimeout((function(){c((function(e){e?M():y(null)}))}),200)}),[]),Object(n.useEffect)((function(){r&&(M(),w(0))}),[r]),Object(n.useEffect)((function(){p(l)}),[l]),null!=x?Object(g.jsxs)("div",{className:t.root,children:[Object(g.jsxs)(Ne.a,{container:!0,className:t.rootGrid,direction:"row",justifyContent:"flex-start",alignItems:"stretch",spacing:1,children:[Object(g.jsx)(Ne.a,{item:!0,xs:5,children:Object(g.jsx)(Ee.a,{mx:1,my:1,children:Object(g.jsx)(Ne.a,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"stretch",spacing:1,children:Object(g.jsx)(Ne.a,{item:!0,xs:!0,children:a._id===r?Object(g.jsxs)(Ne.a,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"flex-end",spacing:2,children:[Object(g.jsx)(Ne.a,{item:!0,children:Object(g.jsx)(de.a,{color:"primary"})}),Object(g.jsx)(Ne.a,{item:!0,xs:!0,children:Object(g.jsx)(f.a,{variant:"h5",color:"secondary",align:"left",gutterBottom:!1,children:"Your Profile"})})]}):Object(g.jsxs)(f.a,{variant:"h5",color:"inherit",align:"left",gutterBottom:!0,children:["Viewing User ",l?'"'.concat(l.info.name,'"'):null]})})})})}),Object(g.jsx)(Ne.a,{item:!0,xs:6,children:Object(g.jsx)(Ee.a,{mx:1,my:1,children:Object(g.jsx)(jt,{alert:x,setParentAlert:y})})}),Object(g.jsx)(Ne.a,{item:!0,xs:12,children:Object(g.jsxs)(Te.a,{raised:!0,children:[Object(g.jsx)(me.a,{position:"static",disabled:!u,children:Object(g.jsxs)(pa.a,{value:S,onChange:function(e,t){F(e,t)},"aria-label":"Account Tabs",children:[Object(g.jsx)(Oa.a,{label:"Community",id:"Tab-".concat(0),"aria-controls":"Tab-".concat(0)}),Object(g.jsx)(Oa.a,{label:"Notes",id:"Tab-".concat(1),"aria-controls":"Tab-".concat(1)}),Object(g.jsx)(Oa.a,{label:"Information",id:"Tab-".concat(2),"aria-controls":"Tab-".concat(2)}),Object(g.jsx)(Oa.a,{label:"Properties",id:"Tab-".concat(3),"aria-controls":"Tab-".concat(3)})]})}),Object(g.jsx)(Ee.a,{mx:2,my:1,boxShadow:0,children:Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(Tr,{appState:a,userID:r,setParentAlert:y,getParentInfo:M,panelId:0,panelIndex:S,userOriginal:l}),Object(g.jsx)(Hr,{appState:a,userID:r,setParentAlert:y,getParentInfo:M,panelId:1,panelIndex:S,userOriginal:l}),Object(g.jsx)(ai,{appState:a,userID:r,setParentAlert:y,getParentInfo:M,panelId:2,panelIndex:S,userOriginal:l}),Object(g.jsx)(si,{appState:a,userID:r,setParentAlert:y,getParentInfo:M,panelId:3,panelIndex:S,userOriginal:l})]})})]})})]}),Object(g.jsx)(Vn,{changesUserDialog:B,setChangesUserDialog:L,changesUserDialogExecuting:T,setChangesUserDialogExecuting:U,toBePanelIndex:P,setPanelIndex:w,user:u,setParentAlert:y,getParentData:M,appState:a})]}):Object(g.jsx)(f.a,{variant:"h6",color:"inherit",align:"center",gutterBottom:!0,children:"Not Authorized. Please refresh and try again."})};di.defaultProps={appState:{},userID:{},ToggleDrawerClose:function(){},CheckAuthenticationValidity:function(){}};var ji=di,bi=a(239),ui=a.n(bi),hi=a(131),pi=a.n(hi),Oi=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){var e=n.props.match.params.profileID;n.user={},null!=e?n.setState({profileID:e},(function(){setTimeout((function(){n.props.ToggleDrawerClose(),n.props.CheckAuthenticationValidity((function(e){e&&n.loadUserInformation()}))}),200)})):n.setState({error:"Please navigate to a proper profile id.",render:!0})},n.loadUserInformation=function(){var e=n.state.profileID,t=n.props.appState;h("users/"+e,t.token,(function(e,t){if(e)n.setState({error:"Unable to load profile.",render:!0});else if(200===t.status||304===t.status){n.user=t.data;var a=n.user.user;n.setState({error:"",email:a.email,name:a.info.name,phone:a.info.phone,render:!0})}else n.setState({error:"Unable to load profile.  Please make sure your User ID is correct and you have proper permissions.",render:!0})}))},n.saveUserInformation=function(){var e=n.state,t=e.email,a=e.name,r=e.phone,i=e.profileID,c=n.props.appState;if(""!==t&&""!==a&&""!==r){n.setState({error:"",success:""});var s={email:t,info:{name:a,phone:r}};qe("users/"+i,c.token,s,(function(e,t){if(e)n.setState({error:"Unable to save profile.",success:"",render:!0});else if(200===t.status||304===t.status){n.user=t.data;var a=n.user.user;n.setState({error:"",success:"User profile information saved.",email:a.email||"",name:a.info.name||"",phone:a.info.phone||"",render:!0})}else n.setState({error:"Unable to load profile.  Please make sure your User ID is correct and you have proper permissions.",success:"",render:!0})}))}else n.setState({error:"Please ensure all fields are filled out",success:""})},n.HandleChange=function(e){n.setState(Object(p.a)({},e.target.name,e.target.value))},n.renderForm=function(){var e=n.state,t=e.email,a=e.name,r=e.phone;return Object(g.jsxs)(Ne.a,{container:!0,spacing:10,children:[Object(g.jsx)(Ne.a,{item:!0,xs:12,children:Object(g.jsx)(da,{id:"email",fullWidth:!0,label:"Email",onChange:n.HandleChange,value:t})}),Object(g.jsx)(Ne.a,{item:!0,xs:12,children:Object(g.jsx)(da,{id:"name",fullWidth:!0,label:"Name",onChange:n.HandleChange,value:a})}),Object(g.jsx)(Ne.a,{item:!0,xs:12,children:Object(g.jsx)(da,{id:"phone",fullWidth:!0,label:"Phone",onChange:n.HandleChange,value:r})})]})},n.state={profileID:"",error:"",success:"",name:"",email:"",role:"",phone:"",saving:!1,render:!1},n}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props.classes,t=this.state,a=t.error,n=t.render,r=t.saving,i=t.success;return n?Object(g.jsx)(Ne.a,{container:!0,spacing:10,align:"center",justifyContent:"center",children:Object(g.jsx)(Ne.a,{item:!0,xs:12,sm:10,md:8,lg:6,xl:4,children:Object(g.jsxs)(Te.a,{children:[Object(g.jsxs)(Me.a,{children:[Object(g.jsx)(f.a,{variant:"h5",className:e.title,children:"Edit User Profile"}),""!==a&&Object(g.jsx)(y,{color:e.error,children:a}),""!==i&&Object(g.jsx)(y,{color:e.success,children:i}),this.renderForm()]}),Object(g.jsx)(Ue.a,{children:Object(g.jsxs)("div",{className:e.alignLeftSpacer,children:[Object(g.jsxs)(C.a,{size:"small",variant:"contained",color:"default",component:M.b,to:"/administration/users/management",style:{margin:5},children:[Object(g.jsx)(pi.a,{className:e.rightIcon}),"Back To Management Index"]}),r?Object(g.jsx)(S.a,{className:e.spinner}):Object(g.jsxs)(C.a,{size:"small",variant:"contained",color:"secondary",onClick:this.saveUserInformation,children:["Save User Profile",Object(g.jsx)(ui.a,{className:e.rightIcon,children:"send"})]})]})})]})})}):Object(g.jsx)(S.a,{})}}]),a}(n.Component),mi=Object(I.a)((function(e){return{title:e.title,error:e.error,success:e.success,alignLeftSpacer:e.alignLeftSpacer,spinner:e.spinner,rightIcon:e.rightIcon}}))(Oi),xi=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){var e=n.props.match.params.profileID;n.user={},null!=e?n.setState({profileID:e},(function(){setTimeout((function(){n.props.ToggleDrawerClose(),n.props.CheckAuthenticationValidity((function(e){e&&n.loadUserInformation()}))}),200)})):n.setState({error:"Please navigate to a proper profile id.",render:!0})},n.loadUserInformation=function(){var e=n.state.profileID,t=n.props.appState;h("users/"+e,t.token,(function(e,t){if(e)n.setState({error:"Unable to load profile.",render:!0});else if(200===t.status||304===t.status){n.user=t.data;var a=n.user.user;n.setState({error:"",enabled:a.enabled,name:a.info.name,render:!0})}else n.setState({error:"Unable to load profile.  Please make sure your User ID is correct and you have proper permissions.",render:!0})}))},n.saveUserInformation=function(){var e=n.state,t=e.enabled,a=e.profileID,r=n.props.appState,i={enabled:!t};qe("users/"+a,r.token,i,(function(e,t){if(e)n.setState({error:"-",success:"",render:!0});else if(200===t.status||304===t.status){n.user=t.data;var a=n.user.user;n.setState({error:"",enabled:a.enabled,success:"This users account status has been succesfully changed.",render:!0})}else n.setState({error:"Unable to load profile.  Please make sure your User ID is correct and you have proper permissions.",success:"",render:!0})}))},n.HandleChange=function(e){n.setState(Object(p.a)({},e.target.name,e.target.value))},n.renderForm=function(){var e=n.state,t=e.enabled,a=e.name;return Object(g.jsx)("div",{children:Object(g.jsxs)(f.a,{children:["This user is currently ",t?"enabled":"disabled",". ",Object(g.jsx)("br",{}),"Click below if you wish to change this status.",Object(g.jsx)("br",{}),Object(g.jsx)(C.a,{color:"primary",variant:"contained",style:{margin:10},onClick:n.saveUserInformation,children:t?"Disable "+a:"Enable "+a})]})})},n.state={profileID:"",name:"",error:"",success:"",enabled:!0,render:!1},n}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props.classes,t=this.state,a=t.error,n=t.render,r=t.success;return n?Object(g.jsx)(Ne.a,{container:!0,spacing:10,align:"center",justify:"center",children:Object(g.jsx)(Ne.a,{item:!0,xs:12,sm:10,md:8,lg:6,xl:4,children:Object(g.jsxs)(Te.a,{children:[Object(g.jsxs)(Me.a,{children:[Object(g.jsx)(f.a,{variant:"h5",className:e.title,children:"Enable / Disable User"}),""!==a&&Object(g.jsx)(y,{color:e.error,children:a}),this.renderForm(),""!==r&&Object(g.jsx)(y,{color:e.success,children:r})]}),Object(g.jsx)(Ue.a,{children:Object(g.jsx)("div",{className:e.alignLeftSpacer,children:Object(g.jsxs)(C.a,{size:"small",variant:"contained",color:"default",component:M.b,to:"/administration/users/management",style:{margin:5},children:[Object(g.jsx)(pi.a,{className:e.rightIcon}),"Back To Management Index"]})})})]})})}):Object(g.jsx)(S.a,{})}}]),a}(n.Component),fi=(Object(I.a)((function(e){return{title:e.title,error:e.error,success:e.success,alignLeftSpacer:e.alignLeftSpacer,spinner:e.spinner,rightIcon:e.rightIcon}}))(xi),function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){var e=n.props.match.params.profileID;n.user={},null!=e?n.setState({profileID:e},(function(){setTimeout((function(){n.props.ToggleDrawerClose(),n.props.CheckAuthenticationValidity((function(e){e&&n.loadUserInformation()}))}),200)})):n.setState({error:"Please navigate to a proper profile id.",render:!0})},n.loadUserInformation=function(){var e=n.state.profileID,t=n.props.appState;h("users/"+e,t.token,(function(e,t){if(e)n.setState({error:"Unable to load profile.",render:!0});else if(200===t.status||304===t.status){n.user=t.data;var a=n.user.user;n.setState({error:"",name:a.info.name,research:a.research,render:!0})}else n.setState({error:"Unable to load profile.  Please make sure your User ID is correct and you have proper permissions.",render:!0})}))},n.createResearchId=function(){var e=n.state.profileID,t=n.props.appState;h("users/research/create/"+e,t.token,(function(e,t){if(e)n.setState({error:"-",success:"",render:!0});else if(200===t.status||304===t.status){n.user=t.data;var a=n.user.user;n.setState({error:"",research:a.research,success:"A Research ID has been created for this person.",render:!0})}else n.setState({error:"Unable to load profile.  Please make sure your User ID is correct and you have proper permissions.",success:"",render:!0})}))},n.enableDisableResearchId=function(){var e=n.state,t=e.profileID,a=e.research,r=n.props.appState,i={research:a};i.research.enabled=!i.research.enabled,qe("users/"+t,r.token,i,(function(e,t){if(e)n.setState({error:"-",success:"",render:!0});else if(200===t.status||304===t.status){n.user=t.data;var a=n.user.user;n.setState({error:"",research:a.research,success:"Research ID status updated.",render:!0})}else n.setState({error:"Unable to load profile.  Please make sure your User ID is correct and you have proper permissions.",success:"",render:!0})}))},n.HandleChange=function(e){n.setState(Object(p.a)({},e.target.name,e.target.value))},n.renderForm=function(){var e=n.state.research;return""===e.full||void 0===e.full||null===e.full?Object(g.jsxs)("div",{children:[Object(g.jsx)(f.a,{children:"This user currently does not have a research ID."}),Object(g.jsx)(C.a,{color:"primary",variant:"contained",style:{margin:10},onClick:n.saveUserInformation,children:"Create Research ID"})]}):e.enabled?Object(g.jsxs)("div",{children:[Object(g.jsxs)(f.a,{children:["Unique Research ID: ",e.full,Object(g.jsx)("br",{}),"This users research ID is currently enabled.",Object(g.jsx)("br",{}),"Click below to disable it."]}),Object(g.jsx)(C.a,{color:"primary",variant:"contained",style:{margin:10},onClick:n.enableDisableResearchId,children:"Disable Research ID"})]}):Object(g.jsxs)("div",{children:[Object(g.jsxs)(f.a,{children:["Unique Research ID: ",e.full,Object(g.jsx)("br",{}),"This users research ID is currently disabled.",Object(g.jsx)("br",{}),"Click below to enable it."]}),Object(g.jsx)(C.a,{color:"primary",variant:"contained",style:{margin:10},onClick:n.enableDisableResearchId,children:"Enable Research ID"})]})},n.state={profileID:"",name:"",research:{},error:"",success:"",render:!1},n}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props.classes,t=this.state,a=t.error,n=t.render,r=t.success;return n?Object(g.jsxs)(Te.a,{children:[Object(g.jsxs)(Me.a,{children:[Object(g.jsx)(f.a,{variant:"h5",className:e.title,children:"Enable / Disable User"}),""!==a&&Object(g.jsx)(y,{color:e.error,children:a}),this.renderForm(),""!==r&&Object(g.jsx)(y,{color:e.success,children:r})]}),Object(g.jsx)(Ue.a,{children:Object(g.jsx)("div",{className:e.alignLeftSpacer,children:Object(g.jsxs)(C.a,{size:"small",variant:"contained",color:"default",component:M.b,to:"/administration/users/management",style:{margin:5},children:[Object(g.jsx)(pi.a,{className:e.rightIcon}),"Back To Management Index"]})})})]}):Object(g.jsx)(S.a,{})}}]),a}(n.Component)),gi=Object(I.a)((function(e){return{title:e.title,error:e.error,success:e.success,alignLeftSpacer:e.alignLeftSpacer,spinner:e.spinner,rightIcon:e.rightIcon}}))(fi),yi=a(98),vi=a.n(yi),Ci=Object(st.a)((function(e){return{root:{flexGrow:1,height:"100%"},rootGrid:{height:"100%"}}})),Si=function(e){Ci();var t=e.chapter,a=e.setParentAlert,r=e.setParentLoadChapter,i=e.pullChapterDialog,c=e.setPullChapterDialog,s=e.pullChapterDialogExecuting,o=e.setPullChapterDialogExecuting,l=Object(n.useCallback)((function(){c(!1)}),[c]),d=Object(n.useCallback)((function(){try{o(!0),r(),o(!1),c(!1),a(new ct("Successfully pulled saved state from online. You can continue editing if you wish.","success"))}catch(e){}}),[o,r,c,a]);return Object(g.jsx)(g.Fragment,{children:t?Object(g.jsxs)(ja.a,{id:"pull-chapter-dialog",fullWidth:!0,maxWidth:"md",open:i,onClose:function(){l()},children:[Object(g.jsxs)(ba.a,{children:["Pull chapter ",t.name?'"'.concat(t.name,'"'):null]}),Object(g.jsx)(ua.a,{children:s?Object(g.jsx)(S.a,{}):Object(g.jsx)(hn.a,{children:"Are you sure you would like to refresh and pull the chapter from online?"})}),Object(g.jsxs)(ha.a,{children:[Object(g.jsx)(C.a,{color:"primary",variant:"contained",onClick:function(){l()},disabled:s,children:"Cancel"}),Object(g.jsx)(C.a,{color:"primary",variant:"contained",startIcon:Object(g.jsx)(vi.a,{}),onClick:function(){d()},disabled:s,children:"Pull"})]})]}):null})};Si.defaultProps={chapter:function(){},setParentAlert:function(){},setParentLoadChapter:function(){},pullChapterDialog:{},setPullChapterDialog:function(){},pullChapterDialogExecuting:{},setPullChapterDialogExecuting:function(){}};var wi=Si,ki=Object(st.a)((function(e){return{root:{flexGrow:1,height:"100%"},rootGrid:{height:"100%"}}})),Di=function(e){ki();var t=e.appState,a=e.setParentAlert,r=e.isTemplate,i=e.chapter,c=e.chapterID,s=e.saveChapterDialog,o=e.setSaveChapterDialog,l=e.saveChapterDialogExecuting,d=e.setSaveChapterDialogExecuting,j=Object(n.useCallback)((function(){var e;i?(e=r?{name:i.name,surveyJSON:i.surveyJSON}:{completeness:i.completeness,responseJSON:i.responseJSON},qe((r?"surveys/":"membersurveys/")+c,t.token,e,(function(e,t){e?(o(!1),a(new ct("Unable to retrieve save chapter. Please try again.","error"))):200===t.status||(o(!1),a(new ct("Unable to retrieve save chapter. Please try again.","error")))}))):(o(!1),a(new ct("Unable to retrieve save chapter. Please try again.","error")))}),[o,a,i,c,t,r]),b=Object(n.useCallback)((function(){o(!1)}),[o]),u=Object(n.useCallback)((function(){try{d(!0),j(),d(!1),o(!1),a(new ct("Successfully Saved. You can continue editing if you wish.","success"))}catch(e){}}),[d,j,o,a]);return Object(g.jsx)(g.Fragment,{children:i?Object(g.jsxs)(ja.a,{id:"save-chapter-dialog",fullWidth:!0,maxWidth:"md",open:s,onClose:function(){b()},children:[Object(g.jsxs)(ba.a,{children:["Save chapter ",i.name?'"'.concat(i.name,'"'):null]}),Object(g.jsx)(ua.a,{children:l?Object(g.jsx)(S.a,{}):Object(g.jsx)(hn.a,{children:"Are you sure you would like to save the chapter?"})}),Object(g.jsxs)(ha.a,{children:[Object(g.jsx)(C.a,{color:"primary",variant:"contained",onClick:function(){b()},disabled:l,children:"Cancel"}),Object(g.jsx)(C.a,{color:"primary",variant:"contained",startIcon:Object(g.jsx)(Wn.a,{}),onClick:function(){u()},disabled:l,children:"Save"})]})]}):null})};Di.defaultProps={appState:{},setParentAlert:function(){},isTemplate:{},chapter:{},chapterID:{},saveChapterDialog:{},setSaveChapterDialog:function(){},saveChapterDialogExecuting:{},setSaveChapterDialogExecuting:function(){}};var Pi=Di,_i=(a(165),a(166),a(167),a(141)),Ii=a(94),Ai=a(199),Bi=(a(299),a(196)),Li=a.n(Bi),Ni=Object(st.a)((function(e){return{root:{flexGrow:1,height:"100%"},rootGrid:{height:"100%"},FormControlLabel:{marginLeft:"1rem",marginRight:"1rem"}}})),Ei={showLogicTab:!0,showToolbox:"left",showPropertyGrid:"right"},Ti="surveyCreatorContainer";Ai.StylesManager.applyTheme("default"),Ii.nouislider(_i),Ii.bootstrapslider(_i);var Ui=function(e){var t=Ni(),a=Object(n.useRef)(null),r=e.appState,i=e.ChapterID,c=e.ToggleDrawerClose,s=e.CheckAuthenticationValidity,o=Object(n.useState)(null),l=Object(rt.a)(o,2),d=l[0],j=l[1],b=Object(n.useState)(null),u=Object(rt.a)(b,2),p=u[0],O=u[1],m=Object(n.useState)(!0),x=Object(rt.a)(m,2),y=x[0],v=x[1],w=Object(n.useState)(!1),k=Object(rt.a)(w,2),D=k[0],P=k[1],_=Object(n.useState)(!1),I=Object(rt.a)(_,2),A=I[0],B=I[1],L=Object(n.useState)(!1),N=Object(rt.a)(L,2),E=N[0],T=N[1],F=Object(n.useState)(!1),W=Object(rt.a)(F,2),z=W[0],V=W[1],H=Object(n.useState)(new ct),J=Object(rt.a)(H,2),Y=J[0],G=J[1],q=Object(n.useCallback)((function(){null!=i?h("surveys/"+i,r.token,(function(e,t){e?G(new ct("Unable to retrieve User Chapters. Please refresh and try again.","error")):200===t.status||304===t.status?(v(!0),j(t.data.survey)):G(new ct("Unable to retrieve User Chapters. Please refresh and try again.","error"))})):G(new ct("Unable to retrieve User Chapters. Please refresh and try again.","error"))}),[i,r]),$=Object(n.useCallback)((function(e){O(Object(U.a)(Object(U.a)({},p),{},{name:e.target.value}))}),[p]),Z=Object(n.useCallback)((function(){T(!0)}),[]),K=Object(n.useCallback)((function(){O(Object(U.a)(Object(U.a)({},p),{},{surveyJSON:JSON.stringify(a.current.text)})),P(!0)}),[p]),X=Object(n.useCallback)((function(){j(Object(U.a)(Object(U.a)({},d),{},{name:d.name})),G(new ct("Successfully restored back to previous saved state. You can continue editing if you wish.","success"))}),[d]),ee=Object(n.useCallback)((function(e){O(Object(U.a)(Object(U.a)({},p),{},{isPublic:e.target.checked}))}),[p]);return Object(n.useEffect)((function(){c(),setTimeout((function(){s((function(e){e?(a.current=new Ai.SurveyCreator(Ti,Ei),q()):G(null)}))}),200)}),[]),Object(n.useEffect)((function(){d&&(O(Object(U.a)({},d)),""!==d.surveyJSON?a.current.text=JSON.parse(d.surveyJSON):a.current.text=JSON.parse(null),v(!1))}),[d]),null!=Y?Object(g.jsxs)("div",{className:t.root,children:[Object(g.jsxs)(Ne.a,{container:!0,className:t.rootGrid,direction:"row",justifyContent:"flex-start",alignItems:"stretch",spacing:1,children:[Object(g.jsx)(Ne.a,{item:!0,xs:5,children:Object(g.jsx)(Ee.a,{mx:1,my:1,children:Object(g.jsxs)(Ne.a,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"stretch",spacing:1,children:[Object(g.jsx)(Ne.a,{item:!0,children:Object(g.jsx)(ye.a,{component:M.b,to:"/administration/booklets/management",children:Object(g.jsx)(et.a,{})})}),Object(g.jsx)(Ne.a,{item:!0,xs:!0,children:Object(g.jsxs)(f.a,{variant:"h4",color:"inherit",align:"left",gutterBottom:!0,children:["Editing ",d?'"'.concat(d.name,'"'):null]})})]})})}),Object(g.jsx)(Ne.a,{item:!0,xs:6,children:Object(g.jsx)(Ee.a,{mx:1,my:1,children:Object(g.jsx)(jt,{alert:Y,setParentAlert:G})})}),Object(g.jsx)(Ne.a,{item:!0,xs:12,children:Object(g.jsx)(Te.a,{raised:!0,children:Object(g.jsx)(Ee.a,{mx:2,my:1,boxShadow:0,children:Object(g.jsxs)(Ne.a,{container:!0,direction:"column",justifyContent:"flex-start",alignItems:"stretch",spacing:1,children:[p?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)(Ne.a,{item:!0,xs:12,container:!0,direction:"row",justifyContent:"space-between",alignItems:"stretch",spacing:1,children:[Object(g.jsxs)(Ne.a,{item:!0,children:[Object(g.jsx)(f.a,{variant:"h6",component:"h6",children:"Chapter Template Properties"}),Object(g.jsx)(R.a,{})]}),Object(g.jsx)(Ne.a,{item:!0,xs:!0,children:Object(g.jsx)(Ee.a,{mx:3,my:1,boxShadow:0,children:Object(g.jsxs)(Ne.a,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"stretch",spacing:1,children:[Object(g.jsx)(Ne.a,{item:!0,children:Object(g.jsx)(Qe.a,{placement:"bottom",title:"View Chapter",children:Object(g.jsx)(C.a,{size:"small",variant:"contained",color:"secondary",startIcon:Object(g.jsx)(ea.a,{}),component:M.b,to:"/administration/booklets/template/view/".concat(i),children:"View"})})}),Object(g.jsx)(Ne.a,{item:!0,children:Object(g.jsx)(Qe.a,{placement:"bottom",title:"Refresh Online Chapter",children:Object(g.jsx)(C.a,{size:"small",variant:"contained",color:"primary",startIcon:Object(g.jsx)(cn.a,{}),onClick:function(){Z()},children:"Refresh"})})}),Object(g.jsx)(Ne.a,{item:!0,children:Object(g.jsx)(Qe.a,{placement:"bottom",title:"Restore Chapter Progress",children:Object(g.jsx)(C.a,{size:"small",variant:"contained",color:"primary",startIcon:Object(g.jsx)(Li.a,{}),onClick:function(){X()},children:"Restore"})})}),Object(g.jsx)(Ne.a,{item:!0,children:Object(g.jsx)(Qe.a,{placement:"bottom",title:"Save Chapter Progress",children:Object(g.jsx)(C.a,{size:"small",variant:"contained",color:"primary",disabled:""===p.name,startIcon:Object(g.jsx)(Wn.a,{}),onClick:function(){K()},children:"Save"})})}),Object(g.jsx)(Ne.a,{item:!0,children:Object(g.jsx)(Ka.a,{className:t.FormControlLabel,control:Object(g.jsx)(Xa.a,{checked:p.isPublic,onChange:function(e){ee(e)}}),label:p.isPublic?"Public":"Not Public",labelPlacement:"end"})})]})})}),Object(g.jsx)(Ne.a,{item:!0,children:Object(g.jsx)(Qe.a,{placement:"left",title:"Use this page to edit your chapter. Any information that a patient has answered in a previous chapter version along with the questions they answered will still exist. Only NEW chapters will be affected.",children:Object(g.jsx)(ye.a,{children:Object(g.jsx)(tn.a,{})})})})]}),Object(g.jsx)(Ne.a,{item:!0,xs:12,children:Object(g.jsx)(Ee.a,{mx:1,my:1,boxShadow:0,children:Object(g.jsxs)(Ne.a,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"stretch",spacing:1,children:[Object(g.jsx)(Ne.a,{item:!0,xs:4,children:Object(g.jsx)(ma.a,{label:"Chapter Name",size:"small",variant:"filled",error:""===p.name,fullWidth:!0,value:p.name?p.name:"",onChange:function(e){$(e)}})}),Object(g.jsx)(Ne.a,{item:!0,xs:2,children:Object(g.jsx)(ma.a,{label:"Updated",disabled:!0,size:"small",fullWidth:!0,variant:"filled",value:new Date(d.updatedAt).toLocaleString(),InputProps:{readOnly:!0}})}),Object(g.jsx)(Ne.a,{item:!0,xs:2,children:Object(g.jsx)(ma.a,{label:"Updated By",disabled:!0,size:"small",fullWidth:!0,variant:"filled",value:d.modifiedBy,InputProps:{readOnly:!0}})}),Object(g.jsx)(Ne.a,{item:!0,xs:2,children:Object(g.jsx)(ma.a,{label:"Created",disabled:!0,size:"small",fullWidth:!0,variant:"filled",value:new Date(d.createdAt).toLocaleString(),InputProps:{readOnly:!0}})}),Object(g.jsx)(Ne.a,{item:!0,xs:2,children:Object(g.jsx)(ma.a,{label:"Created By",disabled:!0,size:"small",fullWidth:!0,variant:"filled",value:d.createdBy,InputProps:{readOnly:!0}})})]})})}),Object(g.jsx)(Ne.a,{item:!0,xs:12,container:!0,direction:"row",justifyContent:"space-between",alignItems:"stretch",spacing:1,children:Object(g.jsxs)(Ne.a,{item:!0,children:[Object(g.jsx)(f.a,{variant:"h6",component:"h6",className:t.button,children:"Chapter Survey"}),Object(g.jsx)(R.a,{})]})})]}):Object(g.jsx)(Ne.a,{item:!0,xs:12,container:!0,direction:"row",justifyContent:"center",alignItems:"stretch",spacing:1,children:Object(g.jsx)(Ne.a,{item:!0,children:Object(g.jsx)(Ee.a,{mx:1,my:1,boxShadow:0,children:Object(g.jsx)(S.a,{})})})}),Object(g.jsx)(Ne.a,{item:!0,xs:12,children:Object(g.jsx)(Ee.a,{mx:1,my:1,boxShadow:0,children:Object(g.jsx)(Q.a,{in:!y,children:Object(g.jsx)("div",{id:Ti})})})})]})})})})]}),Object(g.jsx)(Pi,{saveChapterDialog:D,setSaveChapterDialog:P,saveChapterDialogExecuting:A,setSaveChapterDialogExecuting:B,setParentAlert:G,appState:r,isTemplate:!0,chapter:p,chapterID:i}),Object(g.jsx)(wi,{chapter:d,setParentAlert:G,setParentLoadChapter:q,pullChapterDialog:E,setPullChapterDialog:T,pullChapterDialogExecuting:z,setPullChapterDialogExecuting:V})]}):Object(g.jsx)(f.a,{variant:"h6",color:"inherit",align:"center",gutterBottom:!0,children:"Not Authorized. Please refresh and try again."})};Ui.defaultProps={appState:{},ChapterID:{},ToggleDrawerClose:function(){},CheckAuthenticationValidity:function(){}};var Mi=Ui,Fi=a(64),Wi=a.n(Fi);tt.StylesManager.applyTheme("default"),Ii.nouislider(tt),Ii.bootstrapslider(tt);var zi=Object(st.a)((function(e){return{root:{flexGrow:1,height:"100%"},rootGrid:{height:"100%"}}})),Ri=function(e){var t=zi(),a=e.appState,r=e.ChapterID,i=e.ToggleDrawerClose,c=e.CheckAuthenticationValidity,s=Object(n.useState)(null),o=Object(rt.a)(s,2),l=o[0],d=o[1],j=Object(n.useState)(null),b=Object(rt.a)(j,2),u=b[0],p=b[1],O=Object(n.useState)(!0),m=Object(rt.a)(O,2),x=m[0],y=m[1],v=Object(n.useState)(new ct),w=Object(rt.a)(v,2),k=w[0],D=w[1],P=Object(n.useCallback)((function(){null!=r?h("surveys/"+r,a.token,(function(e,t){e?D(new ct("Unable to retrieve User Chapters. Please refresh and try again.","error")):200===t.status||304===t.status?(y(!0),d(t.data.survey)):D(new ct("Unable to retrieve User Chapters. Please refresh and try again.","error"))})):D(new ct("Unable to retrieve User Chapters. Please refresh and try again.","error"))}),[r,a]);return Object(n.useEffect)((function(){i(),setTimeout((function(){c((function(e){e?P():D(null)}))}),200)}),[]),Object(n.useEffect)((function(){l&&(""!==l.surveyJSON?p(JSON.parse(l.surveyJSON)):(p(null),D(new ct("Chapter survey is empty. Please go to the Edit page to add content to it.","info"))),y(!1))}),[l]),null!=k?Object(g.jsx)("div",{className:t.root,children:Object(g.jsxs)(Ne.a,{container:!0,className:t.rootGrid,direction:"row",justifyContent:"flex-start",alignItems:"stretch",spacing:1,children:[Object(g.jsx)(Ne.a,{item:!0,xs:5,children:Object(g.jsx)(Ee.a,{mx:1,my:1,children:Object(g.jsxs)(Ne.a,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"stretch",spacing:1,children:[Object(g.jsx)(Ne.a,{item:!0,children:Object(g.jsx)(ye.a,{component:M.b,to:"/administration/booklets/management",children:Object(g.jsx)(et.a,{})})}),Object(g.jsx)(Ne.a,{item:!0,xs:!0,children:Object(g.jsxs)(f.a,{variant:"h4",color:"inherit",align:"left",gutterBottom:!0,children:["Viewing ",l?'"'.concat(l.name,'"'):null]})})]})})}),Object(g.jsx)(Ne.a,{item:!0,xs:6,children:Object(g.jsx)(Ee.a,{mx:1,my:1,children:Object(g.jsx)(jt,{alert:k,setParentAlert:D})})}),Object(g.jsx)(Ne.a,{item:!0,xs:12,children:Object(g.jsx)(Te.a,{raised:!0,children:Object(g.jsx)(Ee.a,{mx:2,my:1,boxShadow:0,children:Object(g.jsxs)(Ne.a,{container:!0,direction:"column",justifyContent:"flex-start",alignItems:"stretch",spacing:1,children:[l?Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)(Ne.a,{item:!0,xs:12,container:!0,direction:"row",justifyContent:"space-between",alignItems:"stretch",spacing:1,children:[Object(g.jsxs)(Ne.a,{item:!0,children:[Object(g.jsx)(f.a,{variant:"h6",component:"h6",children:"View Chapter Template"}),Object(g.jsx)(R.a,{})]}),Object(g.jsx)(Ne.a,{item:!0,xs:!0,children:Object(g.jsx)(Ee.a,{mx:3,my:1,boxShadow:0,children:Object(g.jsx)(Ne.a,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"stretch",spacing:1,children:Object(g.jsx)(Ne.a,{item:!0,children:Object(g.jsx)(Qe.a,{placement:"bottom",title:"Edit Chapter",children:Object(g.jsx)(C.a,{size:"small",variant:"contained",color:"secondary",startIcon:Object(g.jsx)(Wi.a,{}),component:M.b,to:"/administration/booklets/template/edit/".concat(r),children:"Edit"})})})})})}),Object(g.jsx)(Ne.a,{item:!0,children:Object(g.jsx)(Qe.a,{placement:"left",title:"This page is to view the selected chapter. The chapter here will be in READ-ONLY mode. If you need to test your chapter, please navigate to the 'Edit' page from the management page.",children:Object(g.jsx)(ye.a,{children:Object(g.jsx)(tn.a,{})})})})]})}):Object(g.jsx)(Ne.a,{item:!0,xs:12,container:!0,direction:"row",justifyContent:"center",alignItems:"stretch",spacing:1,children:Object(g.jsx)(Ne.a,{item:!0,children:Object(g.jsx)(Ee.a,{mx:1,my:1,boxShadow:0,children:Object(g.jsx)(S.a,{})})})}),Object(g.jsx)(Ne.a,{item:!0,xs:12,children:Object(g.jsx)(Ee.a,{mx:1,my:1,boxShadow:0,children:Object(g.jsx)(Q.a,{in:!x,children:null!=u?Object(g.jsx)(tt.Survey,{id:"surveyCreatorContainer",json:u,mode:"display"}):null})})})]})})})})]})}):Object(g.jsx)(f.a,{variant:"h6",color:"inherit",align:"center",gutterBottom:!0,children:"Not Authorized. Please refresh and try again."})};Ri.defaultProps={appState:{},ChapterID:{},ToggleDrawerClose:function(){},CheckAuthenticationValidity:function(){}};var Vi=Ri,Qi=a(240),Hi=a.n(Qi);tt.StylesManager.applyTheme("default");var Ji=Object(st.a)((function(e){return{root:{flexGrow:1,height:"100%"},rootGrid:{height:"100%"},FormControlLabel:{marginLeft:"1rem",marginRight:"1rem"}}})),Yi=function(e){var t=Ji(),a=e.appState,r=e.ChapterID,i=e.ToggleDrawerClose,c=e.CheckAuthenticationValidity,s=e.mode,o=Object(n.useState)(null),l=Object(rt.a)(o,2),d=l[0],j=l[1],b=Object(n.useState)(null),u=Object(rt.a)(b,2),p=u[0],O=u[1],m=Object(n.useState)(!0),x=Object(rt.a)(m,2),y=x[0],v=x[1],w=Object(n.useRef)(null),k=Object(n.useState)(!1),D=Object(rt.a)(k,2),P=D[0],_=D[1],I=Object(n.useState)(!1),A=Object(rt.a)(I,2),B=A[0],L=A[1],N=Object(n.useState)(!1),E=Object(rt.a)(N,2),T=E[0],F=E[1],W=Object(n.useState)(!1),z=Object(rt.a)(W,2),V=z[0],H=z[1],J=Object(n.useState)(!1),Y=Object(rt.a)(J,2),G=Y[0],q=Y[1],$=Object(n.useState)(new ct),Z=Object(rt.a)($,2),K=Z[0],X=Z[1],ee=Object(n.useCallback)((function(){null!=r?h("membersurveys/"+r,a.token,(function(e,t){e?X(new ct("Unable to retrieve User Chapter. Please refresh and try again.","error")):200===t.status||304===t.status?(v(!0),j(t.data.memberSurvey)):X(new ct("Unable to retrieve User Chapter. Please refresh and try again.","error"))})):X(new ct("Unable to retrieve User Chapter. Please refresh and try again.","error"))}),[r,a]),te=Object(n.useCallback)((function(e){p&&(w.current.hasErrors()||O(Object(U.a)(Object(U.a)({},p),{},{completeness:$e(w.current),responseJSON:JSON.stringify(e.data)})))}),[p]),ae=Object(n.useCallback)((function(e){p&&(w.current.hasPageErrors()||O(Object(U.a)(Object(U.a)({},p),{},{responseJSON:JSON.stringify(e.data)})))}),[p]),ne=Object(n.useCallback)((function(){H(!0)}),[]),re=Object(n.useCallback)((function(){w.current.clear(),w.current.mergeData(JSON.parse(p.responseJSON)),w.current.render(),X(new ct("Restarted chapter survey to most recently completed page. You can continue to modify if you wish.","info"))}),[p]),ie=Object(n.useCallback)((function(){null!=p&&L(!0)}),[p]),ce=Object(n.useCallback)((function(){p.responseJSON!==d.responseJSON&&_(!0)}),[d,p]);return Object(n.useEffect)((function(){i(),setTimeout((function(){c((function(e){e?ee():X(null)}))}),200)}),[]),Object(n.useEffect)((function(){if(d){if(O(Object(U.a)({},d)),""!==d.surveyTemplate.surveyJSON){var e=JSON.parse(d.surveyTemplate.surveyJSON),t=JSON.parse(d.responseJSON),a=new tt.Model(e);a.data=t,a.showProgressBar="top",a.sendResultOnPageNext=!0,w.current=a}else w.current=null,X(new ct("Chapter survey is empty.","info"));v(!1)}}),[d]),Object(n.useEffect)((function(){p&&ce()}),[p,ce]),null!=K?Object(g.jsxs)("div",{className:t.root,children:[Object(g.jsxs)(Ne.a,{container:!0,className:t.rootGrid,direction:"row",justifyContent:"flex-start",alignItems:"stretch",spacing:1,children:[Object(g.jsx)(Ne.a,{item:!0,xs:5,children:Object(g.jsx)(Ee.a,{mx:1,my:1,children:Object(g.jsx)(Ne.a,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"stretch",spacing:1,children:Object(g.jsx)(Ne.a,{item:!0,xs:!0,children:Object(g.jsxs)(f.a,{variant:"h4",color:"inherit",align:"left",gutterBottom:!0,children:["Filling in ",d?'"'.concat(d.surveyTemplate.name,'"'):null]})})})})}),Object(g.jsx)(Ne.a,{item:!0,xs:6,children:Object(g.jsx)(Ee.a,{mx:1,my:1,children:Object(g.jsx)(jt,{alert:K,setParentAlert:X})})}),Object(g.jsx)(Ne.a,{item:!0,xs:12,children:Object(g.jsx)(Te.a,{raised:!0,children:Object(g.jsx)(Ee.a,{mx:2,my:1,boxShadow:0,children:Object(g.jsxs)(Ne.a,{container:!0,direction:"column",justifyContent:"flex-start",alignItems:"stretch",spacing:1,children:[p?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)(Ne.a,{item:!0,xs:12,container:!0,direction:"row",justifyContent:"space-between",alignItems:"stretch",spacing:1,children:[Object(g.jsxs)(Ne.a,{item:!0,children:[Object(g.jsx)(f.a,{variant:"h6",component:"h6",children:"Chapter Properties"}),Object(g.jsx)(R.a,{})]}),Object(g.jsx)(Ne.a,{item:!0,xs:!0,children:Object(g.jsx)(Ee.a,{mx:3,my:1,boxShadow:0,children:Object(g.jsxs)(Ne.a,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"center",spacing:1,children:[Object(g.jsx)(Ne.a,{item:!0,children:Object(g.jsx)(Qe.a,{placement:"bottom",title:"View Chapter",children:"Admin"===s?Object(g.jsx)(C.a,{size:"small",variant:"contained",color:"secondary",startIcon:Object(g.jsx)(ea.a,{}),component:M.b,to:"/administration/booklets/user/view/".concat(r),children:"View"}):Object(g.jsx)(g.Fragment,{})})}),Object(g.jsx)(Ne.a,{item:!0,children:Object(g.jsx)(Qe.a,{placement:"bottom",title:"Refresh Online Chapter",children:Object(g.jsx)(C.a,{size:"small",variant:"contained",color:"primary",startIcon:Object(g.jsx)(cn.a,{}),onClick:function(){ne()},children:"Refresh"})})}),Object(g.jsx)(Ne.a,{item:!0,children:Object(g.jsx)(Qe.a,{placement:"bottom",title:"Restart Survey Progress",children:Object(g.jsx)(C.a,{size:"small",variant:"contained",color:"primary",startIcon:Object(g.jsx)(Hi.a,{}),onClick:function(){re()},children:"Restart"})})}),Object(g.jsx)(Ne.a,{item:!0,children:P?Object(g.jsx)(Qe.a,{placement:"bottom",title:"Save Chapter",children:Object(g.jsx)(C.a,{size:"small",variant:"contained",color:"primary",startIcon:Object(g.jsx)(Wn.a,{}),disabled:!P,onClick:function(){ie()},children:"Save"})}):Object(g.jsx)(C.a,{size:"small",variant:"contained",color:"primary",startIcon:Object(g.jsx)(Wn.a,{}),disabled:!P,onClick:function(){ie()},children:"Save"})})]})})}),Object(g.jsx)(Ne.a,{item:!0,children:Object(g.jsx)(Qe.a,{placement:"left",title:"Use this page to Fill in your chapter. Any information that a patient has answered in a previous chapter version along with the questions they answered will still exist. Only NEW chapters will be affected.",children:Object(g.jsx)(ye.a,{children:Object(g.jsx)(tn.a,{})})})})]}),Object(g.jsx)(Ne.a,{item:!0,xs:12,children:Object(g.jsx)(Ee.a,{mx:1,my:1,boxShadow:0,children:Object(g.jsxs)(Ne.a,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"stretch",spacing:1,children:[Object(g.jsx)(Ne.a,{item:!0,xs:3,children:Object(g.jsx)(ma.a,{label:"Name",disabled:!0,size:"small",fullWidth:!0,variant:"filled",value:d.surveyTemplate.name,InputProps:{readOnly:!0}})}),Object(g.jsx)(Ne.a,{item:!0,xs:1,children:Object(g.jsx)(ma.a,{label:"Version",disabled:!0,size:"small",fullWidth:!0,variant:"filled",value:d.__v,InputProps:{readOnly:!0}})}),Object(g.jsx)(Ne.a,{item:!0,xs:2,children:Object(g.jsx)(ma.a,{label:"Updated",disabled:!0,size:"small",fullWidth:!0,variant:"filled",value:new Date(d.updatedAt).toLocaleString(),InputProps:{readOnly:!0}})}),Object(g.jsx)(Ne.a,{item:!0,xs:2,children:Object(g.jsx)(ma.a,{label:"Updated By",disabled:!0,size:"small",fullWidth:!0,variant:"filled",value:d.modifiedBy,InputProps:{readOnly:!0}})}),Object(g.jsx)(Ne.a,{item:!0,xs:2,children:Object(g.jsx)(ma.a,{label:"Created",disabled:!0,size:"small",fullWidth:!0,variant:"filled",value:new Date(d.createdAt).toLocaleString(),InputProps:{readOnly:!0}})}),Object(g.jsx)(Ne.a,{item:!0,xs:2,children:Object(g.jsx)(ma.a,{label:"Created By",disabled:!0,size:"small",fullWidth:!0,variant:"filled",value:d.createdBy,InputProps:{readOnly:!0}})})]})})}),Object(g.jsx)(Ne.a,{item:!0,xs:12,container:!0,direction:"row",justifyContent:"space-between",alignItems:"stretch",spacing:1,children:Object(g.jsxs)(Ne.a,{item:!0,children:[Object(g.jsx)(f.a,{variant:"h6",component:"h6",className:t.button,children:"Chapter Survey"}),Object(g.jsx)(R.a,{})]})})]}):Object(g.jsx)(Ne.a,{item:!0,xs:12,container:!0,direction:"row",justifyContent:"center",alignItems:"stretch",spacing:1,children:Object(g.jsx)(Ne.a,{item:!0,children:Object(g.jsx)(Ee.a,{mx:1,my:1,boxShadow:0,children:Object(g.jsx)(S.a,{})})})}),Object(g.jsx)(Ne.a,{item:!0,xs:12,children:Object(g.jsx)(Ee.a,{mx:1,my:1,boxShadow:0,children:Object(g.jsx)(Q.a,{in:!y,children:null!=w.current?Object(g.jsx)(tt.Survey,{id:"surveyCreatorContainer",model:w.current,onComplete:function(e){te(e)},onCurrentPageChanged:function(e){ae(e)},onValueChanged:function(e,t){!function(e,t){p.responseJSON!=JSON.stringify(e.data)?_(!0):_(!1),O(Object(U.a)(Object(U.a)({},p),{},{completeness:$e(w.current),responseJSON:JSON.stringify(e.data)}))}(e)}}):null})})})]})})})})]}),Object(g.jsx)(Pi,{saveChapterDialog:B,setSaveChapterDialog:L,saveChapterDialogExecuting:T,setSaveChapterDialogExecuting:F,setParentAlert:X,appState:a,isTemplate:!1,chapter:p,chapterID:r}),Object(g.jsx)(wi,{chapter:d,setParentAlert:X,setParentLoadChapter:ee,pullChapterDialog:V,setPullChapterDialog:H,pullChapterDialogExecuting:G,setPullChapterDialogExecuting:q})]}):Object(g.jsx)(f.a,{variant:"h6",color:"inherit",align:"center",gutterBottom:!0,children:"Not Authorized. Please refresh and try again."})};Yi.defaultProps={appState:{},ChapterID:{},ToggleDrawerClose:function(){},CheckAuthenticationValidity:function(){},mode:null};var Gi=Yi,qi=Object(st.a)((function(e){return{root:{flexGrow:1,height:"100%"},rootGrid:{height:"100%"}}})),$i="default";tt.StylesManager.applyTheme($i),Ii.nouislider(tt),Ii.bootstrapslider(tt);var Zi=function(e){var t=qi(),a=e.appState,r=e.ChapterID,i=e.ToggleDrawerClose,c=e.CheckAuthenticationValidity,s=Object(n.useState)(null),o=Object(rt.a)(s,2),l=o[0],d=o[1],j=Object(n.useState)(null),b=Object(rt.a)(j,2),u=b[0],p=b[1],O=Object(n.useState)(!0),m=Object(rt.a)(O,2),x=m[0],y=m[1],v=Object(n.useState)(new ct),w=Object(rt.a)(v,2),k=w[0],D=w[1],P=Object(n.useCallback)((function(){null!=r?h("membersurveys/"+r,a.token,(function(e,t){e?D(new ct("Unable to retrieve User Chapters. Please refresh and try again.","error")):200===t.status||304===t.status?(y(!0),d(t.data.memberSurvey)):D(new ct("Unable to retrieve User Chapters. Please refresh and try again.","error"))})):D(new ct("Unable to retrieve User Chapters. Please refresh and try again.","error"))}),[r,a]);return Object(n.useEffect)((function(){i(),setTimeout((function(){c((function(e){e?(tt.StylesManager.applyTheme($i),P()):D(null)}))}),200)}),[]),Object(n.useEffect)((function(){if(l)try{var e=JSON.parse(l.surveyTemplate.surveyJSON),t=JSON.parse(l.responseJSON),a=new tt.Model(e);a.data=t,p(a),y(!1),D(new ct("Successfully pulled survey. Please go to the Edit page to add content to it.","success"))}catch(n){D(new ct("Chapter survey is empty. Please go to the Edit page to add content to it.","error"))}else p(null)}),[l]),null!=k?Object(g.jsx)("div",{className:t.root,children:Object(g.jsxs)(Ne.a,{container:!0,className:t.rootGrid,direction:"row",justifyContent:"flex-start",alignItems:"stretch",spacing:1,children:[Object(g.jsx)(Ne.a,{item:!0,xs:5,children:Object(g.jsx)(Ee.a,{mx:1,my:1,children:Object(g.jsx)(Ne.a,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"stretch",spacing:1,children:Object(g.jsx)(Ne.a,{item:!0,xs:!0,children:Object(g.jsxs)(f.a,{variant:"h4",color:"inherit",align:"left",gutterBottom:!0,children:["Viewing ",l?'"'.concat(l.surveyTemplate.name,'"'):null]})})})})}),Object(g.jsx)(Ne.a,{item:!0,xs:6,children:Object(g.jsx)(Ee.a,{mx:1,my:1,children:Object(g.jsx)(jt,{alert:k,setParentAlert:D})})}),Object(g.jsx)(Ne.a,{item:!0,xs:12,children:Object(g.jsx)(Te.a,{raised:!0,children:Object(g.jsx)(Ee.a,{mx:2,my:1,boxShadow:0,children:Object(g.jsxs)(Ne.a,{container:!0,direction:"column",justifyContent:"flex-start",alignItems:"stretch",spacing:1,children:[l?Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)(Ne.a,{item:!0,xs:12,container:!0,direction:"row",justifyContent:"space-between",alignItems:"stretch",spacing:1,children:[Object(g.jsxs)(Ne.a,{item:!0,children:[Object(g.jsx)(f.a,{variant:"h6",component:"h6",children:"View User Chapter"}),Object(g.jsx)(R.a,{})]}),Object(g.jsx)(Ne.a,{item:!0,xs:!0,children:Object(g.jsx)(Ee.a,{mx:3,my:1,boxShadow:0,children:Object(g.jsx)(Ne.a,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"stretch",spacing:1,children:Object(g.jsx)(Ne.a,{item:!0,children:Object(g.jsx)(Qe.a,{placement:"bottom",title:"Edit Chapter",children:Object(g.jsx)(C.a,{size:"small",variant:"contained",color:"secondary",startIcon:Object(g.jsx)(Wi.a,{}),component:M.b,to:"/administration/booklets/user/edit/".concat(r),children:"Edit"})})})})})}),Object(g.jsx)(Ne.a,{item:!0,children:Object(g.jsx)(Qe.a,{placement:"left",title:"This page is to view the selected chapter. The chapter here will be in READ-ONLY mode. If you need to test your chapter, please navigate to the 'Edit' page from the management page.",children:Object(g.jsx)(ye.a,{children:Object(g.jsx)(tn.a,{})})})})]})}):Object(g.jsx)(Ne.a,{item:!0,xs:12,container:!0,direction:"row",justifyContent:"center",alignItems:"stretch",spacing:1,children:Object(g.jsx)(Ne.a,{item:!0,children:Object(g.jsx)(Ee.a,{mx:1,my:1,boxShadow:0,children:Object(g.jsx)(S.a,{})})})}),Object(g.jsx)(Ne.a,{item:!0,xs:12,children:Object(g.jsx)(Ee.a,{mx:1,my:1,boxShadow:0,children:Object(g.jsx)(Q.a,{in:!x,children:null!=u?Object(g.jsx)(tt.Survey,{id:"surveyCreatorContainer",model:u,mode:"display"}):null})})})]})})})})]})}):Object(g.jsx)(f.a,{variant:"h6",color:"inherit",align:"center",gutterBottom:!0,children:"Not Authorized. Please refresh and try again."})};Zi.defaultProps={appState:{},ChapterID:{},ToggleDrawerClose:function(){},CheckAuthenticationValidity:function(){}};var Ki=Zi,Xi=Object(st.a)((function(e){return{root:{flexGrow:1,height:"100%"},rootGrid:{height:"100%"}}})),ec=[{key:"SurveyName",value:"surveyName",display:"Name"},{key:"SurveyId",value:"surveyId",display:"ID"}],tc=[{key:"SurveyName",value:"surveyName",display:"Name"},{key:"MemberSurveyId",value:"memberSurveyId",display:"ID"},{key:"Completeness",value:"completeness",display:"Completeness"},{key:"MemberCollectionId",value:"memberCollectionId",display:"Member Collection ID"},{key:"MemberName",value:"memberName",display:"Member Name"},{key:"MemberId",value:"memberId",display:"Member ID"}],ac=function(e){Xi();var t=e.setParentAlert,a=e.isDense,r=e.setIsDense,i=e.isTemplates,c=e.setIsTemplates,s=e.dataList,o=e.getParentData,l=e.setSearchFilteredDataList,d=e.setCreateChapterTemplateDialog,j=e.setCreateChapterUserDialog,b=Object(n.useState)(tc[0].value),u=Object(rt.a)(b,2),h=u[0],p=u[1],O=Object(n.useState)(""),m=Object(rt.a)(O,2),x=m[0],y=m[1],v=Object(n.useCallback)((function(){try{o(),t(new ct("Refreshed initiated...","info"))}catch(e){}}),[o,t]),S=Object(n.useCallback)((function(){d(!0)}),[d]),w=Object(n.useCallback)((function(){j(!0)}),[j]),D=Object(n.useCallback)((function(e){r(e.target.checked)}),[r]),_=Object(n.useCallback)((function(){c(!0),p(tc[0].value)}),[c]),I=Object(n.useCallback)((function(){c(!1),p(tc[0].value)}),[c]),A=Object(n.useCallback)((function(e){y(""),p(e.target.value)}),[p]),B=Object(n.useCallback)((function(e){var t=e.target.value.toUpperCase(),a=[];s.forEach((function(e){switch(h){case"surveyName":e.name.toUpperCase().indexOf(t)>-1&&a.push(e);break;case"surveyId":case"memberSurveyId":e._id.toUpperCase().indexOf(t)>-1&&a.push(e);break;case"completeness":e.completeness.toUpperCase().indexOf(t)>-1&&a.push(e);break;case"memberCollectionId":e.memberCollection._id.toUpperCase().indexOf(t)>-1&&a.push(e);break;case"memberName":e.member.info.name.toUpperCase().indexOf(t)>-1&&a.push(e);break;case"memberId":e.member._id.toUpperCase().indexOf(t)>-1&&a.push(e)}})),y(e.target.value),l(a)}),[s,l,h]);return Object(n.useEffect)((function(){y("")}),[s]),Object(n.useEffect)((function(){p(i?ec[0].value:tc[0].value)}),[i]),Object(n.useEffect)((function(){""===x&&l(s)}),[p,x]),Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(Ee.a,{mx:2,my:1,boxShadow:0,children:Object(g.jsxs)(Ne.a,{container:!0,direction:"column",justifyContent:"flex-start",alignItems:"stretch",spacing:1,children:[Object(g.jsxs)(Ne.a,{item:!0,xs:12,container:!0,direction:"row",justifyContent:"space-between",alignItems:"stretch",spacing:1,children:[Object(g.jsxs)(Ne.a,{item:!0,children:[Object(g.jsx)(f.a,{variant:"h6",component:"h6",children:"Manage"}),Object(g.jsx)(R.a,{})]}),Object(g.jsx)(Ne.a,{item:!0,xs:!0,children:Object(g.jsx)(Ee.a,{mx:3,my:1,boxShadow:0,children:Object(g.jsxs)(Ne.a,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"center",spacing:1,children:[Object(g.jsx)(Ne.a,{item:!0,children:Object(g.jsxs)(gn.a,{size:"small",variant:"contained",color:"secondary",children:[Object(g.jsx)(C.a,{startIcon:Object(g.jsx)(ir.a,{}),disabled:i,onClick:function(){_()},children:"Chapter Templates"}),Object(g.jsx)(C.a,{startIcon:Object(g.jsx)(sr.a,{}),disabled:!i,onClick:function(){I()},children:"User Chapters"})]})}),Object(g.jsx)(Ne.a,{item:!0,children:Object(g.jsx)(Qe.a,{placement:"bottom",title:"Refresh Online Chapters",children:Object(g.jsx)(C.a,{size:"small",variant:"contained",color:"primary",startIcon:Object(g.jsx)(cn.a,{}),onClick:function(){v()},children:"Refresh"})})}),i?Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(Ne.a,{item:!0,children:Object(g.jsx)(Qe.a,{placement:"bottom",title:"Create Chapter Template",children:Object(g.jsx)(C.a,{size:"small",variant:"contained",color:"primary",disabled:!i,startIcon:Object(g.jsx)(nn.a,{}),onClick:function(){S()},children:"Create Template"})})})}):Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(Ne.a,{item:!0,children:Object(g.jsx)(Qe.a,{placement:"bottom",title:"Start Member Chapter",children:Object(g.jsx)(C.a,{size:"small",variant:"contained",color:"primary",disabled:i,startIcon:Object(g.jsx)(nn.a,{}),onClick:function(){w()},children:"Start Member Chapter"})})})})]})})}),Object(g.jsx)(Ne.a,{item:!0,children:Object(g.jsx)(Qe.a,{placement:"left",title:"Use this page to manage your chapters. Any information that a patient has answered in a chapter along with its versions exist in the Chapter Tab. Otherwise, created chapter Templates exists in its own tab.",children:Object(g.jsx)(ye.a,{children:Object(g.jsx)(tn.a,{})})})})]}),Object(g.jsx)(Ne.a,{item:!0,xs:12,container:!0,direction:"column",justifyContent:"flex-start",alignItems:"stretch",spacing:1,children:Object(g.jsx)(Ee.a,{mx:1,my:1,boxShadow:0,children:Object(g.jsx)(Te.a,{children:Object(g.jsx)(Ee.a,{mx:1,my:1,boxShadow:0,children:Object(g.jsxs)(Ne.a,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"center",spacing:3,children:[Object(g.jsx)(Ne.a,{item:!0,children:Object(g.jsx)(f.a,{color:"textPrimary",variant:"subtitle2",children:"Table Options"})}),Object(g.jsx)(Ne.a,{item:!0,children:Object(g.jsx)(Ka.a,{control:Object(g.jsx)(Xa.a,{checked:a,onChange:function(e){D(e)}}),label:"Compact",labelPlacement:"end"})}),Object(g.jsx)(Ne.a,{item:!0,children:Object(g.jsxs)(k.a,{id:"search-filter-select-label",variant:"filled",size:"small",style:{minWidth:140},children:[Object(g.jsx)(P.a,{children:"Search Filter"}),Object(g.jsx)(Ve.a,{autoWidth:!0,labelId:"search-filter-select-label",value:h,onChange:function(e){A(e)},children:i?ec.map((function(e){return Object(g.jsx)(ge.a,{value:e.value,children:Object(g.jsx)("em",{children:e.display})},e.key)})):tc.map((function(e){return Object(g.jsx)(ge.a,{value:e.value,children:Object(g.jsx)("em",{children:e.display})},e.key)}))})]})}),Object(g.jsx)(Ne.a,{item:!0,xs:!0,children:Object(g.jsx)(ma.a,{label:"Search",type:"search",size:"small",variant:"filled",fullWidth:!0,value:x,onChange:function(e){B(e)}})})]})})})})}),Object(g.jsx)(Ne.a,{item:!0,xs:12,container:!0,direction:"row",justifyContent:"flex-start",alignItems:"flex-start",spacing:1,children:Object(g.jsxs)(Ne.a,{item:!0,children:[Object(g.jsx)(f.a,{variant:"h6",component:"h6",children:"Table"}),Object(g.jsx)(R.a,{})]})})]})})})};ac.defaultProps={setParentAlert:function(){},setIsDense:function(){},setIsTemplates:function(){},dataList:{},getParentData:function(){},setSearchFilteredDataList:function(){},setCreateChapterTemplateDialog:function(){},setCreateChapterUserDialog:function(){}};var nc=ac,rc=Object(st.a)((function(e){return{root:{flexGrow:1,height:"100%"},rootGrid:{height:"100%"}}})),ic=function(e){rc();var t=e.appState,a=e.setParentAlert,r=e.getParentData,i=e.createChapterTemplateDialog,c=e.setCreateChapterTemplateDialog,s=e.createChapterTemplateDialogExecuting,o=e.setCreateChapterTemplateDialogExecuting,l=Object(n.useState)(""),d=Object(rt.a)(l,2),j=d[0],b=d[1],u=Object(n.useCallback)((function(){if(""!==j){var e={name:j,surveyJSON:"",createdBy:t._id,modifiedBy:t._id};Re("surveys/",t.token,e,(function(e,t){e?a(new ct("Unable create chapter. Please refresh and try again.","error")):201===t.status?(r(),a(new ct("Successfully Created.","success"))):a(new ct("Unable create chapter. Please refresh and try again.","error"))}))}else a(new ct("Unable create chapter. Please refresh and try again.","error"))}),[t,j,a]),h=Object(n.useCallback)((function(){c(!1),b("")}),[c]),p=Object(n.useCallback)((function(){try{o(!0),u(),o(!1),c(!1),b("")}catch(e){}}),[o,u,c,a,r]),O=Object(n.useCallback)((function(e){b(e.target.value)}),[]);return Object(g.jsx)(g.Fragment,{children:i?Object(g.jsxs)(ja.a,{id:"create-chapter-template-dialog",fullWidth:!0,maxWidth:"md",open:i,onClose:function(){h()},children:[Object(g.jsx)(ba.a,{children:"Create chapter"}),Object(g.jsx)(ua.a,{children:s?Object(g.jsx)(S.a,{}):Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(hn.a,{children:"Please enter a valid name for your new chapter."}),Object(g.jsx)(Ee.a,{mx:1,my:1,boxShadow:0,children:Object(g.jsx)(Ne.a,{container:!0,direction:"column",justifyContent:"flex-start",alignItems:"stretch",spacing:1,children:Object(g.jsx)(Ne.a,{item:!0,children:Object(g.jsx)(ma.a,{label:"Chapter Name",size:"small",variant:"filled",error:""===j,fullWidth:!0,value:j,onChange:function(e){O(e)}})})})})]})}),Object(g.jsxs)(ha.a,{children:[Object(g.jsx)(C.a,{color:"primary",variant:"contained",onClick:function(){h()},disabled:s,children:"Cancel"}),Object(g.jsx)(C.a,{color:"primary",variant:"contained",startIcon:Object(g.jsx)(nn.a,{}),onClick:function(){p()},disabled:!(!s&&""!==j),children:"Create"})]})]}):null})};ic.defaultProps={appState:{},setParentAlert:function(){},getParentData:function(){},setCreateChapterTemplateDialog:function(){},setCreateChapterTemplateDialogExecuting:function(){}};var cc=ic,sc=Object(st.a)((function(e){return{root:{flexGrow:1,height:"100%"},rootGrid:{height:"100%"}}})),oc=function(e){sc();var t=e.appState,a=e.setParentAlert,r=e.getParentData,i=e.createChapterUserDialog,c=e.setCreateChapterUserDialog,s=e.createChapterUserDialogExecuting,o=e.setCreateChapterUserDialogExecuting,l=Object(n.useState)(""),d=Object(rt.a)(l,2),j=d[0],b=d[1],u=Object(n.useState)(""),p=Object(rt.a)(u,2),O=p[0],m=p[1],x=Object(n.useState)(null),f=Object(rt.a)(x,2),y=f[0],v=f[1],w=Object(n.useState)(null),D=Object(rt.a)(w,2),_=D[0],I=D[1],A=Object(n.useCallback)((function(e){if(e){for(var t=[],a=0;a<e.length;++a)t.push({_id:e[a]._id,name:e[a].name,surveyJSON:e[a].surveyJSON,createdAt:e[a].createdAt,updatedAt:e[a].updatedAt});v(t)}}),[]),B=Object(n.useCallback)((function(e){if(e){for(var t=[],a=0;a<e.length;++a)t.push({_id:e[a]._id,name:e[a].info.name,role:e[a].role,email:e[a].email,createdAt:e[a].createdAt});I(t)}}),[]),L=Object(n.useCallback)((function(){var e;e="Patient"===t.role?{_id:{$in:t._id}}:{_id:{$in:t.patients}},Re("users/query",t.token,e,(function(e,t){e?a(new ct(e.message,"error")):200===t.status||304===t.status?B(t.data.response.users):a(new ct("Unable to get assigned member list. Please refresh and try again.","error"))}))}),[t,B,a]),N=Object(n.useCallback)((function(){h("surveys/",t.token,(function(e,t){e?a(new ct(e.message,"error")):200===t.status?A(t.data.surveyList):a(new ct("Unable to get chapter Survey Templates. Please refresh and try again.","error"))}))}),[t,A,a]),E=Object(n.useCallback)((function(){if(""!==O&&""!==j){var e={surveyTemplate:O,memberCollection:null,member:j,responseJSON:"{}",completeness:0,createdBy:t._id,modifiedBy:t._id};Re("membersurveys/",t.token,e,(function(e,t){e?a(new ct("Unable start member chapter. Please refresh and try again.","error")):201===t.status?(r(),a(new ct("Successfully started member chapter.","success"))):a(new ct("Unable start chapter. Please refresh and try again.","error"))}))}else a(new ct("Unable start chapter. Please refresh and try again.","error"))}),[t,y,j,_,O,a,r]),T=Object(n.useCallback)((function(){c(!1),m(""),b("")}),[c]),U=Object(n.useCallback)((function(){try{o(!0),E(),o(!1),c(!1),m(""),b("")}catch(e){}}),[E]),M=Object(n.useCallback)((function(e){m(e.target.value)}),[]),F=Object(n.useCallback)((function(e){b(e.target.value)}),[]);return Object(n.useEffect)((function(){i&&(N(),L())}),[i,L,N]),Object(g.jsx)(g.Fragment,{children:i?Object(g.jsxs)(ja.a,{id:"create-user-chapter-dialog",fullWidth:!0,maxWidth:"md",open:i,onClose:function(){T()},children:[Object(g.jsx)(ba.a,{children:"Start Member Chapter"}),Object(g.jsx)(ua.a,{children:s?Object(g.jsx)(S.a,{}):Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(hn.a,{children:"Please enter a valid chapter template and client to create a member chapter."}),Object(g.jsx)(Ee.a,{mx:1,my:1,boxShadow:0,children:Object(g.jsxs)(Ne.a,{container:!0,direction:"column",justifyContent:"flex-start",alignItems:"stretch",spacing:1,children:[Object(g.jsx)(Ne.a,{item:!0,xs:!0,children:_?Object(g.jsxs)(k.a,{id:"client-options-label",variant:"filled",size:"small",fullWidth:!0,disabled:!_,children:[Object(g.jsx)(P.a,{children:"Member"}),Object(g.jsxs)(Ve.a,{fullWidth:!0,labelId:"clietnt-options-label",value:j,onChange:function(e){F(e)},children:[Object(g.jsx)(ge.a,{value:"",children:Object(g.jsx)("em",{children:"None"})}),_.map((function(e,t){return Object(g.jsx)(ge.a,{value:e._id,children:Object(g.jsx)("em",{children:e.name})},e._id)}))]})]}):Object(g.jsx)(S.a,{})}),Object(g.jsx)(Ne.a,{item:!0,xs:!0,children:y?Object(g.jsxs)(k.a,{id:"template-options-label",variant:"filled",size:"small",fullWidth:!0,disabled:!y,children:[Object(g.jsx)(P.a,{children:"Chapter Template"}),Object(g.jsxs)(Ve.a,{fullWidth:!0,labelId:"template-options-label",value:O,onChange:function(e){M(e)},children:[Object(g.jsx)(ge.a,{value:"",children:Object(g.jsx)("em",{children:"None"})}),y.map((function(e,t){return Object(g.jsx)(ge.a,{value:e._id,children:Object(g.jsx)("em",{children:e.name})},e._id)}))]})]}):Object(g.jsx)(S.a,{})})]})})]})}),Object(g.jsxs)(ha.a,{children:[Object(g.jsx)(C.a,{color:"primary",variant:"contained",onClick:function(){T()},disabled:s,children:"Cancel"}),Object(g.jsx)(C.a,{color:"primary",variant:"contained",startIcon:Object(g.jsx)(nn.a,{}),onClick:function(){U()},disabled:s||""===y||""===j,children:"Start"})]})]}):null})};oc.defaultProps={appState:{},setParentAlert:function(){},getParentData:function(){},createChapterUserDialog:{},setCreateChapterUserDialog:function(){},createChapterUserDialogExecuting:{},setCreateChapterUserDialogExecuting:function(){}};var lc,dc=oc,jc=Object(st.a)((function(e){return{root:{flexGrow:1,height:"100%"},rootGrid:{height:"100%"}}})),bc=210,uc=297,hc={inputProps:{min:1}},pc=function(e){jc();var t=e.isTemplates,a=e.getParentData,r=e.setParentAlert,i=e.selectedDataItemsList,c=e.exportChapterDialog,s=e.setExportChapterDialog,o=e.exportChapterDialogExecuting,l=e.setExportChapterDialogExecuting,d=Object(n.useState)(bc),j=Object(rt.a)(d,2),b=j[0],u=j[1],h=Object(n.useState)(uc),p=Object(rt.a)(h,2),O=p[0],m=p[1],x=Object(n.useCallback)((function(){if(!(b>0&&O>0&&i.length>0))throw new Error("Bad Export.");i.forEach((function(e){var a="",n="{}";t?""!==e.surveyJSON&&(a=JSON.parse(e.surveyJSON)):e.surveyTemplate&&(a=JSON.parse(e.surveyTemplate.surveyJSON)),Object.prototype.hasOwnProperty.call(e,"responseJSON")&&(n=JSON.parse(e.responseJSON));var r={format:[parseInt(b)||bc,parseInt(O)||uc],fontSize:14,margins:{left:10,right:10,top:18,bot:10}},i=new at.SurveyPDF(a,r);Object.prototype.hasOwnProperty.call(e,"responseJSON")&&(i.data=n),i.save(e._id+e.name+".pdf")}))}),[b,O,i]),f=Object(n.useCallback)((function(){s(!1),u(bc),m(uc)}),[u,m,s]),y=Object(n.useCallback)((function(){try{l(!0),x(),l(!1),s(!1),u(bc),m(uc),a(),r(new ct("Successfully exported ".concat(i.length," chapter").concat(i.length>1?"s":"","."),"success"))}catch(e){r(new ct("Unable export chapter".concat(i.length>1?"s":"",". Please refresh and try again."),"error"))}}),[u,m,x,i,l,s,r,a]),v=Object(n.useCallback)((function(e){""!==e.target.value&&u(parseInt(e.target.value))}),[u]),w=Object(n.useCallback)((function(e){""!==e.target.value&&m(parseInt(e.target.value))}),[m]);return Object(n.useEffect)((function(){tt.StylesManager.applyTheme("default")}),[]),Object(g.jsx)(g.Fragment,{children:c?Object(g.jsxs)(ja.a,{id:"export-chapter-dialog",fullWidth:!0,maxWidth:"md",open:c,onClose:function(){f()},children:[Object(g.jsxs)(ba.a,{children:["Export chapter",i.length>1?"s":""]}),Object(g.jsx)(ua.a,{children:o?Object(g.jsx)(S.a,{}):Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)(hn.a,{children:["Exporting ",i.length," chapter",i.length>1?"s":"",". Please enter valid pdf width and height values for your export."]}),Object(g.jsx)(Ee.a,{mx:1,my:1,boxShadow:0,children:Object(g.jsxs)(Ne.a,{container:!0,direction:"column",justifyContent:"flex-start",alignItems:"stretch",spacing:1,children:[Object(g.jsx)(Ne.a,{item:!0,xs:!0,children:Object(g.jsx)(ma.a,{label:"Pdf Width",type:"number",size:"small",variant:"filled",InputProps:hc,error:b<=0,fullWidth:!0,value:b,onChange:function(e){v(e)}})}),Object(g.jsx)(Ne.a,{item:!0,xs:!0,children:Object(g.jsx)(ma.a,{label:"Pdf Height",type:"number",size:"small",variant:"filled",InputProps:hc,error:O<=0,fullWidth:!0,value:O,onChange:function(e){w(e)}})})]})})]})}),Object(g.jsxs)(ha.a,{children:[Object(g.jsx)(C.a,{color:"primary",variant:"contained",onClick:function(){f()},disabled:o,children:"Cancel"}),Object(g.jsx)(C.a,{color:"primary",variant:"contained",startIcon:Object(g.jsx)(Ke.a,{}),onClick:function(){y()},disabled:o,children:"Export"})]})]}):null})};pc.defaultProps=(lc={exportChapterDialog:!0,getParentData:function(){},setParentAlert:function(){},selectedDataItemsList:{}},Object(p.a)(lc,"exportChapterDialog",{}),Object(p.a)(lc,"setExportChapterDialog",(function(){})),Object(p.a)(lc,"exportChapterDialogExecuting",{}),Object(p.a)(lc,"setExportChapterDialogExecuting",(function(){})),lc);var Oc=pc,mc=Object(st.a)((function(e){return{root:{flexGrow:1,height:"100%"}}})),xc=function(e){mc();var t=e.appState,a=e.getParentData,r=e.setParentAlert,i=e.isTemplate,c=e.deleteChapterDialog,s=e.setDeleteChapterDialog,o=e.deleteChapterDialogExecuting,l=e.setDeleteChapterDialogExecuting,d=e.selectedDataItemsList,j=e.setSelectedDataItemsList,b=Object(n.useCallback)((function(){d?d.forEach((function(e){Bn((i?"surveys/":"membersurveys/")+e._id,t.token,(function(e,t){e?(s(!1),r(new ct("Unable to save chapter(s). Please try again.","error"))):200===t.status?(a(),r(new ct("Successfully deleted. You can continue working.","success"))):(s(!1),r(new ct("Unable to save chapter(s). Please try again.","error")))}))})):(s(!1),r(new ct("Unable to save chapter(s). Please try again.","error")))}),[t,d,s,r,a,i]),u=Object(n.useCallback)((function(){s(!1)}),[s]),h=Object(n.useCallback)((function(){try{l(!0),b(),l(!1),s(!1),j([])}catch(e){}}),[l,b,j,s]);return Object(g.jsx)(g.Fragment,{children:d?Object(g.jsxs)(ja.a,{id:"delete-chapter-dialog",fullWidth:!0,maxWidth:"md",open:c,onClose:function(){u()},children:[Object(g.jsxs)(ba.a,{children:["Delete chapter",1===d.length?null:"s"]}),Object(g.jsx)(ua.a,{children:o?Object(g.jsx)(S.a,{}):Object(g.jsx)(hn.a,{children:1===d.length?Object(g.jsx)(g.Fragment,{children:"Are you sure you would like to delete the chapter?"}):Object(g.jsx)(g.Fragment,{children:"Are you sure you would like to delete the ".concat(d.length," chapters?")})})}),Object(g.jsxs)(ha.a,{children:[Object(g.jsx)(C.a,{color:"primary",variant:"contained",onClick:function(){u()},disabled:o,children:"Cancel"}),Object(g.jsx)(C.a,{color:"primary",variant:"contained",startIcon:Object(g.jsx)(Fa.a,{}),onClick:function(){h()},disabled:o,children:"Delete"})]})]}):null})};xc.defaultProps={appState:{},isTemplate:{},getParentData:function(){},setParentAlert:function(){},deleteChapterDialog:{},setDeleteChapterDialog:function(){},deleteChapterDialogExecuting:{},setDeleteChapterDialogExecuting:function(){},selectedDataItemsList:{},setSelectedDataItemsList:function(){}};var fc=xc,gc=Object(st.a)((function(e){return{visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1}}})),yc=[{id:"name",numeric:!1,disablePadding:!0,label:"Name"},{id:"id",numeric:!1,disablePadding:!0,label:"ID"},{id:"createdAt",numeric:!0,disablePadding:!1,label:"Date Created"},{id:"updatedAt",numeric:!0,disablePadding:!1,label:"Date Last Modified"}],vc=[{id:"name",numeric:!1,disablePadding:!0,label:"Name"},{id:"id",numeric:!1,disablePadding:!0,label:"ID"},{id:"completeness",numeric:!1,disablePadding:!0,label:"Completeness"},{id:"memberName",numeric:!1,disablePadding:!0,label:"Client Name"},{id:"memberId",numeric:!1,disablePadding:!0,label:"Client ID"},{id:"memberCollectionId",numeric:!1,disablePadding:!0,label:"Member Collection ID"},{id:"surveyTemplateId",numeric:!1,disablePadding:!0,label:"Survey Template ID"},{id:"createdAt",numeric:!0,disablePadding:!1,label:"Date Created"},{id:"updatedAt",numeric:!0,disablePadding:!1,label:"Date Last Modified"}],Cc=function(e){var t=gc(),a=e.onSelectAllClick,r=e.order,i=e.orderBy,c=e.numSelected,s=e.rowCount,o=e.onRequestSort,l=e.isTemplates,d=Object(n.useState)(null),j=Object(rt.a)(d,2),b=j[0],u=j[1],h=Object(n.useCallback)((function(e){return function(t){o(t,e)}}),[o]);return Object(n.useEffect)((function(){u(l?yc:vc)}),[l]),Object(g.jsx)(ca.a,{children:Object(g.jsxs)(sa.a,{children:[Object(g.jsx)(ia.a,{padding:"checkbox",children:Object(g.jsx)(Aa.a,{indeterminate:c>0&&c<s,checked:s>0&&c===s,onChange:a,inputProps:{"aria-label":"select all"}})}),b?b.map((function(e){return Object(g.jsx)(ia.a,{align:e.numeric?"right":"left",padding:e.disablePadding?"none":"normal",sortDirection:i===e.id&&r,children:Object(g.jsxs)(Ia.a,{active:i===e.id,direction:i===e.id?r:"asc",onClick:h(e.id),children:[e.label,i===e.id?Object(g.jsx)("span",{className:t.visuallyHidden,children:"desc"===r?"sorted descending":"sorted ascending"}):null]})},e.id)})):null]})})};Cc.defaultProps={numSelected:{},onRequestSort:function(){},onSelectAllClick:function(){},order:{},orderBy:{},rowCount:{},isTemplates:{}};var Sc=Cc,wc=Object(st.a)((function(e){return{root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1)},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(Ua.d)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},title:{flex:"1 1 100%"}}})),kc="/administration/booklets/",Dc="/administration/booklets/",Pc=function(e){var t=wc(),a=e.isTemplates,r=e.selectedDataItemsList,i=e.setParentDeleteChapterDialog,c=e.setParentExportChapterDialog,s=Object(n.useState)(""),o=Object(rt.a)(s,2),l=o[0],d=o[1],j=Object(n.useState)(""),b=Object(rt.a)(j,2),u=b[0],h=b[1],O=Object(n.useState)(!1),m=Object(rt.a)(O,2),x=m[0],y=m[1],v=Object(n.useState)(!1),C=Object(rt.a)(v,2),S=C[0],w=C[1],k=Object(n.useState)(!1),D=Object(rt.a)(k,2),P=D[0],_=D[1],I=Object(n.useCallback)((function(){0===r.length?(y(!0),w(!1),_(!1)):1===r.length?(y(!1),w(!0),_(!1)):r.length>1&&(y(!1),w(!1),_(!0))}),[r,y,w,_]),A=Object(n.useCallback)((function(){i(!0)}),[i]),B=Object(n.useCallback)((function(){c(!0)}),[c]);return Object(n.useEffect)((function(){I()}),[r,I]),Object(n.useEffect)((function(){x||P?(d(""),h("")):S&&(a?(d(Dc+"template/view/"+r[0]._id),h(kc+"template/edit/"+r[0]._id)):(d(Dc+"user/view/"+r[0]._id),h(kc+"user/edit/"+r[0]._id)))}),[x,S,P,a]),Object(g.jsxs)(xe.a,{className:Object(Ta.a)(t.root,Object(p.a)({},t.highlight,r.length>0)),children:[r.length>0?Object(g.jsxs)(f.a,{className:t.title,color:"inherit",variant:"subtitle1",component:"div",children:[r.length," Selected Item",r.length>1?"s":null]}):Object(g.jsx)(f.a,{className:t.title,variant:"h6",component:"div",children:a?"Chapter Template Results":"User Chapter Results"}),x?Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(Qe.a,{title:"Filter list",children:Object(g.jsx)(ye.a,{"aria-label":"filter list",children:Object(g.jsx)(za.a,{})})})}):null,S?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(Qe.a,{title:"View",children:Object(g.jsx)(ye.a,{"aria-label":"view",component:M.b,to:l,children:Object(g.jsx)(ea.a,{})})}),Object(g.jsx)(Qe.a,{title:a?"Edit":"Fill in",children:Object(g.jsx)(ye.a,{"aria-label":"edit",component:M.b,to:u,children:Object(g.jsx)(Wi.a,{})})}),Object(g.jsx)(Qe.a,{title:"Export",onClick:function(){return B()},children:Object(g.jsx)(ye.a,{"aria-label":"export",children:Object(g.jsx)(Ke.a,{})})}),Object(g.jsx)(Qe.a,{title:"Delete",children:Object(g.jsx)(ye.a,{"aria-label":"delete",onClick:function(){return A()},children:Object(g.jsx)(Fa.a,{})})})]}):null,P?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(Qe.a,{title:"Export",children:Object(g.jsx)(ye.a,{"aria-label":"export",onClick:function(){return B()},children:Object(g.jsx)(Ke.a,{})})}),Object(g.jsx)(Qe.a,{title:"Delete",children:Object(g.jsx)(ye.a,{"aria-label":"delete",onClick:function(){return A()},children:Object(g.jsx)(Fa.a,{})})})]}):null]})};Pc.defaultProps={isTemplates:{},selectedDataItemsList:{},setParentDeleteChapterDialog:function(){},setParentExportChapterDialog:function(){}};var _c=Pc,Ic=function(e,t,a){return t[a]<e[a]?-1:t[a]>e[a]?1:0},Ac=function(e,t){return"desc"===e?function(e,a){return Ic(e,a,t)}:function(e,a){return-Ic(e,a,t)}},Bc=function(e,t){var a=e.map((function(e,t){return[e,t]}));return a.sort((function(e,a){var n=t(e[0],a[0]);return 0!==n?n:e[1]-a[1]})),a.map((function(e){return e[0]}))},Lc=Object(st.a)((function(e){return{root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1)},tableRow:{cursor:"pointer"}}}));function Nc(e){var t=Lc(),a=e.isTemplates,r=e.isDense,i=e.searchFilteredDataList,c=e.setParentDeleteChapterDialog,s=e.setParentExportChapterDialog,o=e.selectedDataItemsList,l=e.setSelectedDataItemsList,d=Object(n.useState)("asc"),j=Object(rt.a)(d,2),b=j[0],u=j[1],h=Object(n.useState)("name"),p=Object(rt.a)(h,2),O=p[0],m=p[1],x=Object(n.useState)(0),y=Object(rt.a)(x,2),v=y[0],C=y[1],S=Object(n.useState)(20),w=Object(rt.a)(S,2),k=w[0],D=w[1],P=k-Math.min(k,i.length-v*k),I=Object(n.useCallback)((function(e,t){u(O===t&&"asc"===b?"desc":"asc"),m(t)}),[b,u,O,m]),A=Object(n.useCallback)((function(e){if(e.target.checked){var t=[];return i.forEach((function(e){t.push(e)})),void l(t)}l([])}),[i,l]),B=Object(n.useCallback)((function(e,t){var a=o.map((function(e){return e._id})).indexOf(t._id),n=[];-1===a?n=n.concat(o,t):0===a?n=n.concat(o.slice(1)):a===o.length-1?n=n.concat(o.slice(0,-1)):a>0&&(n=n.concat(o.slice(0,a),o.slice(a+1))),l(n)}),[o,l]),L=Object(n.useCallback)((function(e){return-1!==o.map((function(e){return e._id})).indexOf(e._id)}),[o]),N=Object(n.useCallback)((function(e){C(e)}),[C]),E=Object(n.useCallback)((function(e){D(parseInt(e.target.value,10)),C(0)}),[D,C]);return Object(n.useEffect)((function(){C(0)}),[i]),Object(g.jsx)("div",{className:t.root,children:Object(g.jsx)(Ee.a,{mx:1,my:1,children:Object(g.jsxs)(_.a,{className:t.paper,children:[Object(g.jsx)(_c,{isTemplates:a,selectedDataItemsList:o,setParentDeleteChapterDialog:c,setParentExportChapterDialog:s}),Object(g.jsx)(Ha.a,{children:Object(g.jsxs)(na.a,{className:t.table,"aria-labelledby":"tableTitle",size:r?"small":"medium","aria-label":"enhanced table",children:[Object(g.jsx)(Sc,{numSelected:o.length,order:b,orderBy:O,onSelectAllClick:A,onRequestSort:I,rowCount:i.length,isTemplates:a}),Object(g.jsxs)(ra.a,{children:[Bc(i,Ac(b,O)).slice(v*k,v*k+k).map((function(e,n){var r=L(e),i="enhanced-table-checkbox-".concat(n);return Object(g.jsxs)(sa.a,{className:t.tableRow,hover:!0,onClick:function(t){return B(t,e)},role:"checkbox","aria-checked":r,tabIndex:-1,selected:r,children:[Object(g.jsx)(ia.a,{padding:"checkbox",children:Object(g.jsx)(Aa.a,{checked:r,inputProps:{"aria-labelledby":i}})}),Object(g.jsx)(ia.a,{component:"th",id:i,scope:"row",padding:"none",children:Object(g.jsx)(f.a,{color:"textPrimary",variant:"subtitle2",noWrap:!0,style:{display:"inline-block",width:"360px"},children:a?e.name:e.surveyTemplate?e.surveyTemplate.name:""})}),Object(g.jsx)(ia.a,{align:"left",padding:"none",children:Object(g.jsx)(f.a,{color:"textPrimary",variant:"subtitle2",noWrap:!0,style:{display:"inline-block",width:"120px"},children:e._id})}),a?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)(ia.a,{align:"right",children:[Object(g.jsx)(f.a,{color:"primary",variant:"body2",style:{display:"inline-block",width:"120px"},children:new Date(e.createdAt).toLocaleDateString()}),Object(g.jsx)(f.a,{color:"secondary",variant:"body2",style:{display:"inline-block",width:"120px"},children:new Date(e.createdAt).toLocaleTimeString()})]}),Object(g.jsxs)(ia.a,{align:"right",children:[Object(g.jsx)(f.a,{color:"primary",variant:"body2",style:{display:"inline-block",width:"120px"},children:new Date(e.updatedAt).toLocaleDateString()}),Object(g.jsx)(f.a,{color:"secondary",variant:"body2",style:{display:"inline-block",width:"120px"},children:new Date(e.updatedAt).toLocaleTimeString()})]})]}):Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(ia.a,{align:"left",padding:"none",children:Object(g.jsx)(f.a,{color:"primary",variant:"body2",noWrap:!0,style:{display:"inline-block",width:"120px"},children:e.completeness})}),Object(g.jsx)(ia.a,{align:"left",padding:"none",children:Object(g.jsx)(f.a,{color:"textPrimary",variant:"body2",noWrap:!0,style:{display:"inline-block",width:"120px"},children:e.member&&e.member.info?e.member.info.name:""})}),Object(g.jsx)(ia.a,{align:"left",padding:"none",children:Object(g.jsx)(f.a,{color:"textPrimary",variant:"body2",noWrap:!0,style:{display:"inline-block",width:"120px"},children:e.member?e.member._id:""})}),Object(g.jsx)(ia.a,{align:"left",padding:"none",children:Object(g.jsx)(f.a,{color:"textPrimary",variant:"body2",noWrap:!0,style:{display:"inline-block",width:"120px"},children:e.memberCollection?e.memberCollection:"N/A"})}),Object(g.jsx)(ia.a,{align:"left",padding:"none",children:Object(g.jsx)(f.a,{color:"textPrimary",variant:"body2",noWrap:!0,style:{display:"inline-block",width:"120px"},children:e.surveyTemplate?e.surveyTemplate._id:""})}),Object(g.jsxs)(ia.a,{align:"right",children:[Object(g.jsx)(f.a,{color:"primary",variant:"body2",style:{display:"inline-block",width:"120px"},children:new Date(e.createdAt).toLocaleDateString()}),Object(g.jsx)(f.a,{color:"secondary",variant:"body2",style:{display:"inline-block",width:"120px"},children:new Date(e.createdAt).toLocaleTimeString()})]}),Object(g.jsxs)(ia.a,{align:"right",children:[Object(g.jsx)(f.a,{color:"primary",variant:"body2",style:{display:"inline-block",width:"120px"},children:new Date(e.updatedAt).toLocaleDateString()}),Object(g.jsx)(f.a,{color:"secondary",variant:"body2",style:{display:"inline-block",width:"120px"},children:new Date(e.updatedAt).toLocaleTimeString()})]})]})]},e.name+e._id)})),P>0&&Object(g.jsx)(sa.a,{style:{height:(r?33:53)*P},children:Object(g.jsx)(ia.a,{colSpan:6})})]})]})}),i.length>0?Object(g.jsx)(Ja.a,{rowsPerPageOptions:[5,10,15,20,25],component:"div",count:i.length,rowsPerPage:k,page:i.length<=k?0:v,onPageChange:function(e,t){N(t)},onRowsPerPageChange:E}):null]})})})}Nc.defaultProps={searchFilteredDataList:{},setParentDeleteChapterDialog:function(){},setParentExportChapterDialog:function(){},selectedDataItemsList:{},setSelectedDataItemsList:function(){}};var Ec=Object(st.a)((function(e){return{root:{flexGrow:1}}})),Tc=function(e){var t=Ec(),a=e.appState,r=e.ToggleDrawerClose,i=e.CheckAuthenticationValidity,c=Object(n.useState)(!0),s=Object(rt.a)(c,2),o=s[0],l=s[1],d=Object(n.useState)(!0),j=Object(rt.a)(d,2),b=j[0],u=j[1],p=Object(n.useState)(null),O=Object(rt.a)(p,2),m=O[0],x=O[1],y=Object(n.useState)(null),v=Object(rt.a)(y,2),C=v[0],w=v[1],k=Object(n.useState)(null),D=Object(rt.a)(k,2),P=D[0],_=D[1],I=Object(n.useState)(!1),A=Object(rt.a)(I,2),B=A[0],L=A[1],N=Object(n.useState)(!1),E=Object(rt.a)(N,2),T=E[0],U=E[1],M=Object(n.useState)(!1),F=Object(rt.a)(M,2),W=F[0],z=F[1],R=Object(n.useState)(!1),V=Object(rt.a)(R,2),Q=V[0],H=V[1],J=Object(n.useState)(!1),Y=Object(rt.a)(J,2),G=Y[0],q=Y[1],$=Object(n.useState)(!1),Z=Object(rt.a)($,2),K=Z[0],X=Z[1],ee=Object(n.useState)(!1),te=Object(rt.a)(ee,2),ae=te[0],ne=te[1],re=Object(n.useState)(!1),ie=Object(rt.a)(re,2),ce=ie[0],se=ie[1],oe=Object(n.useState)(new ct),le=Object(rt.a)(oe,2),de=le[0],je=le[1],be=Object(n.useCallback)((function(e){var t=[];if(o)for(var a=0;a<e.length;++a)t.push({_id:e[a]._id,name:e[a].name,surveyJSON:e[a].surveyJSON,createdAt:e[a].createdAt,createdBy:e[a].createdBy,updatedAt:e[a].updatedAt,modifiedBy:e[a].modifiedBy});else for(var n=0;n<e.length;++n)t.push({_id:e[n]._id,surveyTemplate:e[n].surveyTemplate,memberCollection:e[n].memberCollection||"",member:e[n].member,responseJSON:e[n].responseJSON,completeness:e[n].completeness,createdAt:e[n].createdAt,createdBy:e[n].createdBy,updatedAt:e[n].updatedAt,modifiedBy:e[n].modifiedBy});x([].concat(t)),w([].concat(t)),_([])}),[o]),ue=Object(n.useCallback)((function(){x(null),h("membersurveys/",a.token,(function(e,t){e?je(new ct("Unable to retrieve User Chapters. Please refresh and try again.","error")):200===t.status?be(t.data.memberSurveyList):je(new ct("Unable to retrieve User Chapters. Please refresh and try again.","error"))}))}),[be,a.token]),he=Object(n.useCallback)((function(){x(null),h("surveys/",a.token,(function(e,t){e?je(new ct("Unable to retrieve templates. Please refresh and try again.","error")):200===t.status?be(t.data.surveyList):je(new ct("Unable to retrieve templates. Please refresh and try again.","error"))}))}),[be,a.token]),pe=Object(n.useCallback)((function(){o?he():ue()}),[o,he,ue]);return Object(n.useEffect)((function(){r(),setTimeout((function(){i((function(e){e?pe():je(null)}))}),200)}),[]),Object(n.useEffect)((function(){pe()}),[o]),Object(n.useEffect)((function(){w(m),_([])}),[m]),null!=de?Object(g.jsxs)("div",{className:t.root,children:[Object(g.jsxs)(Ne.a,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"stretch",style:{height:"100%"},spacing:1,children:[Object(g.jsx)(Ne.a,{item:!0,xs:5,children:Object(g.jsx)(Ee.a,{mx:1,my:1,children:Object(g.jsx)(f.a,{variant:"h5",color:"inherit",align:"left",gutterBottom:!0,children:"Manage Chapters"})})}),Object(g.jsx)(Ne.a,{item:!0,xs:6,children:Object(g.jsx)(Ee.a,{mx:1,my:1,children:Object(g.jsx)(jt,{alert:de,setParentAlert:je})})}),Object(g.jsx)(Ne.a,{item:!0,xs:12,children:Object(g.jsx)(Ee.a,{mx:1,my:1,boxShadow:3,children:Object(g.jsx)(Te.a,{raised:!0,children:Object(g.jsx)(Ne.a,{container:!0,direction:"column",justifyContent:"flex-start",alignItems:"stretch",spacing:0,children:m&&C&&P?Object(g.jsxs)(Ne.a,{item:!0,xs:12,children:[Object(g.jsx)(nc,{isDense:b,setIsDense:u,isTemplates:o,setIsTemplates:l,dataList:m,getParentData:pe,setSearchFilteredDataList:w,setCreateChapterTemplateDialog:L,setCreateChapterUserDialog:ne,setParentAlert:je}),Object(g.jsx)(Nc,{isTemplates:o,isDense:b,searchFilteredDataList:C,selectedDataItemsList:P,setSelectedDataItemsList:_,setParentDeleteChapterDialog:q,setParentExportChapterDialog:z})]}):Object(g.jsx)(Ne.a,{item:!0,xs:12,container:!0,direction:"row",justifyContent:"center",alignItems:"stretch",spacing:1,children:Object(g.jsx)(Ne.a,{item:!0,children:Object(g.jsx)(Ee.a,{mx:1,my:1,boxShadow:0,children:Object(g.jsx)(S.a,{})})})})})})})})]}),Object(g.jsx)(cc,{createChapterTemplateDialog:B,setCreateChapterTemplateDialog:L,createChapterTemplateDialogExecuting:T,setCreateChapterTemplateDialogExecuting:U,setParentAlert:je,getParentData:pe,appState:a}),Object(g.jsx)(dc,{createChapterUserDialog:ae,setCreateChapterUserDialog:ne,createChapterUserDialogExecuting:ce,setCreateChapterUserDialogExecuting:se,setParentAlert:je,getParentData:pe,appState:a}),Object(g.jsx)(Oc,{isTemplates:o,exportChapterDialog:W,setExportChapterDialog:z,exportChapterDialogExecuting:Q,setExportChapterDialogExecuting:H,selectedDataItemsList:P,setParentAlert:je,getParentData:pe}),Object(g.jsx)(fc,{deleteChapterDialog:G,setDeleteChapterDialog:q,deleteChapterDialogExecuting:K,setDeleteChapterDialogExecuting:X,selectedDataItemsList:P,setSelectedDataItemsList:_,setParentAlert:je,getParentData:pe,isTemplate:o,appState:a})]}):Object(g.jsx)(f.a,{variant:"h6",color:"inherit",align:"center",gutterBottom:!0,children:"Not Authorized. Please refresh and try again."})};Tc.defaultProps={appState:{},ToggleDrawerClose:function(){},CheckAuthenticationValidity:function(){}};var Uc=Tc,Mc=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props.classes;return Object(g.jsx)(Te.a,{children:Object(g.jsxs)(Me.a,{children:[Object(g.jsx)(f.a,{variant:"h5",component:"h2",className:e.title,children:"Error - 404."}),Object(g.jsx)(f.a,{children:"The page you are looking for does not exist."})]})})}}]),a}(n.Component),Fc=Object(I.a)((function(e){return{title:e.title}}))(Mc),Wc=Object(st.a)((function(e){return{root:{flexGrow:1,height:"100%"},rootGrid:{height:"100%"}}})),zc=function(e){var t=Wc(),a=e.appState,r=e.setParentAlert,i=e.getParentData,c=e.createMemberCollectionDialog,s=e.setCreateMemberCollectionDialog,o=e.createMemberCollectionDialogExecuting,l=e.setCreateMemberCollectionDialogExecuting,d=Object(n.useState)(null),j=Object(rt.a)(d,2),b=(j[0],j[1],Object(n.useState)("")),u=Object(rt.a)(b,2),p=u[0],O=(u[1],Object(n.useState)([])),m=Object(rt.a)(O,2),x=m[0],y=(m[1],Object(n.useState)(null)),v=Object(rt.a)(y,2),w=v[0],D=v[1],_=Object(n.useState)(""),I=Object(rt.a)(_,2),A=I[0],B=I[1],L=Object(n.useState)([]),N=Object(rt.a)(L,2),E=N[0],T=N[1],U=Object(n.useState)(null),M=Object(rt.a)(U,2),F=M[0],W=M[1],z=Object(n.useState)(""),R=Object(rt.a)(z,2),V=R[0],H=R[1],J=Object(n.useState)([]),Y=Object(rt.a)(J,2),G=Y[0],q=Y[1],$=Object(n.useCallback)((function(e){var t=new Array;e&&Array.isArray(e)&&e.forEach((function(e){t.push({_id:e._id,name:e.info.name,projectList:e.projectList,collectionList:e.collectionList,memberCollectionList:e.memberCollectionList,memberSurveyList:e.memberSurveyList,createdBy:e.createdBy,createdAt:e.updatedAt,modifiedBy:e.modifiedBy,updatedAt:e.updatedAt})})),console.log(t),W([].concat(t))}),[a,W]),Z=Object(n.useCallback)((function(){h("collections/",a.token,(function(e,t){e?r(new ct("Unable to get collection Templates. Please refresh and try again.","error")):200===t.status?D(t.data.collectionList):r(new ct("Unable to get collection Templates. Please refresh and try again.","error"))}))}),[a,p]),K=Object(n.useCallback)((function(){var e={collectionList:{$in:E[0]._id}};Re("users/query",a.token,e,(function(e,t){e?r(new ct("Unable to get members. Please refresh and try again.","error")):200===t.status?$(t.data.response.users):r(new ct("Unable to get members. Please refresh and try again.","error"))}))}),[a,E]),X=Object(n.useCallback)((function(){if(0!=E.length&&0!=G.length){var e={collectionTemplate:E[0]._id,member:G[0]._id,createdBy:a._id,modifiedBy:a._id};Re("membercollections/",a.token,e,(function(e,t){e?r(new ct("Unable create  member Collection. Please refresh and try again.","error")):201===t.status?(i(),r(new ct("Member Collection created.","success"))):r(new ct("Unable create Member Collection. Please refresh and try again.","error"))}))}else r(new ct("Unable create member Collection. Please make sure Service, and member are not empty.","error"))}),[a,E,G]),ee=Object(n.useCallback)((function(e){B(e.target.value)}),[]),te=Object(n.useCallback)((function(e){H(e.target.value)}),[]),ae=Object(n.useCallback)((function(e){if(A&&""!=A){var t=w.find((function(e){return e._id==A}));void 0!=t&&(T([].concat(Object(un.a)(x),[t])),B(""))}}),[w,A,E]),ne=Object(n.useCallback)((function(e){if(V&&""!=V){var t=F.find((function(e){return e._id==V}));void 0!=t&&(q([].concat(Object(un.a)(G),[t])),H(""))}}),[F,V,G]),re=Object(n.useCallback)((function(e){var t=E;t.splice(E.findIndex((function(t){return t._id==e._id})),1),T(Object(un.a)(t))}),[E,T]),ie=Object(n.useCallback)((function(e){var t=G;t.splice(G.findIndex((function(t){return t._id==e._id})),1),q(Object(un.a)(t))}),[G,q]),ce=Object(n.useCallback)((function(){s(!1)}),[s]),se=Object(n.useCallback)((function(){try{l(!0),X(),l(!1),s(!1)}catch(e){}}),[l,X,s,r]);return Object(n.useEffect)((function(){Z()}),[]),Object(n.useEffect)((function(){Z()}),[c]),Object(n.useEffect)((function(){E.length>0?K():W(null)}),[E,K]),Object(g.jsx)(g.Fragment,{children:c?Object(g.jsxs)(ja.a,{id:"create-membercollection-template-dialog",fullWidth:!0,maxWidth:"md",open:c,onClose:function(){ce()},children:[Object(g.jsx)(ba.a,{children:"Create Service Instance"}),Object(g.jsx)(ua.a,{children:o?Object(g.jsx)(S.a,{}):Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)(hn.a,{children:["Please select ",Object(g.jsx)("em",{children:Object(g.jsx)("u",{children:"Service"})}),", and then ",Object(g.jsx)("em",{children:Object(g.jsx)("u",{children:"Member"})})," to start a working instance of the ",Object(g.jsx)("em",{children:Object(g.jsx)("u",{children:"Service"})}),"."]}),Object(g.jsx)(Ee.a,{mx:1,my:1,boxShadow:0,children:Object(g.jsxs)(Ne.a,{container:!0,direction:"column",justifyContent:"flex-start",alignItems:"stretch",spacing:1,children:[Object(g.jsx)(Ne.a,{item:!0,xs:!0,container:!0,direction:"row",justifyContent:"space-between",alignItems:"center",spacing:1,children:w?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(Ne.a,{item:!0,xs:11,children:Object(g.jsxs)(k.a,{id:"Services-options-label",variant:"filled",size:"small",fullWidth:!0,disabled:!w,children:[Object(g.jsx)(P.a,{children:"Service"}),Object(g.jsxs)(Ve.a,{fullWidth:!0,labelId:"Services-options-label",value:A,onChange:function(e){ee(e)},disabled:E.length>=1,children:[Object(g.jsx)(ge.a,{value:"",children:Object(g.jsx)("em",{children:"None"})}),w.map((function(e,t){return Object(g.jsx)(ge.a,{value:e._id,disabled:-1!=E.findIndex((function(t){return t._id==e._id})),children:Object(g.jsx)("em",{children:e.name})},"SelectOption".concat(e._id))}))]})]})}),Object(g.jsx)(Ne.a,{item:!0,xs:1,children:Object(g.jsx)(ye.a,{variant:"outlined",size:"medium",color:"inherit",onClick:function(){ae()},disabled:""==A,children:Object(g.jsx)(Ca.a,{})})})]}):Object(g.jsx)(S.a,{})}),Object(g.jsx)(Ne.a,{item:!0,xs:!0,children:E?Object(g.jsxs)(Q.a,{in:E.length>0,children:[Object(g.jsxs)(f.a,{component:"div",variant:"body2",color:"textSecondary",gutterBottom:!0,children:[Object(g.jsx)("em",{children:"The following selected services"})," ",Object(g.jsx)("u",{children:"to be assigned by:"})]}),Object(g.jsx)(f.a,{component:"div",variant:"body2",color:"secondary",gutterBottom:!0,children:Object(g.jsx)("ol",{children:E.map((function(e,a){return Object(g.jsxs)("li",{children:[e.name,Object(g.jsx)(ye.a,{"aria-label":"delete",className:t.margin,size:"small",onClick:function(e){re(e)},children:Object(g.jsx)(On.a,{fontSize:"inherit"})})]},"".concat(e._id).concat(a))}))})})]}):Object(g.jsx)(g.Fragment,{})}),Object(g.jsx)(Ne.a,{item:!0,xs:!0,container:!0,direction:"row",justifyContent:"space-between",alignItems:"center",spacing:1,children:F?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(Ne.a,{item:!0,xs:11,children:Object(g.jsxs)(k.a,{id:"Member-options-label",variant:"filled",size:"small",fullWidth:!0,disabled:!F,children:[Object(g.jsx)(P.a,{children:"Member"}),Object(g.jsxs)(Ve.a,{fullWidth:!0,labelId:"Member-options-label",value:V,onChange:function(e){te(e)},disabled:G.length>=1,children:[Object(g.jsx)(ge.a,{value:"",children:Object(g.jsx)("em",{children:"None"})}),F.map((function(e,t){return Object(g.jsx)(ge.a,{value:e._id,disabled:-1!=G.findIndex((function(t){return t._id==e._id})),children:Object(g.jsx)("em",{children:e.name})},"SelectOption".concat(e._id))}))]})]})}),Object(g.jsx)(Ne.a,{item:!0,xs:1,children:Object(g.jsx)(ye.a,{variant:"outlined",size:"medium",color:"inherit",onClick:function(){ne()},disabled:""==V,children:Object(g.jsx)(Ca.a,{})})})]}):Object(g.jsx)(S.a,{})}),Object(g.jsx)(Ne.a,{item:!0,xs:!0,children:G?Object(g.jsxs)(Q.a,{in:G.length>0,children:[Object(g.jsxs)(f.a,{component:"div",variant:"body2",color:"textSecondary",gutterBottom:!0,children:[Object(g.jsx)("em",{children:"The following selected members"})," ",Object(g.jsx)("u",{children:"to be assigned by:"})]}),Object(g.jsx)(f.a,{component:"div",variant:"body2",color:"secondary",gutterBottom:!0,children:Object(g.jsx)("ol",{children:G.map((function(e,a){return Object(g.jsxs)("li",{children:[e.name,Object(g.jsx)(ye.a,{"aria-label":"delete",className:t.margin,size:"small",onClick:function(e){ie(e)},children:Object(g.jsx)(On.a,{fontSize:"inherit"})})]},"".concat(e._id).concat(a))}))})})]}):Object(g.jsx)(g.Fragment,{})})]})})]})}),Object(g.jsxs)(ha.a,{children:[Object(g.jsx)(C.a,{color:"primary",variant:"contained",onClick:function(){ce()},disabled:o,children:"Cancel"}),Object(g.jsx)(C.a,{color:"primary",variant:"contained",startIcon:Object(g.jsx)(nn.a,{}),onClick:function(){se()},disabled:o||0==E.length||0==G.length,children:"Create"})]})]}):null})};zc.defaultProps={appState:{},setParentAlert:function(){},getParentData:function(){},setCreateMemberCollectionDialog:function(){},setCreateMemberCollectionDialogExecuting:function(){}};var Rc=zc,Vc=Object(st.a)((function(e){return{root:{flexGrow:1,height:"100%"},rootGrid:{height:"100%"},margin:{margin:e.spacing(1)}}})),Qc=function(e){var t,a=Vc(),r=e.appState,i=e.setParentAlert,c=e.getParentData,s=(e.selectedDataItemsList,e.assignMemberDialog),o=e.setAssignMemberDialog,l=e.assignMemberDialogExecuting,d=e.setAssignMemberDialogExecuting,j=Object(n.useState)(""),b=Object(rt.a)(j,2),u=b[0],O=b[1],m=Object(n.useState)([]),x=Object(rt.a)(m,2),y=x[0],v=x[1],w=Object(n.useState)(null),D=Object(rt.a)(w,2),_=D[0],I=D[1],A=Object(n.useState)(""),B=Object(rt.a)(A,2),L=B[0],N=B[1],E=Object(n.useState)([]),T=Object(rt.a)(E,2),U=T[0],M=T[1],F=Object(n.useState)(null),W=Object(rt.a)(F,2),z=W[0],R=W[1],V=Object(n.useCallback)((function(e){var t=new Array;e&&Array.isArray(e)&&e.forEach((function(e){t.push({_id:e._id,name:e.name,projectList:e.projectList,memberCollectionList:e.memberCollectionList,surveyList:e.surveyList,createdBy:e.createdBy,createdAt:e.updatedAt,modifiedBy:e.modifiedBy,updatedAt:e.updatedAt})})),I([].concat(t))}),[r,I]),H=Object(n.useCallback)((function(e){var t=new Array;e&&Array.isArray(e)&&e.forEach((function(e){t.push({_id:e._id,name:e.info.name,role:e.role,createdAt:e.createdAt})})),R([].concat(t))}),[r,R]),J=Object(n.useCallback)((function(){h("collections/",r.token,(function(e,t){e?i(new ct("Unable to retrieve Services. Please refresh and try again.","error")):200===t.status?V(t.data.collectionList):i(new ct("Unable to retrieve Services. Please refresh and try again.","error"))}))}),[r,H,i]),Y=Object(n.useCallback)((function(){h("users/",r.token,(function(e,t){e?i(new ct("Unable to retrieve Users. Please refresh and try again.","error")):200===t.status?H(t.data.response.users):i(new ct("Unable to retrieve Users. Please refresh and try again.","error"))}))}),[r,H,i]),G=Object(n.useCallback)((function(){y.length>0&&U.length>0?y.forEach((function(e){var t=U.map((function(e){return e._id})),a={collectionId:e._id,memberList:t};Re("collections/assign/member",r.token,a,(function(e,t){e?i(new ct("Unable to update collections. Please refresh and try again.","error")):200===t.status?(c(),i(new ct("Successfully updated collections.","success"))):i(new ct("Unable to update collections. Please refresh and try again.","error"))}))})):i(new ct("Unable to assign members to collection. Please refresh and try again.","error"))}),[r,c,i,y,U]),q=Object(n.useCallback)((function(){o(!1),O(""),N(""),v(new Array),M(new Array)}),[o,O,N,v,M]),$=Object(n.useCallback)((function(){d(!0),G(),d(!1),o(!1)}),[G,d,o]),Z=Object(n.useCallback)((function(e){O(e.target.value)}),[O]),K=Object(n.useCallback)((function(e){N(e.target.value)}),[N]),X=Object(n.useCallback)((function(){if(u&&""!=u){var e=_.find((function(e){return e._id==u}));void 0!=e&&(v([].concat(Object(un.a)(y),[e])),O(""))}}),[u,_,v,y,O]),ee=Object(n.useCallback)((function(){if(L&&""!=L){var e=z.find((function(e){return e._id==L}));void 0!=e&&(M([].concat(Object(un.a)(U),[e])),N(""))}}),[L,z,M,U,N]),te=Object(n.useCallback)((function(e){var t=y;t.splice(y.findIndex((function(t){return t._id==e._id})),1),v(Object(un.a)(t))}),[y,v]),ae=Object(n.useCallback)((function(e){var t=U;t.splice(U.findIndex((function(t){return t._id==e._id})),1),M(Object(un.a)(t))}),[U,M]);return Object(n.useEffect)((function(){s&&(J(),Y())}),[s,Y,J]),Object(g.jsx)(g.Fragment,{children:s?Object(g.jsxs)(ja.a,{id:"assign-member-dialog",fullWidth:!0,maxWidth:"md",open:s,onClose:function(){q()},children:[Object(g.jsx)(ba.a,{children:"Assign Member(s) to Collection(s)"}),Object(g.jsx)(ua.a,{children:l?Object(g.jsx)(S.a,{}):Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)(hn.a,{children:["Please select ",Object(g.jsx)("em",{children:Object(g.jsx)("u",{children:"Members"})})," to be assigned to each the following ",Object(g.jsx)("em",{children:Object(g.jsx)("u",{children:"Collections"})}),"."]}),Object(g.jsx)(Ee.a,{mx:1,my:1,boxShadow:0,children:Object(g.jsxs)(Ne.a,{container:!0,direction:"column",justifyContent:"flex-start",alignItems:"stretch",spacing:1,children:[Object(g.jsx)(Ne.a,{item:!0,xs:!0,container:!0,direction:"row",justifyContent:"space-between",alignItems:"center",spacing:1,children:_?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(Ne.a,{item:!0,xs:11,children:Object(g.jsxs)(k.a,{id:"Collection-options-label",variant:"filled",size:"small",fullWidth:!0,disabled:!_,children:[Object(g.jsx)(P.a,{children:"Collection"}),Object(g.jsxs)(Ve.a,{fullWidth:!0,labelId:"Collection-options-label",value:u,onChange:function(e){Z(e)},disabled:y.length>=1,children:[Object(g.jsx)(ge.a,{value:"",children:Object(g.jsx)("em",{children:"None"})}),_.map((function(e,t){return Object(g.jsx)(ge.a,{value:e._id,disabled:-1!=y.findIndex((function(t){return t._id==e._id})),children:Object(g.jsx)("em",{children:e.name})},"SelectOption".concat(e._id))}))]})]})}),Object(g.jsx)(Ne.a,{item:!0,xs:1,children:Object(g.jsx)(ye.a,{variant:"outlined",size:"medium",color:"inherit",onClick:function(){X()},disabled:""==u,children:Object(g.jsx)(Ca.a,{})})})]}):Object(g.jsx)(S.a,{})}),Object(g.jsx)(Ne.a,{item:!0,xs:!0,children:y?Object(g.jsxs)(Q.a,{in:y.length>0,children:[Object(g.jsxs)(f.a,{component:"div",variant:"body2",color:"textSecondary",gutterBottom:!0,children:[Object(g.jsx)("em",{children:"The following selected collections"})," ",Object(g.jsx)("u",{children:"to be assigned:"})]}),Object(g.jsx)(f.a,{component:"div",variant:"body2",color:"primary",gutterBottom:!0,children:Object(g.jsx)("ol",{children:y.map((function(e,t){return Object(g.jsxs)("li",{children:[e.name,Object(g.jsx)(ye.a,{"aria-label":"delete",className:a.margin,size:"small",onClick:function(e){te(e)},children:Object(g.jsx)(On.a,{fontSize:"inherit"})})]},"".concat(e._id).concat(t))}))})})]}):Object(g.jsx)(g.Fragment,{})}),Object(g.jsx)(Ne.a,{item:!0,xs:!0,container:!0,direction:"row",justifyContent:"space-between",alignItems:"center",spacing:1,children:z?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(Ne.a,{item:!0,xs:11,children:Object(g.jsxs)(k.a,{id:"Member-options-label",variant:"filled",size:"small",fullWidth:!0,disabled:!z,children:[Object(g.jsx)(P.a,{children:"Member"}),Object(g.jsxs)(Ve.a,{fullWidth:!0,labelId:"Member-options-label",value:L,onChange:function(e){K(e)},children:[Object(g.jsx)(ge.a,{value:"",children:Object(g.jsx)("em",{children:"None"})}),z.map((function(e,t){return Object(g.jsx)(ge.a,{value:e._id,disabled:-1!=U.findIndex((function(t){return t._id==e._id})),children:Object(g.jsx)("em",{children:e.name})},"SelectOption".concat(e._id))}))]})]})}),Object(g.jsx)(Ne.a,{item:!0,xs:1,children:Object(g.jsx)(ye.a,{variant:"outlined",size:"medium",color:"inherit",onClick:function(){ee()},disabled:""==L,children:Object(g.jsx)(Ca.a,{})})})]}):Object(g.jsx)(S.a,{})}),Object(g.jsx)(Ne.a,{item:!0,xs:!0,children:U?Object(g.jsxs)(Q.a,{in:U.length>0,children:[Object(g.jsxs)(f.a,{component:"div",variant:"body2",color:"textSecondary",gutterBottom:!0,children:[Object(g.jsx)("em",{children:"The following selected members"})," ",Object(g.jsx)("u",{children:"to be assigned by:"})]}),Object(g.jsx)(f.a,{component:"div",variant:"body2",color:"secondary",gutterBottom:!0,children:Object(g.jsx)("ol",{children:U.map((function(e,t){return Object(g.jsxs)("li",{children:[e.name,Object(g.jsx)(ye.a,{"aria-label":"delete",className:a.margin,size:"small",onClick:function(e){ae(e)},children:Object(g.jsx)(On.a,{fontSize:"inherit"})})]},"".concat(e._id).concat(t))}))})})]}):Object(g.jsx)(g.Fragment,{})})]})})]})}),Object(g.jsxs)(ha.a,{children:[Object(g.jsx)(C.a,{color:"primary",variant:"contained",onClick:function(){q()},disabled:l,children:"Cancel"}),Object(g.jsx)(C.a,(t={color:"primary",variant:"contained",startIcon:Object(g.jsx)(on.a,{}),onClick:function(){$()},disabled:l},Object(p.a)(t,"disabled",!(y.length>0&&U.length>0)),Object(p.a)(t,"children","Assign"),t))]})]}):null})};Qc.defaultProps={appState:{},setParentAlert:function(){},getParentData:function(){},selectedDataItemsList:{},assignMemberDialog:{},setAssignMemberDialog:function(){},assignMemberDialogExecuting:{},setAssignMemberDialogExecuting:function(){}};var Hc=Qc,Jc=Object(st.a)((function(e){return{root:{flexGrow:1,height:"100%"},rootGrid:{height:"100%"},margin:{margin:e.spacing(1)}}})),Yc=function(e){var t,a=Jc(),r=e.appState,i=e.setParentAlert,c=e.getParentData,s=(e.selectedDataItemsList,e.assignProjectDialog),o=e.setAssignProjectDialog,l=e.assignProjectDialogExecuting,d=e.setAssignProjectDialogExecuting,j=Object(n.useState)(""),b=Object(rt.a)(j,2),u=b[0],O=b[1],m=Object(n.useState)([]),x=Object(rt.a)(m,2),y=x[0],v=x[1],w=Object(n.useState)(null),D=Object(rt.a)(w,2),_=D[0],I=D[1],A=Object(n.useState)(""),B=Object(rt.a)(A,2),L=B[0],N=B[1],E=Object(n.useState)([]),T=Object(rt.a)(E,2),U=T[0],M=T[1],F=Object(n.useState)(null),W=Object(rt.a)(F,2),z=W[0],R=W[1],V=Object(n.useCallback)((function(e){var t=new Array;e&&Array.isArray(e)&&e.forEach((function(e){t.push({_id:e._id,name:e.name,memberList:e.memberList,collectionList:e.collectionList,createdBy:e.createdBy,createdAt:e.updatedAt,modifiedBy:e.modifiedBy,updatedAt:e.updatedAt})})),R([].concat(t))}),[r,R]),H=Object(n.useCallback)((function(e){var t=new Array;e&&Array.isArray(e)&&e.forEach((function(e){t.push({_id:e._id,name:e.name,projectList:e.projectList,memberList:e.memberList,memberCollectionList:e.memberCollectionList,surveyList:e.surveyList,createdBy:e.createdBy,modifiedBy:e.modifiedBy})})),I([].concat(t))}),[r,I]),J=Object(n.useCallback)((function(){h("projects/",r.token,(function(e,t){e?i(new ct("Unable to retrieve Projects. Please refresh and try again.","error")):200===t.status?V(t.data.projectList):i(new ct("Unable to retrieve Projects. Please refresh and try again.","error"))}))}),[r,H,i]),Y=Object(n.useCallback)((function(){h("collections/",r.token,(function(e,t){e?i(new ct("Unable to retrieve Services. Please refresh and try again.","error")):200===t.status?H(t.data.collectionList):i(new ct("Unable to retrieve Services. Please refresh and try again.","error"))}))}),[r,H,i]),G=Object(n.useCallback)((function(){y.length>0&&y.length>0?y.forEach((function(e){var t=U.map((function(e){return e._id})),a={collectionId:e._id,projectList:t};Re("collections/assign/project",r.token,a,(function(e,t){e?i(new ct("Unable to update collections. Please refresh and try again.","error")):200===t.status?(c(),i(new ct("Successfully updated collections.","success"))):i(new ct("Unable to update collections. Please refresh and try again.","error"))}))})):i(new ct("Unable to assign Projects to collections. Please refresh and try again.","error"))}),[r,c,i,U,y]),q=Object(n.useCallback)((function(){o(!1),N(""),O(""),M(new Array),v(new Array)}),[o,N,O,M,v]),$=Object(n.useCallback)((function(){d(!0),G(),d(!1),o(!1)}),[G,d,o]),Z=Object(n.useCallback)((function(e){N(e.target.value)}),[N]),K=Object(n.useCallback)((function(e){O(e.target.value)}),[O]),X=Object(n.useCallback)((function(){if(L&&""!=L){var e=z.find((function(e){return e._id==L}));void 0!=e&&(M([].concat(Object(un.a)(U),[e])),N(""))}}),[L,z,M,U,N]),ee=Object(n.useCallback)((function(){if(u&&""!=u){var e=_.find((function(e){return e._id==u}));void 0!=e&&(v([].concat(Object(un.a)(y),[e])),O(""))}}),[u,_,v,y,O]),te=Object(n.useCallback)((function(e){var t=U;t.splice(U.findIndex((function(t){return t._id==e._id})),1),M(Object(un.a)(t))}),[U,M]),ae=Object(n.useCallback)((function(e){var t=y;t.splice(y.findIndex((function(t){return t._id==e._id})),1),v(Object(un.a)(t))}),[y,v]);return Object(n.useEffect)((function(){s&&(J(),Y())}),[s,Y,J]),Object(g.jsx)(g.Fragment,{children:s?Object(g.jsxs)(ja.a,{id:"assign-project-dialog",fullWidth:!0,maxWidth:"md",open:s,onClose:function(){q()},children:[Object(g.jsx)(ba.a,{children:"Assign Project(s) to Service(s)"}),Object(g.jsx)(ua.a,{children:l?Object(g.jsx)(S.a,{}):Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)(hn.a,{children:["Please select ",Object(g.jsx)("em",{children:Object(g.jsx)("u",{children:"Projects"})})," to be assigned to each the following ",Object(g.jsx)("em",{children:Object(g.jsx)("u",{children:"Service"})}),"."]}),Object(g.jsx)(Ee.a,{mx:1,my:1,boxShadow:0,children:Object(g.jsxs)(Ne.a,{container:!0,direction:"column",justifyContent:"flex-start",alignItems:"stretch",spacing:1,children:[Object(g.jsx)(Ne.a,{item:!0,xs:!0,container:!0,direction:"row",justifyContent:"space-between",alignItems:"center",spacing:1,children:_?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(Ne.a,{item:!0,xs:11,children:Object(g.jsxs)(k.a,{id:"Services-options-label",variant:"filled",size:"small",fullWidth:!0,disabled:!_,children:[Object(g.jsx)(P.a,{children:"Service"}),Object(g.jsxs)(Ve.a,{fullWidth:!0,labelId:"Services-options-label",value:u,onChange:function(e){K(e)},disabled:y.length>=1,children:[Object(g.jsx)(ge.a,{value:"",children:Object(g.jsx)("em",{children:"None"})}),_.map((function(e,t){return Object(g.jsx)(ge.a,{value:e._id,disabled:-1!=y.findIndex((function(t){return t._id==e._id})),children:Object(g.jsx)("em",{children:e.name})},"SelectOption".concat(e._id))}))]})]})}),Object(g.jsx)(Ne.a,{item:!0,xs:1,children:Object(g.jsx)(ye.a,{variant:"outlined",size:"medium",color:"inherit",onClick:function(){ee()},disabled:""==u,children:Object(g.jsx)(Ca.a,{})})})]}):Object(g.jsx)(S.a,{})}),Object(g.jsx)(Ne.a,{item:!0,xs:!0,children:y?Object(g.jsxs)(Q.a,{in:y.length>0,children:[Object(g.jsxs)(f.a,{component:"div",variant:"body2",color:"textSecondary",gutterBottom:!0,children:[Object(g.jsx)("em",{children:"The following selected services"})," ",Object(g.jsx)("u",{children:"to be assigned:"})]}),Object(g.jsx)(f.a,{component:"div",variant:"body2",color:"primary",gutterBottom:!0,children:Object(g.jsx)("ol",{children:y.map((function(e,t){return Object(g.jsxs)("li",{children:[e.name,Object(g.jsx)(ye.a,{"aria-label":"delete",className:a.margin,size:"small",onClick:function(e){ae(e)},children:Object(g.jsx)(On.a,{fontSize:"inherit"})})]},"".concat(e._id).concat(t))}))})})]}):Object(g.jsx)(g.Fragment,{})}),Object(g.jsx)(Ne.a,{item:!0,xs:!0,container:!0,direction:"row",justifyContent:"space-between",alignItems:"center",spacing:1,children:z?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(Ne.a,{item:!0,xs:11,children:Object(g.jsxs)(k.a,{id:"Projects-options-label",variant:"filled",size:"small",fullWidth:!0,disabled:!z,children:[Object(g.jsx)(P.a,{children:"Project"}),Object(g.jsxs)(Ve.a,{fullWidth:!0,labelId:"Projects-options-label",value:L,onChange:function(e){Z(e)},children:[Object(g.jsx)(ge.a,{value:"",children:Object(g.jsx)("em",{children:"None"})}),z.map((function(e,t){return Object(g.jsx)(ge.a,{value:e._id,disabled:-1!=U.findIndex((function(t){return t._id==e._id})),children:Object(g.jsx)("em",{children:e.name})},"SelectOption".concat(e._id))}))]})]})}),Object(g.jsx)(Ne.a,{item:!0,xs:1,children:Object(g.jsx)(ye.a,{variant:"outlined",size:"medium",color:"inherit",onClick:function(){X()},disabled:""==L,children:Object(g.jsx)(Ca.a,{})})})]}):Object(g.jsx)(S.a,{})}),Object(g.jsx)(Ne.a,{item:!0,xs:!0,children:U?Object(g.jsxs)(Q.a,{in:U.length>0,children:[Object(g.jsxs)(f.a,{component:"div",variant:"body2",color:"textSecondary",gutterBottom:!0,children:[Object(g.jsx)("em",{children:"The following selected projects"})," ",Object(g.jsx)("u",{children:"to be assigned by:"})]}),Object(g.jsx)(f.a,{component:"div",variant:"body2",color:"secondary",gutterBottom:!0,children:Object(g.jsx)("ol",{children:U.map((function(e,t){return Object(g.jsxs)("li",{children:[e.name,Object(g.jsx)(ye.a,{"aria-label":"delete",className:a.margin,size:"small",onClick:function(e){te(e)},children:Object(g.jsx)(On.a,{fontSize:"inherit"})})]},"".concat(e._id).concat(t))}))})})]}):Object(g.jsx)(g.Fragment,{})})]})})]})}),Object(g.jsxs)(ha.a,{children:[Object(g.jsx)(C.a,{color:"primary",variant:"contained",onClick:function(){q()},disabled:l,children:"Cancel"}),Object(g.jsx)(C.a,(t={color:"primary",variant:"contained",startIcon:Object(g.jsx)(on.a,{}),onClick:function(){$()},disabled:l},Object(p.a)(t,"disabled",!(y.length>0&&U.length>0)),Object(p.a)(t,"children","Assign"),t))]})]}):null})};Yc.defaultProps={appState:{},setParentAlert:function(){},getParentData:function(){},selectedDataItemsList:{},assignProjectDialog:{},setAssignProjectDialog:function(){},assignProjectDialogExecuting:{},setAssignProjectDialogExecuting:function(){}};var Gc=Yc,qc=Object(st.a)((function(e){return{root:{flexGrow:1}}})),$c=function(e){var t=qc(),a=e.appState,r=e.ToggleDrawerClose,i=e.CheckAuthenticationValidity,c=Object(n.useState)(!0),s=Object(rt.a)(c,2),o=s[0],l=s[1],d=Object(n.useState)(!0),j=Object(rt.a)(d,2),b=j[0],u=j[1],p=Object(n.useState)(null),O=Object(rt.a)(p,2),m=O[0],x=O[1],y=Object(n.useState)(null),v=Object(rt.a)(y,2),C=v[0],w=v[1],k=Object(n.useState)(null),D=Object(rt.a)(k,2),P=D[0],_=D[1],I=Object(n.useState)(!1),A=Object(rt.a)(I,2),B=A[0],L=A[1],N=Object(n.useState)(!1),E=Object(rt.a)(N,2),T=E[0],U=E[1],M=Object(n.useState)(!1),F=Object(rt.a)(M,2),W=F[0],z=F[1],R=Object(n.useState)(!1),V=Object(rt.a)(R,2),Q=V[0],H=V[1],J=Object(n.useState)(!1),Y=Object(rt.a)(J,2),G=Y[0],q=Y[1],$=Object(n.useState)(!1),Z=Object(rt.a)($,2),K=Z[0],X=Z[1],ee=Object(n.useState)(!1),te=Object(rt.a)(ee,2),ae=te[0],ne=te[1],re=Object(n.useState)(!1),ie=Object(rt.a)(re,2),ce=ie[0],se=ie[1],oe=Object(n.useState)(!1),le=Object(rt.a)(oe,2),de=le[0],je=le[1],be=Object(n.useState)(!1),ue=Object(rt.a)(be,2),he=ue[0],pe=ue[1],Oe=Object(n.useState)(!1),me=Object(rt.a)(Oe,2),xe=me[0],fe=me[1],ge=Object(n.useState)(!1),ye=Object(rt.a)(ge,2),ve=ye[0],Ce=ye[1],Se=Object(n.useState)(new ct),we=Object(rt.a)(Se,2),ke=we[0],De=we[1],Pe=Object(n.useCallback)((function(e){var t=new Array;e&&Array.isArray(e)&&(o?e.forEach((function(e){t.push({_id:e._id,name:e.name,projectList:e.projectList,memberList:e.memberList,memberCollectionList:e.memberCollectionList,surveyList:e.surveyList,createdBy:e.createdBy,createdAt:e.createdAt,modifiedBy:e.modifiedBy,updatedAt:e.updatedAt})})):e.forEach((function(e){t.push({_id:e._id,collectionTemplate:e.collectionTemplate,completeness:e.completeness,memberSurveyList:e.memberSurveyList,member:e.member,createdBy:e.createdBy,createdAt:e.createdAt,modifiedBy:e.modifiedBy,updatedAt:e.updatedAt})}))),x([].concat(t)),w([].concat(t)),_([])}),[o]),_e=Object(n.useCallback)((function(){x(null),h("collections/",a.token,(function(e,t){e?De(new ct("Unable to retrieve Collections Templates. Please refresh and try again.","error")):200===t.status?Pe(t.data.collectionList):De(new ct("Unable to retrieve Collections Templates. Please refresh and try again.","error"))}))}),[Pe,a.token]),Ie=Object(n.useCallback)((function(){x(null),h("membercollections/",a.token,(function(e,t){e?De(new ct("Unable to retrieve Member Collections. Please refresh and try again.","error")):200===t.status?Pe(t.data.memberCollectionList):De(new ct("Unable to retrieve Member Collections. Please refresh and try again.","error"))}))}),[Pe,a.token]),Ae=Object(n.useCallback)((function(){o?_e():Ie()}),[o,_e,Ie]);return Object(n.useEffect)((function(){r(),setTimeout((function(){i((function(e){e?Ae():De(null)}))}),200)}),[]),Object(n.useEffect)((function(){Ae()}),[o]),Object(n.useEffect)((function(){w(m),_([])}),[m]),null!=ke?Object(g.jsxs)("div",{className:t.root,children:[Object(g.jsxs)(Ne.a,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"stretch",style:{height:"100%"},spacing:1,children:[Object(g.jsx)(Ne.a,{item:!0,xs:5,children:Object(g.jsx)(Ee.a,{mx:1,my:1,children:Object(g.jsx)(f.a,{variant:"h5",color:"inherit",align:"left",gutterBottom:!0,children:"Manage Services"})})}),Object(g.jsx)(Ne.a,{item:!0,xs:6,children:Object(g.jsx)(Ee.a,{mx:1,my:1,children:Object(g.jsx)(jt,{alert:ke,setParentAlert:De})})}),Object(g.jsx)(Ne.a,{item:!0,xs:12,children:Object(g.jsx)(Ee.a,{mx:1,my:1,boxShadow:3,children:Object(g.jsx)(Te.a,{raised:!0,children:Object(g.jsx)(Ne.a,{container:!0,direction:"column",justifyContent:"flex-start",alignItems:"stretch",spacing:0,children:m&&C&&P?Object(g.jsxs)(Ne.a,{item:!0,xs:12,children:[Object(g.jsx)(ur,{isDense:b,setIsDense:u,isTemplates:o,setIsTemplates:l,dataList:m,getParentData:_e,setSearchFilteredDataList:w,setCreateCollectionTemplateDialog:L,setCreateMemberCollectionDialog:z,setAssignMemberDialog:je,setAssignProjectDialog:fe,setParentAlert:De}),Object(g.jsx)(nr,{isDense:b,isTemplates:o,searchFilteredDataList:C,selectedDataItemsList:P,setSelectedDataItemsList:_,setParentDeleteCollectionDialog:ne,setParentExportCollectionDialog:q})]}):Object(g.jsx)(Ne.a,{item:!0,xs:12,container:!0,direction:"row",justifyContent:"center",alignItems:"stretch",spacing:1,children:Object(g.jsx)(Ne.a,{item:!0,children:Object(g.jsx)(Ee.a,{mx:1,my:1,boxShadow:0,children:Object(g.jsx)(S.a,{})})})})})})})})]}),Object(g.jsx)(vr,{createCollectionTemplateDialog:B,setCreateCollectionTemplateDialog:L,createCollectionTemplateDialogExecuting:T,setCreateCollectionTemplateDialogExecuting:U,setParentAlert:De,getParentData:_e,appState:a}),Object(g.jsx)(Rc,{createMemberCollectionDialog:W,setCreateMemberCollectionDialog:z,createMemberCollectionDialogExecuting:Q,setCreateMemberCollectionDialogExecuting:H,setParentAlert:De,getParentData:Ie,appState:a}),Object(g.jsx)(Hc,{assignMemberDialog:de,setAssignMemberDialog:je,assignMemberDialogExecuting:he,setAssignMemberDialogExecuting:pe,setParentAlert:De,getParentData:_e,selectedDataItemsList:P,appState:a}),Object(g.jsx)(Gc,{assignProjectDialog:xe,setAssignProjectDialog:fe,assignProjectDialogExecuting:ve,setAssignProjectDialogExecuting:Ce,setParentAlert:De,getParentData:_e,selectedDataItemsList:P,appState:a}),Object(g.jsx)(fr,{exportCollectionDialog:G,setExportCollectionDialog:q,exportCollectionDialogExecuting:K,setExportCollectionDialogExecuting:X,selectedDataItemsList:P,setParentAlert:De,getParentData:_e,isTemplates:o}),Object(g.jsx)(wr,{isTemplates:o,deleteCollectionDialog:ae,setDeleteCollectionDialog:ne,deleteCollectionDialogExecuting:ce,setDeleteCollectionDialogExecuting:se,selectedDataItemsList:P,setSelectedDataItemsList:_,setParentAlert:De,getParentData:_e,appState:a})]}):Object(g.jsx)(f.a,{variant:"h6",color:"inherit",align:"center",gutterBottom:!0,children:"Not Authorized. Please refresh and try again."})};$c.defaultProps={appState:{},ToggleDrawerClose:function(){},CheckAuthenticationValidity:function(){}};var Zc=$c,Kc=function(e){return Object(g.jsxs)(Ee.a,{display:"flex",alignItems:"center",children:[Object(g.jsx)(Ee.a,{width:"100%",mr:1,children:Object(g.jsx)(oi.a,Object(U.a)({variant:"determinate"},e))}),Object(g.jsx)(Ee.a,{minWidth:35,children:Object(g.jsx)(f.a,{variant:"body2",color:"textSecondary",children:"".concat(Math.round(e.value),"%")})})]})},Xc=function(e){return Object(g.jsxs)(Ee.a,{position:"relative",display:"inline-flex",children:[Object(g.jsx)(S.a,Object(U.a)(Object(U.a)({variant:"determinate"},e),{},{color:"secondary"})),Object(g.jsx)(Ee.a,{top:0,left:0,bottom:0,right:0,position:"absolute",display:"flex",alignItems:"center",justifyContent:"center",children:Object(g.jsx)(f.a,{variant:"caption",component:"div",color:"textSecondary",children:"".concat(Math.round(e.value),"%")})})]})},es="/staff/booklets/",ts=Object(st.a)((function(e){return{root:{flexGrow:1,height:"100%"},rootGrid:{height:"100%"}}})),as=function(e){var t=ts(),a=e.appState,r=e.CollectionID,i=e.ToggleDrawerClose,c=e.CheckAuthenticationValidity,s=Object(n.useState)(null),o=Object(rt.a)(s,2),l=o[0],d=o[1],j=Object(n.useState)(null),b=Object(rt.a)(j,2),u=b[0],p=b[1],O=Object(n.useState)(new ct),m=Object(rt.a)(O,2),x=m[0],y=m[1],v=Object(n.useCallback)((function(){null!=r?h("collections/"+r,a.token,(function(e,t){e?y(new ct("Unable to retrieve Collection. Please refresh and try again.","error")):200===t.status||304===t.status?(d(t.data.collection),y(new ct("Successfully pulled Collection.","success"))):y(new ct("Unable to retrieve Collection. Please refresh and try again.","error"))})):y(new ct("Unable to retrieve Collection. Please refresh and try again.","error"))}),[r,a]);return Object(n.useEffect)((function(){i(),setTimeout((function(){c((function(e){e?v():y(null)}))}),200)}),[]),Object(n.useEffect)((function(){p(l)}),[l]),null!=x?Object(g.jsx)("div",{className:t.root,children:Object(g.jsxs)(Ne.a,{container:!0,className:t.rootGrid,direction:"row",justifyContent:"flex-start",alignItems:"stretch",spacing:1,children:[Object(g.jsx)(Ne.a,{item:!0,xs:5,children:Object(g.jsx)(Ee.a,{mx:1,my:1,children:Object(g.jsx)(Ne.a,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"stretch",spacing:1,children:Object(g.jsx)(Ne.a,{item:!0,xs:!0,children:Object(g.jsxs)(f.a,{variant:"h4",color:"inherit",align:"left",gutterBottom:!0,children:["Viewing Collection ",l?'"'.concat(l._id,'"'):null]})})})})}),Object(g.jsx)(Ne.a,{item:!0,xs:6,children:Object(g.jsx)(Ee.a,{mx:1,my:1,children:Object(g.jsx)(jt,{alert:x,setParentAlert:y})})}),Object(g.jsx)(Ne.a,{item:!0,xs:12,children:Object(g.jsx)(Te.a,{raised:!0,children:Object(g.jsx)(Ee.a,{mx:2,my:1,boxShadow:0,children:Object(g.jsx)(Ne.a,{container:!0,direction:"column",justifyContent:"flex-start",alignItems:"stretch",spacing:1,children:u?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)(Ne.a,{item:!0,xs:12,container:!0,direction:"row",justifyContent:"space-between",alignItems:"stretch",spacing:1,children:[Object(g.jsxs)(Ne.a,{item:!0,children:[Object(g.jsx)(f.a,{variant:"h6",component:"h6",children:"Collection properties"}),Object(g.jsx)(R.a,{})]}),Object(g.jsx)(Ne.a,{item:!0,xs:!0,children:Object(g.jsx)(Ee.a,{mx:3,my:1,boxShadow:0,children:Object(g.jsxs)(Ne.a,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"stretch",spacing:1,children:[Object(g.jsx)(Ne.a,{item:!0,children:Object(g.jsxs)(f.a,{display:"block",component:"div",align:"left",gutterBottom:!0,children:[Object(g.jsx)(f.a,{display:"inline",variant:"body1",component:"div",color:"secondary",align:"left",gutterBottom:!0,children:"Patient:\xa0"}),Object(g.jsx)(f.a,{display:"inline",variant:"body1",component:"div",color:"textSecondary",align:"left",gutterBottom:!0,children:"".concat(u.patientId.info.name)})]})}),Object(g.jsx)(Ne.a,{item:!0,children:Object(g.jsxs)(f.a,{display:"block",component:"div",align:"left",gutterBottom:!0,children:[Object(g.jsx)(f.a,{display:"inline",variant:"body1",component:"div",color:"secondary",align:"left",gutterBottom:!0,children:"Patient ID:\xa0"}),Object(g.jsx)(f.a,{display:"inline",variant:"body1",component:"div",color:"textSecondary",align:"left",gutterBottom:!0,children:"".concat(u.patientId._id)})]})})]})})}),Object(g.jsx)(Ne.a,{item:!0,children:Object(g.jsx)(Qe.a,{placement:"left",title:"This page is to view the selected collection.",children:Object(g.jsx)(ye.a,{children:Object(g.jsx)(tn.a,{})})})})]}),Object(g.jsx)(Ne.a,{item:!0,xs:12,children:Object(g.jsx)(Ee.a,{mx:1,my:1,boxShadow:0,children:Object(g.jsxs)(Ne.a,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"stretch",spacing:1,children:[Object(g.jsx)(Ne.a,{item:!0,xs:2,children:Object(g.jsx)(ma.a,{label:"Collection ID",disabled:!0,size:"small",variant:"filled",fullWidth:!0,value:u._id})}),Object(g.jsx)(Ne.a,{item:!0,xs:2,children:Object(g.jsx)(ma.a,{label:"Updated",disabled:!0,size:"small",fullWidth:!0,variant:"filled",value:new Date(u.updatedAt).toLocaleString(),InputProps:{readOnly:!0}})}),Object(g.jsx)(Ne.a,{item:!0,xs:2,children:Object(g.jsx)(ma.a,{label:"Updated By",disabled:!0,size:"small",fullWidth:!0,variant:"filled",value:u.modifiedBy,InputProps:{readOnly:!0}})}),Object(g.jsx)(Ne.a,{item:!0,xs:2,children:Object(g.jsx)(ma.a,{label:"Created",disabled:!0,size:"small",fullWidth:!0,variant:"filled",value:new Date(u.createdAt).toLocaleString(),InputProps:{readOnly:!0}})}),Object(g.jsx)(Ne.a,{item:!0,xs:2,children:Object(g.jsx)(ma.a,{label:"Created By",disabled:!0,size:"small",fullWidth:!0,variant:"filled",value:u.createdBy,InputProps:{readOnly:!0}})})]})})}),Object(g.jsxs)(Ne.a,{item:!0,xs:12,container:!0,direction:"row",justifyContent:"space-between",alignItems:"stretch",spacing:1,children:[Object(g.jsxs)(Ne.a,{item:!0,children:[Object(g.jsx)(f.a,{variant:"h6",component:"h6",className:t.button,children:"Collection chapters"}),Object(g.jsx)(R.a,{})]}),Object(g.jsx)(Ne.a,{item:!0,xs:!0,children:Object(g.jsxs)(Ee.a,{mx:3,my:1,boxShadow:0,children:[Object(g.jsx)(f.a,{variant:"body2",color:"textSecondary",children:"".concat(u.chapterTemplates.length," total chapter").concat(u.chapterTemplates.length>1?"s":"")}),Object(g.jsx)(Kc,{value:u.overallCompleteness})]})})]}),Object(g.jsx)(Ne.a,{item:!0,xs:12,container:!0,direction:"row",justifyContent:"space-between",alignItems:"stretch",spacing:1,children:Object(g.jsx)(Ne.a,{item:!0,children:Object(g.jsx)(q.a,{dense:!1,children:u.memberChapters.map((function(e){var t="Admin"===a.role?"/administration/booklets/":"";return t="Coordinator"===a.role?es:t,t="Volunteer"===a.role?es:t,t="Patient"===a.role?"/client/booklets/":t,Object(g.jsxs)($.a,{dense:!1,divider:!0,children:[Object(g.jsx)(_r.a,{children:Object(g.jsx)(Xc,{value:e.completeStatus})}),Object(g.jsx)(K.a,{primary:e.name,secondary:e._id}),Object(g.jsx)(Pr.a,{children:Object(g.jsx)(Qe.a,{placement:"right",title:"Fill in Chapter",children:Object(g.jsx)(ye.a,{edge:"end","aria-label":"edit",size:"small",component:M.b,to:t+"user/edit/"+e._id,children:Object(g.jsx)(Wi.a,{})})})})]},e._id)}))})})})]}):Object(g.jsx)(Ne.a,{item:!0,xs:12,container:!0,direction:"row",justifyContent:"center",alignItems:"stretch",spacing:1,children:Object(g.jsx)(Ne.a,{item:!0,children:Object(g.jsx)(Ee.a,{mx:1,my:1,boxShadow:0,children:Object(g.jsx)(S.a,{})})})})})})})})]})}):Object(g.jsx)(f.a,{variant:"h6",color:"inherit",align:"center",gutterBottom:!0,children:"Not Authorized. Please refresh and try again."})};as.defaultProps={appState:{},CollectionID:{},ToggleDrawerClose:function(){},CheckAuthenticationValidity:function(){}};var ns=as,rs=Object(st.a)((function(e){return{root:{flexGrow:1,height:"100%"},rootGrid:{height:"100%"}}})),is=[{key:"ProjectName",value:"projectName",display:"Name"},{key:"ProjectId",value:"projectId",display:"ID"}],cs=function(e){rs();var t=e.setParentAlert,a=e.isDense,r=e.setIsDense,i=e.isTemplates,c=(e.setIsTemplates,e.dataList),s=e.getParentData,o=e.setSearchFilteredDataList,l=e.setCreateProjectDialog,d=e.setAssignMemberDialog,j=e.setAssignServiceDialog,b=Object(n.useState)(is[0].value),u=Object(rt.a)(b,2),h=u[0],p=u[1],O=Object(n.useState)(""),m=Object(rt.a)(O,2),x=m[0],y=m[1],v=Object(n.useCallback)((function(){try{s(),t(new ct("Refreshed initiated...","info"))}catch(e){}}),[s,t]),S=Object(n.useCallback)((function(){l(!0)}),[l]),w=Object(n.useCallback)((function(){d(!0)}),[d]),D=Object(n.useCallback)((function(){j(!0)}),[j]),_=Object(n.useCallback)((function(e){r(e.target.checked)}),[r]),I=Object(n.useCallback)((function(e){y(""),p(e.target.value)}),[p]),A=Object(n.useCallback)((function(e){var t=e.target.value.toUpperCase(),a=[];c.forEach((function(e){switch(h){case"projectName":e.name.toUpperCase().indexOf(t)>-1&&a.push(e);break;case"projectId":e._id.toUpperCase().indexOf(t)>-1&&a.push(e)}})),y(e.target.value),o(a)}),[c,o,h]);return Object(n.useEffect)((function(){y("")}),[c]),Object(n.useEffect)((function(){""===x&&o(c)}),[p,x]),Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(Ee.a,{mx:2,my:1,boxShadow:0,children:Object(g.jsxs)(Ne.a,{container:!0,direction:"column",justifyContent:"flex-start",alignItems:"stretch",spacing:1,children:[Object(g.jsxs)(Ne.a,{item:!0,xs:12,container:!0,direction:"row",justifyContent:"space-between",alignItems:"stretch",spacing:1,children:[Object(g.jsxs)(Ne.a,{item:!0,children:[Object(g.jsx)(f.a,{variant:"h6",component:"h6",children:"Manage"}),Object(g.jsx)(R.a,{})]}),Object(g.jsx)(Ne.a,{item:!0,xs:!0,children:Object(g.jsx)(Ee.a,{mx:3,my:1,boxShadow:0,children:Object(g.jsxs)(Ne.a,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"center",spacing:1,children:[Object(g.jsx)(Ne.a,{item:!0,children:Object(g.jsx)(Qe.a,{placement:"bottom",title:"Refresh Online Projects",children:Object(g.jsx)(C.a,{size:"small",variant:"contained",color:"primary",startIcon:Object(g.jsx)(cn.a,{}),onClick:function(){v()},children:"Refresh"})})}),Object(g.jsx)(Ne.a,{item:!0,children:Object(g.jsx)(Qe.a,{placement:"bottom",title:"Create Project",children:Object(g.jsx)(C.a,{size:"small",variant:"contained",color:"primary",disabled:!i,startIcon:Object(g.jsx)(nn.a,{}),onClick:function(){S()},children:"Create Project"})})}),Object(g.jsx)(Ne.a,{item:!0,children:Object(g.jsx)(Qe.a,{placement:"bottom",title:"Assign Members to Project",children:Object(g.jsx)(C.a,{size:"small",variant:"contained",color:"secondary",disabled:!i,startIcon:Object(g.jsx)(nn.a,{}),onClick:function(){w()},children:"Assign Member"})})}),Object(g.jsx)(Ne.a,{item:!0,children:Object(g.jsx)(Qe.a,{placement:"bottom",title:"Assign Services to Project",children:Object(g.jsx)(C.a,{size:"small",variant:"contained",color:"secondary",disabled:!i,startIcon:Object(g.jsx)(nn.a,{}),onClick:function(){D()},children:"Assign Services"})})})]})})}),Object(g.jsx)(Ne.a,{item:!0,children:Object(g.jsx)(Qe.a,{placement:"left",title:"Use this page to manage your projects. Any information that a patient has answered in a chapter along with its versions exist in the Chapter Tab. Otherwise, created chapter Templates exists in its own tab.",children:Object(g.jsx)(ye.a,{children:Object(g.jsx)(tn.a,{})})})})]}),Object(g.jsx)(Ne.a,{item:!0,xs:12,container:!0,direction:"column",justifyContent:"flex-start",alignItems:"stretch",spacing:1,children:Object(g.jsx)(Ee.a,{mx:1,my:1,boxShadow:0,children:Object(g.jsx)(Te.a,{children:Object(g.jsx)(Ee.a,{mx:1,my:1,boxShadow:0,children:Object(g.jsxs)(Ne.a,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"center",spacing:3,children:[Object(g.jsx)(Ne.a,{item:!0,children:Object(g.jsx)(f.a,{color:"textPrimary",variant:"subtitle2",children:"Table Options"})}),Object(g.jsx)(Ne.a,{item:!0,children:Object(g.jsx)(Ka.a,{control:Object(g.jsx)(Xa.a,{checked:a,onChange:function(e){_(e)}}),label:"Compact",labelPlacement:"end"})}),Object(g.jsx)(Ne.a,{item:!0,children:Object(g.jsxs)(k.a,{id:"search-filter-select-label",variant:"filled",size:"small",style:{minWidth:140},children:[Object(g.jsx)(P.a,{children:"Search Filter"}),Object(g.jsx)(Ve.a,{autoWidth:!0,labelId:"search-filter-select-label",value:h,onChange:function(e){I(e)},children:is.map((function(e){return Object(g.jsx)(ge.a,{value:e.value,children:Object(g.jsx)("em",{children:e.display})},e.key)}))})]})}),Object(g.jsx)(Ne.a,{item:!0,xs:!0,children:Object(g.jsx)(ma.a,{label:"Search",type:"search",size:"small",variant:"filled",fullWidth:!0,value:x,onChange:function(e){A(e)}})})]})})})})}),Object(g.jsx)(Ne.a,{item:!0,xs:12,container:!0,direction:"row",justifyContent:"flex-start",alignItems:"flex-start",spacing:1,children:Object(g.jsxs)(Ne.a,{item:!0,children:[Object(g.jsx)(f.a,{variant:"h6",component:"h6",children:"Table"}),Object(g.jsx)(R.a,{})]})})]})})})};cs.defaultProps={setParentAlert:function(){},setIsDense:function(){},setIsTemplates:function(){},dataList:{},getParentData:function(){},setSearchFilteredDataList:function(){},setCreateProjectDialog:function(){},setAssignServiceDialog:function(){}};var ss=cs,os=Object(st.a)((function(e){return{visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1}}})),ls=[{id:"projectName",numeric:!1,disablePadding:!0,label:"Project Name"},{id:"projectId",numeric:!1,disablePadding:!0,label:"Project ID"},{id:"memberList",numeric:!0,disablePadding:!1,label:"Associated Members"},{id:"collectionList",numeric:!0,disablePadding:!1,label:"Associated Services"},{id:"createdAt",numeric:!0,disablePadding:!1,label:"Date Created"},{id:"updatedAt",numeric:!0,disablePadding:!1,label:"Date Last Modified"}],ds=function(e){var t=os(),a=e.userID,r=e.isTemplates,i=e.onSelectAllClick,c=e.order,s=e.orderBy,o=e.numSelected,l=e.rowCount,d=e.onRequestSort,j=Object(n.useState)(null),b=Object(rt.a)(j,2),u=b[0],h=b[1],p=Object(n.useCallback)((function(e){return function(t){d(t,e)}}),[d]);return Object(n.useEffect)((function(){h(ls)}),[a,r]),Object(g.jsx)(ca.a,{children:Object(g.jsxs)(sa.a,{children:[Object(g.jsx)(ia.a,{padding:"checkbox",children:Object(g.jsx)(Aa.a,{indeterminate:o>0&&o<l,checked:l>0&&o===l,onChange:i,inputProps:{"aria-label":"select all"}})}),u?u.map((function(e){return Object(g.jsx)(ia.a,{align:e.numeric?"right":"left",padding:e.disablePadding?"none":"normal",sortDirection:s===e.id&&c,children:Object(g.jsxs)(Ia.a,{active:s===e.id,direction:s===e.id?c:"asc",onClick:p(e.id),children:[e.label,s===e.id?Object(g.jsx)("span",{className:t.visuallyHidden,children:"desc"===c?"sorted descending":"sorted ascending"}):null]})},e.id)})):null]})})};ds.defaultProps={userID:null,isTemplates:!0,numSelected:{},onRequestSort:function(){},onSelectAllClick:function(){},order:{},orderBy:{},rowCount:{}};var js=ds,bs=Object(st.a)((function(e){return{root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1)},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(Ua.d)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},title:{flex:"1 1 100%"}}})),us=function(e){var t=bs(),a=(e.appState,e.isTemplates),r=e.selectedDataItemsList,i=e.setParentDeleteProjectDialog,c=Object(n.useState)(!1),s=Object(rt.a)(c,2),o=s[0],l=s[1],d=Object(n.useState)(!1),j=Object(rt.a)(d,2),b=j[0],u=j[1],h=Object(n.useState)(!1),O=Object(rt.a)(h,2),m=O[0],x=O[1],y=Object(n.useCallback)((function(){0===r.length?(l(!0),u(!1),x(!1)):1===r.length?(l(!1),u(!0),x(!1)):r.length>1&&(l(!1),u(!1),x(!0))}),[r,l,u,x]),v=Object(n.useCallback)((function(){i(!0)}),[i]);return Object(n.useEffect)((function(){y()}),[r,y]),Object(n.useEffect)((function(){}),[o,b,m,a]),Object(g.jsxs)(xe.a,{className:Object(Ta.a)(t.root,Object(p.a)({},t.highlight,r.length>0)),children:[r.length>0?Object(g.jsxs)(f.a,{className:t.title,color:"inherit",variant:"subtitle1",component:"div",children:[r.length," Selected Item",r.length>1?"s":null]}):Object(g.jsx)(f.a,{className:t.title,variant:"h6",component:"div",children:"Project Results"}),o?Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(Qe.a,{title:"Filter list",children:Object(g.jsx)(ye.a,{"aria-label":"filter list",children:Object(g.jsx)(za.a,{})})})}):null,b?Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(Qe.a,{title:"Delete",children:Object(g.jsx)(ye.a,{"aria-label":"delete",onClick:function(){return v()},children:Object(g.jsx)(Fa.a,{})})})}):null,m?Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(Qe.a,{title:"Delete",children:Object(g.jsx)(ye.a,{"aria-label":"delete",onClick:function(){return v()},children:Object(g.jsx)(Fa.a,{})})})}):null]})};us.defaultProps={appState:{},selectedDataItemsList:{},setParentDeleteProjectDialog:function(){},isTemplates:!0};var hs=us,ps=function(e,t,a){return t[a]<e[a]?-1:t[a]>e[a]?1:0},Os=function(e,t){return"desc"===e?function(e,a){return ps(e,a,t)}:function(e,a){return-ps(e,a,t)}},ms=function(e,t){var a=e.map((function(e,t){return[e,t]}));return a.sort((function(e,a){var n=t(e[0],a[0]);return 0!==n?n:e[1]-a[1]})),a.map((function(e){return e[0]}))},xs=Object(st.a)((function(e){return{root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1)},tableRow:{cursor:"pointer"}}}));function fs(e){var t=xs(),a=e.appState,r=e.isDense,i=e.isTemplates,c=e.userID,s=e.searchFilteredDataList,o=e.setParentDeleteProjectDialog,l=e.selectedDataItemsList,d=e.setSelectedDataItemsList,j=Object(n.useState)("asc"),b=Object(rt.a)(j,2),u=b[0],h=b[1],p=Object(n.useState)("collectionId"),O=Object(rt.a)(p,2),m=O[0],x=O[1],y=Object(n.useState)(0),v=Object(rt.a)(y,2),S=v[0],w=v[1],k=Object(n.useState)(20),D=Object(rt.a)(k,2),P=D[0],I=D[1],A=P-Math.min(P,s.length-S*P),B=Object(n.useCallback)((function(e,t){h(m===t&&"asc"===u?"desc":"asc"),x(t)}),[u,h,m,x]),L=Object(n.useCallback)((function(e){if(e.target.checked){var t=[];return s.forEach((function(e){t.push(e)})),void d(t)}d([])}),[s,d]),N=Object(n.useCallback)((function(e,t){var a=l.map((function(e){return e._id})).indexOf(t._id),n=[];-1===a?n=n.concat(l,t):0===a?n=n.concat(l.slice(1)):a===l.length-1?n=n.concat(l.slice(0,-1)):a>0&&(n=n.concat(l.slice(0,a),l.slice(a+1))),d(n)}),[l,d]),E=Object(n.useCallback)((function(e){return-1!==l.map((function(e){return e._id})).indexOf(e._id)}),[l]),T=Object(n.useCallback)((function(e){w(e)}),[w]),U=Object(n.useCallback)((function(e){I(parseInt(e.target.value,10)),w(0)}),[I,w]);return Object(n.useEffect)((function(){w(0)}),[s]),Object(g.jsx)("div",{className:t.root,children:Object(g.jsx)(Ee.a,{mx:1,my:1,children:Object(g.jsxs)(_.a,{className:t.paper,children:[Object(g.jsx)(hs,{appState:a,isTemplates:i,selectedDataItemsList:l,setParentDeleteProjectDialog:o}),Object(g.jsx)(Ha.a,{children:Object(g.jsxs)(na.a,{className:t.table,"aria-labelledby":"tableTitle",size:r?"small":"medium","aria-label":"enhanced table",children:[Object(g.jsx)(js,{userID:c,numSelected:l.length,order:u,orderBy:m,onSelectAllClick:L,onRequestSort:B,rowCount:s.length,isTemplates:i}),Object(g.jsxs)(ra.a,{children:[ms(s,Os(u,m)).slice(S*P,S*P+P).map((function(e,a){var n=E(e),r="enhanced-table-checkbox-".concat(a);return Object(g.jsxs)(sa.a,{className:t.tableRow,hover:!0,onClick:function(t){return N(t,e)},role:"checkbox","aria-checked":n,tabIndex:-1,selected:n,children:[Object(g.jsx)(ia.a,{padding:"checkbox",children:Object(g.jsx)(Aa.a,{checked:n,inputProps:{"aria-labelledby":r}})}),Object(g.jsx)(ia.a,{component:"th",id:r,scope:"row",padding:"none",children:Object(g.jsx)(f.a,{color:"textPrimary",variant:"subtitle2",noWrap:!0,style:{display:"inline-block",width:"240px"},children:e.name})}),Object(g.jsx)(ia.a,{align:"left",padding:"none",children:Object(g.jsx)(f.a,{color:"secondary",variant:"body2",noWrap:!0,style:{display:"inline-block",width:"120px"},children:e._id})}),e.memberList&&e.collectionList?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(ia.a,{align:"right",padding:"normal",children:Object(g.jsx)(Qe.a,{title:Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(f.a,{color:"inherit",children:"Members"}),Object(g.jsx)("ol",{children:e.memberList.map((function(e,t){return Object(g.jsx)("li",{children:e.info.name},"subrow".concat(t,"-").concat(e._id))}))}),Object(g.jsx)("em",{children:"Members apart of this"})," ",Object(g.jsx)("b",{children:"Project"}),"."," "]}),placement:"top",children:Object(g.jsx)(C.a,{children:Object(g.jsx)(f.a,{color:"secondary",variant:"body2",noWrap:!0,style:{display:"inline-block",width:"120px"},children:e.memberList.length})})})}),Object(g.jsx)(ia.a,{align:"right",padding:"normal",children:Object(g.jsx)(Qe.a,{title:Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(f.a,{color:"inherit",children:"Service Templates"}),Object(g.jsx)("ol",{children:e.collectionList.map((function(e,t){return Object(g.jsx)("li",{children:e.name},"subrow".concat(t,"-").concat(e._id))}))}),Object(g.jsx)("em",{children:"Services apart of this"})," ",Object(g.jsx)("b",{children:"Project"}),"."," "]}),placement:"top",children:Object(g.jsx)(C.a,{children:Object(g.jsx)(f.a,{color:"secondary",variant:"body2",noWrap:!0,style:{display:"inline-block",width:"120px"},children:e.collectionList.length})})})})]}):Object(g.jsx)(g.Fragment,{}),Object(g.jsxs)(ia.a,{align:"right",children:[Object(g.jsx)(f.a,{color:"primary",variant:"body2",style:{display:"inline-block",width:"120px"},children:new Date(e.createdAt).toLocaleDateString()}),Object(g.jsx)(f.a,{color:"secondary",variant:"body2",style:{display:"inline-block",width:"120px"},children:new Date(e.createdAt).toLocaleTimeString()})]}),Object(g.jsxs)(ia.a,{align:"right",children:[Object(g.jsx)(f.a,{color:"primary",variant:"body2",style:{display:"inline-block",width:"120px"},children:new Date(e.updatedAt).toLocaleDateString()}),Object(g.jsx)(Ee.a,{component:"span",mr:1}),Object(g.jsx)(f.a,{color:"secondary",variant:"body2",style:{display:"inline-block",width:"120px"},children:new Date(e.updatedAt).toLocaleTimeString()})]})]},"row".concat(a,"-").concat(e._id))})),A>0&&Object(g.jsx)(sa.a,{style:{height:(r?33:53)*A},children:Object(g.jsx)(ia.a,{colSpan:6})})]})]})}),s.length>0?Object(g.jsx)(Ja.a,{rowsPerPageOptions:[5,10,15,20,25],component:"div",count:s.length,rowsPerPage:P,page:s.length<=P?0:S,onPageChange:function(e,t){T(t)},onRowsPerPageChange:U}):null]})})})}fs.defaultProps={appState:{},userID:null,searchFilteredDataList:{},setParentDeleteProjectDialog:function(){},selectedDataItemsList:{},setSelectedDataItemsList:function(){},isTemplates:!0};var gs=Object(st.a)((function(e){return{root:{flexGrow:1,height:"100%"},rootGrid:{height:"100%"}}})),ys=function(e){gs();var t=e.appState,a=e.setParentAlert,r=e.getParentData,i=(e.userID,e.createProjectDialog),c=e.setCreateProjectDialog,s=e.createProjectDialogExecuting,o=e.setCreateProjectDialogExecuting,l=Object(n.useState)(null),d=Object(rt.a)(l,2),j=(d[0],d[1]),b=Object(n.useState)(""),u=Object(rt.a)(b,2),p=(u[0],u[1],Object(n.useState)([])),O=Object(rt.a)(p,2),m=O[0],x=(O[1],Object(n.useState)("")),f=Object(rt.a)(x,2),y=f[0],v=f[1],w=Object(n.useCallback)((function(){h("collections/",t.token,(function(e,t){e?a(new ct("Unable to get public templates. Please refresh and try again.","error")):200===t.status?j(t.data.collectionList):a(new ct("Unable to get public templates. Please refresh and try again.","error"))}))}),[t]),k=Object(n.useCallback)((function(){if(y&&""!=y){var e={name:y,collectionList:[],createdBy:t._id,modifiedBy:t._id};Re("projects/",t.token,e,(function(e,t){e?a(new ct("Unable create project. Please refresh and try again.","error")):201===t.status?(r(),a(new ct("Collection created.","success"))):a(new ct("Unable create project. Please refresh and try again.","error"))}))}else a(new ct("Unable create project. Please make sure Template Name is and selected Chapter Templates are not empty.","error"))}),[t,y,m]),D=Object(n.useCallback)((function(e){v(e.target.value)}),[]),P=Object(n.useCallback)((function(){c(!1)}),[c]),_=Object(n.useCallback)((function(){try{o(!0),k(),o(!1),c(!1)}catch(e){}}),[o,k,c,a]);return Object(n.useEffect)((function(){w()}),[]),Object(g.jsx)(g.Fragment,{children:i?Object(g.jsxs)(ja.a,{id:"create-project-template-dialog",fullWidth:!0,maxWidth:"md",open:i,onClose:function(){P()},children:[Object(g.jsx)(ba.a,{children:"Create Project"}),Object(g.jsx)(ua.a,{children:s?Object(g.jsx)(S.a,{}):Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)(hn.a,{children:["Please select ",Object(g.jsx)("em",{children:Object(g.jsx)("u",{children:"Service(s)"})})," to be apart of this new ",Object(g.jsx)("em",{children:Object(g.jsx)("u",{children:"Project"})}),"."]}),Object(g.jsx)(Ee.a,{mx:1,my:1,boxShadow:0,children:Object(g.jsx)(Ne.a,{container:!0,direction:"column",justifyContent:"flex-start",alignItems:"stretch",spacing:1,children:Object(g.jsx)(Ne.a,{item:!0,children:Object(g.jsx)(ma.a,{label:"Project Name",size:"small",variant:"filled",error:""===y,fullWidth:!0,value:y,onChange:function(e){D(e)}})})})})]})}),Object(g.jsxs)(ha.a,{children:[Object(g.jsx)(C.a,{color:"primary",variant:"contained",onClick:function(){P()},disabled:s,children:"Cancel"}),Object(g.jsxs)(C.a,{color:"primary",variant:"contained",startIcon:Object(g.jsx)(nn.a,{}),onClick:function(){_()},disabled:s||""==y,children:[" ","Create"]})]})]}):null})};ys.defaultProps={appState:{},setParentAlert:function(){},getParentData:function(){},userID:null,setCreateProjectDialog:function(){},setCreateProjectDialogExecuting:function(){}};var vs=ys,Cs=Object(st.a)((function(e){return{root:{flexGrow:1,height:"100%"},rootGrid:{height:"100%"},margin:{margin:e.spacing(1)}}})),Ss=function(e){var t,a=Cs(),r=e.appState,i=e.setParentAlert,c=e.getParentData,s=(e.selectedDataItemsList,e.assignMemberDialog),o=e.setAssignMemberDialog,l=e.assignMemberDialogExecuting,d=e.setAssignMemberDialogExecuting,j=Object(n.useState)(""),b=Object(rt.a)(j,2),u=b[0],O=b[1],m=Object(n.useState)([]),x=Object(rt.a)(m,2),y=x[0],v=x[1],w=Object(n.useState)(null),D=Object(rt.a)(w,2),_=D[0],I=D[1],A=Object(n.useState)(""),B=Object(rt.a)(A,2),L=B[0],N=B[1],E=Object(n.useState)([]),T=Object(rt.a)(E,2),U=T[0],M=T[1],F=Object(n.useState)(null),W=Object(rt.a)(F,2),z=W[0],R=W[1],V=Object(n.useCallback)((function(e){var t=new Array;e&&Array.isArray(e)&&e.forEach((function(e){t.push({_id:e._id,name:e.name,memberList:e.memberList,collectionList:e.collectionList,createdBy:e.createdBy,createdAt:e.updatedAt,modifiedBy:e.modifiedBy,updatedAt:e.updatedAt})})),I([].concat(t))}),[r,I]),H=Object(n.useCallback)((function(e){var t=new Array;e&&Array.isArray(e)&&e.forEach((function(e){t.push({_id:e._id,name:e.info.name,role:e.role,createdAt:e.createdAt})})),R([].concat(t))}),[r,R]),J=Object(n.useCallback)((function(){h("projects/",r.token,(function(e,t){e?i(new ct("Unable to retrieve Projects. Please refresh and try again.","error")):200===t.status?V(t.data.projectList):i(new ct("Unable to retrieve Projects. Please refresh and try again.","error"))}))}),[r,H,i]),Y=Object(n.useCallback)((function(){if(1==y.length){var e={collectionList:{$in:y[0].collectionList}};Re("users/query",r.token,e,(function(e,t){e?i(new ct("Unable to retrieve Users. Please refresh and try again.","error")):200===t.status?H(t.data.response.users):i(new ct("Unable to retrieve Users. Please refresh and try again.","error"))}))}}),[r,H,i,y]),G=Object(n.useCallback)((function(){y.length>0&&U.length>0?y.forEach((function(e){var t=U.map((function(e){return e._id})),a={projectId:e._id,memberList:t};Re("projects/assign/member",r.token,a,(function(e,t){e?i(new ct("Unable to update projects. Please refresh and try again.","error")):200===t.status?(c(),i(new ct("Successfully updated projects.","success"))):i(new ct("Unable to update projects. Please refresh and try again.","error"))}))})):i(new ct("Unable to assign members to project. Please refresh and try again.","error"))}),[r,c,i,y,U]),q=Object(n.useCallback)((function(){o(!1),O(""),N(""),v(new Array),M(new Array)}),[o,O,N,v,M]),$=Object(n.useCallback)((function(){d(!0),G(),d(!1),o(!1)}),[G,d,o]),Z=Object(n.useCallback)((function(e){O(e.target.value)}),[O]),K=Object(n.useCallback)((function(e){N(e.target.value)}),[N]),X=Object(n.useCallback)((function(){if(u&&""!=u){var e=_.find((function(e){return e._id==u}));void 0!=e&&(v([].concat(Object(un.a)(y),[e])),O(""))}}),[u,_,v,y,O]),ee=Object(n.useCallback)((function(){if(L&&""!=L){var e=z.find((function(e){return e._id==L}));void 0!=e&&(M([].concat(Object(un.a)(U),[e])),N(""))}}),[L,z,M,U,N]),te=Object(n.useCallback)((function(e){var t=y;t.splice(y.findIndex((function(t){return t._id==e._id})),1),v(Object(un.a)(t))}),[y,v]),ae=Object(n.useCallback)((function(e){var t=U;t.splice(U.findIndex((function(t){return t._id==e._id})),1),M(Object(un.a)(t))}),[U,M]);return Object(n.useEffect)((function(){s&&J()}),[s,Y,J]),Object(n.useEffect)((function(){y.length>0?Y():(M([]),R(null))}),[y]),Object(g.jsx)(g.Fragment,{children:s?Object(g.jsxs)(ja.a,{id:"assign-member-dialog",fullWidth:!0,maxWidth:"md",open:s,onClose:function(){q()},children:[Object(g.jsx)(ba.a,{children:"Assign Member(s) to Project(s)"}),Object(g.jsx)(ua.a,{children:l?Object(g.jsx)(S.a,{}):Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)(hn.a,{children:["Please select ",Object(g.jsx)("em",{children:Object(g.jsx)("u",{children:"Members"})})," to be assigned to each the following ",Object(g.jsx)("em",{children:Object(g.jsx)("u",{children:"Projects"})}),"."]}),Object(g.jsx)(Ee.a,{mx:1,my:1,boxShadow:0,children:Object(g.jsxs)(Ne.a,{container:!0,direction:"column",justifyContent:"flex-start",alignItems:"stretch",spacing:1,children:[Object(g.jsx)(Ne.a,{item:!0,xs:!0,container:!0,direction:"row",justifyContent:"space-between",alignItems:"center",spacing:1,children:_?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(Ne.a,{item:!0,xs:11,children:Object(g.jsxs)(k.a,{id:"Projects-options-label",variant:"filled",size:"small",fullWidth:!0,disabled:!_,children:[Object(g.jsx)(P.a,{children:"Project"}),Object(g.jsxs)(Ve.a,{fullWidth:!0,labelId:"Projects-options-label",value:u,onChange:function(e){Z(e)},disabled:y.length>=1,children:[Object(g.jsx)(ge.a,{value:"",children:Object(g.jsx)("em",{children:"None"})}),_.map((function(e,t){return Object(g.jsx)(ge.a,{value:e._id,disabled:-1!=y.findIndex((function(t){return t._id==e._id})),children:Object(g.jsx)("em",{children:e.name})},"SelectOption".concat(e._id))}))]})]})}),Object(g.jsx)(Ne.a,{item:!0,xs:1,children:Object(g.jsx)(ye.a,{variant:"outlined",size:"medium",color:"inherit",onClick:function(){X()},disabled:""==u,children:Object(g.jsx)(Ca.a,{})})})]}):Object(g.jsx)(S.a,{})}),Object(g.jsx)(Ne.a,{item:!0,xs:!0,children:y?Object(g.jsxs)(Q.a,{in:y.length>0,children:[Object(g.jsxs)(f.a,{component:"div",variant:"body2",color:"textSecondary",gutterBottom:!0,children:[Object(g.jsx)("em",{children:"The following selected projects"})," ",Object(g.jsx)("u",{children:"to be assigned:"})]}),Object(g.jsx)(f.a,{component:"div",variant:"body2",color:"primary",gutterBottom:!0,children:Object(g.jsx)("ol",{children:y.map((function(e,t){return Object(g.jsxs)("li",{children:[e.name,Object(g.jsx)(ye.a,{"aria-label":"delete",className:a.margin,size:"small",onClick:function(e){te(e)},children:Object(g.jsx)(On.a,{fontSize:"inherit"})})]},"".concat(e._id).concat(t))}))})})]}):Object(g.jsx)(g.Fragment,{})}),Object(g.jsx)(Ne.a,{item:!0,xs:!0,container:!0,direction:"row",justifyContent:"space-between",alignItems:"center",spacing:1,children:z?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(Ne.a,{item:!0,xs:11,children:Object(g.jsxs)(k.a,{id:"Member-options-label",variant:"filled",size:"small",fullWidth:!0,disabled:!z,children:[Object(g.jsx)(P.a,{children:"Member"}),Object(g.jsxs)(Ve.a,{fullWidth:!0,labelId:"Member-options-label",value:L,onChange:function(e){K(e)},children:[Object(g.jsx)(ge.a,{value:"",children:Object(g.jsx)("em",{children:"None"})}),z.map((function(e,t){return Object(g.jsx)(ge.a,{value:e._id,disabled:-1!=U.findIndex((function(t){return t._id==e._id})),children:Object(g.jsx)("em",{children:e.name})},"SelectOption".concat(e._id))}))]})]})}),Object(g.jsx)(Ne.a,{item:!0,xs:1,children:Object(g.jsx)(ye.a,{variant:"outlined",size:"medium",color:"inherit",onClick:function(){ee()},disabled:""==L,children:Object(g.jsx)(Ca.a,{})})})]}):Object(g.jsx)(S.a,{})}),Object(g.jsx)(Ne.a,{item:!0,xs:!0,children:U?Object(g.jsxs)(Q.a,{in:U.length>0,children:[Object(g.jsxs)(f.a,{component:"div",variant:"body2",color:"textSecondary",gutterBottom:!0,children:[Object(g.jsx)("em",{children:"The following selected members"})," ",Object(g.jsx)("u",{children:"to be assigned by:"})]}),Object(g.jsx)(f.a,{component:"div",variant:"body2",color:"secondary",gutterBottom:!0,children:Object(g.jsx)("ol",{children:U.map((function(e,t){return Object(g.jsxs)("li",{children:[e.name,Object(g.jsx)(ye.a,{"aria-label":"delete",className:a.margin,size:"small",onClick:function(e){ae(e)},children:Object(g.jsx)(On.a,{fontSize:"inherit"})})]},"".concat(e._id).concat(t))}))})})]}):Object(g.jsx)(g.Fragment,{})})]})})]})}),Object(g.jsxs)(ha.a,{children:[Object(g.jsx)(C.a,{color:"primary",variant:"contained",onClick:function(){q()},disabled:l,children:"Cancel"}),Object(g.jsx)(C.a,(t={color:"primary",variant:"contained",startIcon:Object(g.jsx)(on.a,{}),onClick:function(){$()},disabled:l},Object(p.a)(t,"disabled",!(y.length>0&&U.length>0)),Object(p.a)(t,"children","Assign"),t))]})]}):null})};Ss.defaultProps={appState:{},setParentAlert:function(){},getParentData:function(){},selectedDataItemsList:{},assignMemberDialog:{},setAssignMemberDialog:function(){},assignMemberDialogExecuting:{},setAssignMemberDialogExecuting:function(){}};var ws=Ss,ks=Object(st.a)((function(e){return{root:{flexGrow:1,height:"100%"},rootGrid:{height:"100%"},margin:{margin:e.spacing(1)}}})),Ds=function(e){var t,a=ks(),r=e.appState,i=e.setParentAlert,c=e.getParentData,s=(e.selectedDataItemsList,e.assignServiceDialog),o=e.setAssignServiceDialog,l=e.assignServiceDialogExecuting,d=e.setAssignServiceDialogExecuting,j=Object(n.useState)(""),b=Object(rt.a)(j,2),u=b[0],O=b[1],m=Object(n.useState)([]),x=Object(rt.a)(m,2),y=x[0],v=x[1],w=Object(n.useState)(null),D=Object(rt.a)(w,2),_=D[0],I=D[1],A=Object(n.useState)(""),B=Object(rt.a)(A,2),L=B[0],N=B[1],E=Object(n.useState)([]),T=Object(rt.a)(E,2),U=T[0],M=T[1],F=Object(n.useState)(null),W=Object(rt.a)(F,2),z=W[0],R=W[1],V=Object(n.useCallback)((function(e){var t=new Array;e&&Array.isArray(e)&&e.forEach((function(e){t.push({_id:e._id,name:e.name,memberList:e.memberList,collectionList:e.collectionList,createdBy:e.createdBy,createdAt:e.updatedAt,modifiedBy:e.modifiedBy,updatedAt:e.updatedAt})})),I([].concat(t))}),[r,I]),H=Object(n.useCallback)((function(e){var t=new Array;e&&Array.isArray(e)&&e.forEach((function(e){t.push({_id:e._id,name:e.name,projectList:e.projectList,memberCollectionList:e.memberCollectionList,surveyList:e.surveyList,createdBy:e.createdBy,modifiedBy:e.modifiedBy})})),R([].concat(t))}),[r,R]),J=Object(n.useCallback)((function(){h("projects/",r.token,(function(e,t){e?i(new ct("Unable to retrieve Projects. Please refresh and try again.","error")):200===t.status?V(t.data.projectList):i(new ct("Unable to retrieve Projects. Please refresh and try again.","error"))}))}),[r,H,i]),Y=Object(n.useCallback)((function(){h("collections/",r.token,(function(e,t){e?i(new ct("Unable to retrieve Services. Please refresh and try again.","error")):200===t.status?H(t.data.collectionList):i(new ct("Unable to retrieve Services. Please refresh and try again.","error"))}))}),[r,H,i]),G=Object(n.useCallback)((function(){y.length>0&&U.length>0?y.forEach((function(e){var t=U.map((function(e){return e._id})),a={projectId:e._id,collectionList:t};Re("projects/assign/collection",r.token,a,(function(e,t){e?i(new ct("Unable to update projects. Please refresh and try again.","error")):200===t.status?(c(),i(new ct("Successfully updated projects.","success"))):i(new ct("Unable to update projects. Please refresh and try again.","error"))}))})):i(new ct("Unable to assign services to project. Please refresh and try again.","error"))}),[r,c,i,y,U]),q=Object(n.useCallback)((function(){o(!1),O(""),N(""),v(new Array),M(new Array)}),[o,O,N,v,M]),$=Object(n.useCallback)((function(){d(!0),G(),d(!1),o(!1)}),[G,d,o]),Z=Object(n.useCallback)((function(e){O(e.target.value)}),[O]),K=Object(n.useCallback)((function(e){N(e.target.value)}),[N]),X=Object(n.useCallback)((function(){if(u&&""!=u){var e=_.find((function(e){return e._id==u}));void 0!=e&&(v([].concat(Object(un.a)(y),[e])),O(""))}}),[u,_,v,y,O]),ee=Object(n.useCallback)((function(){if(L&&""!=L){var e=z.find((function(e){return e._id==L}));void 0!=e&&(M([].concat(Object(un.a)(U),[e])),N(""))}}),[L,z,M,U,N]),te=Object(n.useCallback)((function(e){var t=y;t.splice(y.findIndex((function(t){return t._id==e._id})),1),v(Object(un.a)(t))}),[y,v]),ae=Object(n.useCallback)((function(e){var t=U;t.splice(U.findIndex((function(t){return t._id==e._id})),1),M(Object(un.a)(t))}),[U,M]);return Object(n.useEffect)((function(){s&&(J(),Y())}),[s,Y,J]),Object(g.jsx)(g.Fragment,{children:s?Object(g.jsxs)(ja.a,{id:"assign-service-dialog",fullWidth:!0,maxWidth:"md",open:s,onClose:function(){q()},children:[Object(g.jsx)(ba.a,{children:"Assign Service(s) to Project(s)"}),Object(g.jsx)(ua.a,{children:l?Object(g.jsx)(S.a,{}):Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)(hn.a,{children:["Please select ",Object(g.jsx)("em",{children:Object(g.jsx)("u",{children:"Services"})})," to be assigned to each the following ",Object(g.jsx)("em",{children:Object(g.jsx)("u",{children:"Projects"})}),"."]}),Object(g.jsx)(Ee.a,{mx:1,my:1,boxShadow:0,children:Object(g.jsxs)(Ne.a,{container:!0,direction:"column",justifyContent:"flex-start",alignItems:"stretch",spacing:1,children:[Object(g.jsx)(Ne.a,{item:!0,xs:!0,container:!0,direction:"row",justifyContent:"space-between",alignItems:"center",spacing:1,children:_?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(Ne.a,{item:!0,xs:11,children:Object(g.jsxs)(k.a,{id:"Projects-options-label",variant:"filled",size:"small",fullWidth:!0,disabled:!_,children:[Object(g.jsx)(P.a,{children:"Project"}),Object(g.jsxs)(Ve.a,{fullWidth:!0,labelId:"Projects-options-label",value:u,onChange:function(e){Z(e)},disabled:y.length>=1,children:[Object(g.jsx)(ge.a,{value:"",children:Object(g.jsx)("em",{children:"None"})}),_.map((function(e,t){return Object(g.jsx)(ge.a,{value:e._id,disabled:-1!=y.findIndex((function(t){return t._id==e._id})),children:Object(g.jsx)("em",{children:e.name})},"SelectOption".concat(e._id))}))]})]})}),Object(g.jsx)(Ne.a,{item:!0,xs:1,children:Object(g.jsx)(ye.a,{variant:"outlined",size:"medium",color:"inherit",onClick:function(){X()},disabled:""==u,children:Object(g.jsx)(Ca.a,{})})})]}):Object(g.jsx)(S.a,{})}),Object(g.jsx)(Ne.a,{item:!0,xs:!0,children:y?Object(g.jsxs)(Q.a,{in:y.length>0,children:[Object(g.jsxs)(f.a,{component:"div",variant:"body2",color:"textSecondary",gutterBottom:!0,children:[Object(g.jsx)("em",{children:"The following selected projects"})," ",Object(g.jsx)("u",{children:"to be assigned:"})]}),Object(g.jsx)(f.a,{component:"div",variant:"body2",color:"primary",gutterBottom:!0,children:Object(g.jsx)("ol",{children:y.map((function(e,t){return Object(g.jsxs)("li",{children:[e.name,Object(g.jsx)(ye.a,{"aria-label":"delete",className:a.margin,size:"small",onClick:function(e){te(e)},children:Object(g.jsx)(On.a,{fontSize:"inherit"})})]},"".concat(e._id).concat(t))}))})})]}):Object(g.jsx)(g.Fragment,{})}),Object(g.jsx)(Ne.a,{item:!0,xs:!0,container:!0,direction:"row",justifyContent:"space-between",alignItems:"center",spacing:1,children:z?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(Ne.a,{item:!0,xs:11,children:Object(g.jsxs)(k.a,{id:"Services-options-label",variant:"filled",size:"small",fullWidth:!0,disabled:!z,children:[Object(g.jsx)(P.a,{children:"Service"}),Object(g.jsxs)(Ve.a,{fullWidth:!0,labelId:"Services-options-label",value:L,onChange:function(e){K(e)},children:[Object(g.jsx)(ge.a,{value:"",children:Object(g.jsx)("em",{children:"None"})}),z.map((function(e,t){return Object(g.jsx)(ge.a,{value:e._id,disabled:-1!=U.findIndex((function(t){return t._id==e._id})),children:Object(g.jsx)("em",{children:e.name})},"SelectOption".concat(e._id))}))]})]})}),Object(g.jsx)(Ne.a,{item:!0,xs:1,children:Object(g.jsx)(ye.a,{variant:"outlined",size:"medium",color:"inherit",onClick:function(){ee()},disabled:""==L,children:Object(g.jsx)(Ca.a,{})})})]}):Object(g.jsx)(S.a,{})}),Object(g.jsx)(Ne.a,{item:!0,xs:!0,children:U?Object(g.jsxs)(Q.a,{in:U.length>0,children:[Object(g.jsxs)(f.a,{component:"div",variant:"body2",color:"textSecondary",gutterBottom:!0,children:[Object(g.jsx)("em",{children:"The following selected services"})," ",Object(g.jsx)("u",{children:"to be assigned by:"})]}),Object(g.jsx)(f.a,{component:"div",variant:"body2",color:"secondary",gutterBottom:!0,children:Object(g.jsx)("ol",{children:U.map((function(e,t){return Object(g.jsxs)("li",{children:[e.name,Object(g.jsx)(ye.a,{"aria-label":"delete",className:a.margin,size:"small",onClick:function(e){ae(e)},children:Object(g.jsx)(On.a,{fontSize:"inherit"})})]},"".concat(e._id).concat(t))}))})})]}):Object(g.jsx)(g.Fragment,{})})]})})]})}),Object(g.jsxs)(ha.a,{children:[Object(g.jsx)(C.a,{color:"primary",variant:"contained",onClick:function(){q()},disabled:l,children:"Cancel"}),Object(g.jsx)(C.a,(t={color:"primary",variant:"contained",startIcon:Object(g.jsx)(on.a,{}),onClick:function(){$()},disabled:l},Object(p.a)(t,"disabled",!(y.length>0&&U.length>0)),Object(p.a)(t,"children","Assign"),t))]})]}):null})};Ds.defaultProps={appState:{},setParentAlert:function(){},getParentData:function(){},selectedDataItemsList:{},assignServiceDialog:{},setAssignServiceDialog:function(){},assignServiceDialogExecuting:{},setAssignServiceDialogExecuting:function(){}};var Ps=Ds,_s=Object(st.a)((function(e){return{root:{flexGrow:1,height:"100%"}}})),Is=function(e){_s();var t=e.appState,a=e.getParentData,r=e.setParentAlert,i=e.deleteProjectDialog,c=e.setDeleteProjectDialog,s=e.deleteProjectDialogExecuting,o=e.setDeleteProjectDialogExecuting,l=e.selectedDataItemsList,d=e.setSelectedDataItemsList,j=Object(n.useCallback)((function(){l?l.forEach((function(e){Bn("projects/"+e._id,t.token,(function(e,t){e?(c(!1),r(new ct("Unable to delete project(s). Please try again.","error"))):200===t.status?(a(),r(new ct("Successfully deleted project(s). You can continue working.","success"))):(c(!1),r(new ct("Unable to delete project(s). Please try again.","error")))}))})):(c(!1),r(new ct("Unable to delete project(s). Please try again.","error")))}),[t,l,c,r,a]),b=Object(n.useCallback)((function(){c(!1)}),[c]),u=Object(n.useCallback)((function(){try{o(!0),j(),o(!1),c(!1),d([])}catch(e){}}),[o,j,d,c]);return Object(g.jsx)(g.Fragment,{children:l?Object(g.jsxs)(ja.a,{id:"delete-project-dialog",fullWidth:!0,maxWidth:"md",open:i,onClose:function(){b()},children:[Object(g.jsxs)(ba.a,{children:["Delete project",1===l.length?null:"s"]}),Object(g.jsx)(ua.a,{children:s?Object(g.jsx)(S.a,{}):Object(g.jsx)(hn.a,{children:1===l.length?Object(g.jsx)(g.Fragment,{children:"Are you sure you would like to delete the project?"}):Object(g.jsx)(g.Fragment,{children:"Are you sure you would like to delete ".concat(l.length," projects?")})})}),Object(g.jsxs)(ha.a,{children:[Object(g.jsx)(C.a,{color:"primary",variant:"contained",onClick:function(){b()},disabled:s,children:"Cancel"}),Object(g.jsx)(C.a,{color:"primary",variant:"contained",startIcon:Object(g.jsx)(Fa.a,{}),onClick:function(){u()},disabled:s,children:"Delete"})]})]}):null})};Is.defaultProps={appState:{},getParentData:function(){},setParentAlert:function(){},deleteProjectDialog:{},setDeleteProjectDialog:function(){},deleteProjectDialogExecuting:{},setDeleteProjectDialogExecuting:function(){},selectedDataItemsList:{},setSelectedDataItemsList:function(){}};var As=Is,Bs=Object(st.a)((function(e){return{root:{flexGrow:1}}})),Ls=function(e){var t=Bs(),a=e.appState,r=e.ToggleDrawerClose,i=e.CheckAuthenticationValidity,c=Object(n.useState)(!0),s=Object(rt.a)(c,2),o=s[0],l=s[1],d=Object(n.useState)(!0),j=Object(rt.a)(d,2),b=j[0],u=j[1],p=Object(n.useState)(null),O=Object(rt.a)(p,2),m=O[0],x=O[1],y=Object(n.useState)(null),v=Object(rt.a)(y,2),C=v[0],w=v[1],k=Object(n.useState)(null),D=Object(rt.a)(k,2),P=D[0],_=D[1],I=Object(n.useState)(!1),A=Object(rt.a)(I,2),B=A[0],L=A[1],N=Object(n.useState)(!1),E=Object(rt.a)(N,2),T=E[0],U=E[1],M=Object(n.useState)(!1),F=Object(rt.a)(M,2),W=F[0],z=F[1],R=Object(n.useState)(!1),V=Object(rt.a)(R,2),Q=V[0],H=V[1],J=Object(n.useState)(!1),Y=Object(rt.a)(J,2),G=Y[0],q=Y[1],$=Object(n.useState)(!1),Z=Object(rt.a)($,2),K=Z[0],X=Z[1],ee=Object(n.useState)(!1),te=Object(rt.a)(ee,2),ae=te[0],ne=te[1],re=Object(n.useState)(!1),ie=Object(rt.a)(re,2),ce=ie[0],se=ie[1],oe=Object(n.useState)(new ct),le=Object(rt.a)(oe,2),de=le[0],je=le[1],be=Object(n.useCallback)((function(e){var t=new Array;e&&Array.isArray(e)&&e.forEach((function(e){t.push({_id:e._id,name:e.name,memberList:e.memberList,collectionList:e.collectionList,createdBy:e.createdBy,createdAt:e.createdAt,modifiedBy:e.modifiedBy,updatedAt:e.updatedAt})})),x([].concat(t)),w([].concat(t)),_([])}),[]),ue=Object(n.useCallback)((function(){x(null),h("projects/",a.token,(function(e,t){e?je(new ct("Unable to retrieve Projects. Please refresh and try again.","error")):200===t.status?be(t.data.projectList):je(new ct("Unable to retrieve Projects. Please refresh and try again.","error"))}))}),[be,a.token]),he=Object(n.useCallback)((function(){ue()}),[ue]);return Object(n.useEffect)((function(){r(),setTimeout((function(){i((function(e){e?he():je(null)}))}),200)}),[]),Object(n.useEffect)((function(){he()}),[o]),Object(n.useEffect)((function(){w(m),_([])}),[m]),null!=de?Object(g.jsxs)("div",{className:t.root,children:[Object(g.jsxs)(Ne.a,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"stretch",style:{height:"100%"},spacing:1,children:[Object(g.jsx)(Ne.a,{item:!0,xs:5,children:Object(g.jsx)(Ee.a,{mx:1,my:1,children:Object(g.jsx)(f.a,{variant:"h5",color:"inherit",align:"left",gutterBottom:!0,children:"Manage Projects"})})}),Object(g.jsx)(Ne.a,{item:!0,xs:6,children:Object(g.jsx)(Ee.a,{mx:1,my:1,children:Object(g.jsx)(jt,{alert:de,setParentAlert:je})})}),Object(g.jsx)(Ne.a,{item:!0,xs:12,children:Object(g.jsx)(Ee.a,{mx:1,my:1,boxShadow:3,children:Object(g.jsx)(Te.a,{raised:!0,children:Object(g.jsx)(Ne.a,{container:!0,direction:"column",justifyContent:"flex-start",alignItems:"stretch",spacing:0,children:m&&C&&P?Object(g.jsxs)(Ne.a,{item:!0,xs:12,children:[Object(g.jsx)(ss,{isDense:b,setIsDense:u,isTemplates:o,setIsTemplates:l,dataList:m,getParentData:ue,setSearchFilteredDataList:w,setCreateProjectDialog:L,setAssignMemberDialog:z,setAssignServiceDialog:q,setParentAlert:je}),Object(g.jsx)(fs,{isDense:b,isTemplates:o,searchFilteredDataList:C,selectedDataItemsList:P,setSelectedDataItemsList:_,setParentDeleteProjectDialog:ne})]}):Object(g.jsx)(Ne.a,{item:!0,xs:12,container:!0,direction:"row",justifyContent:"center",alignItems:"stretch",spacing:1,children:Object(g.jsx)(Ne.a,{item:!0,children:Object(g.jsx)(Ee.a,{mx:1,my:1,boxShadow:0,children:Object(g.jsx)(S.a,{})})})})})})})})]}),Object(g.jsx)(vs,{createProjectDialog:B,setCreateProjectDialog:L,createProjectDialogExecuting:T,setCreateProjectDialogExecuting:U,setParentAlert:je,getParentData:ue,appState:a}),Object(g.jsx)(ws,{assignMemberDialog:W,setAssignMemberDialog:z,assignMemberDialogExecuting:Q,setAssignMemberDialogExecuting:H,setParentAlert:je,getParentData:ue,selectedDataItemsList:P,appState:a}),Object(g.jsx)(Ps,{assignServiceDialog:G,setAssignServiceDialog:q,assignServiceDialogExecuting:K,setAssignServiceDialogExecuting:X,setParentAlert:je,getParentData:ue,selectedDataItemsList:P,appState:a}),Object(g.jsx)(As,{deleteProjectDialog:ae,setDeleteProjectDialog:ne,deleteProjectDialogExecuting:ce,setDeleteProjectDialogExecuting:se,selectedDataItemsList:P,setSelectedDataItemsList:_,setParentAlert:je,getParentData:ue,appState:a})]}):Object(g.jsx)(f.a,{variant:"h6",color:"inherit",align:"center",gutterBottom:!0,children:"Not Authorized. Please refresh and try again."})};Ls.defaultProps={appState:{},ToggleDrawerClose:function(){},CheckAuthenticationValidity:function(){}};var Ns=Ls,Es=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).toggleDrawerOpen=function(){n.setState({drawerOpen:!n.state.drawerOpen})},n.toggleDrawerClose=function(){n.setState({drawerOpen:!1})},n.toggleExportRender=function(){n.setState({renderForPDF:!0})},n.state={drawerOpen:!1,renderForPDF:!1},n}return Object(o.a)(a,[{key:"render",value:function(){var e=this,t=this.props.classes,a=this.state.renderForPDF;return Object(g.jsx)(M.a,{children:Object(g.jsxs)("div",{className:t.root,children:[Object(g.jsx)(w.a,{}),!a&&Object(g.jsx)(Le,{appState:this.props.appState,toggleDrawerOpen:this.toggleDrawerOpen,Logout:this.props.Logout}),Object(g.jsxs)(V.a,{className:t.drawer,variant:"persistent",anchor:"left",classes:{paper:t.drawerPaper},open:this.state.drawerOpen,children:[Object(g.jsx)("div",{className:t.toolbar}),Object(g.jsx)(R.a,{}),Object(g.jsx)(Oe,{appState:this.props.appState})]}),Object(g.jsxs)("main",{className:z()(t.content,Object(p.a)({},t.contentShift,this.state.drawerOpen)),children:[Object(g.jsx)("div",{className:t.toolbar}),Object(g.jsxs)(F.d,{children:[Object(g.jsx)(F.b,{exact:!0,path:"/",render:function(t){return Object(g.jsx)(ze,Object(U.a)(Object(U.a)({},t),{},{appState:e.props.appState,CheckAuthenticationValidity:e.props.CheckAuthenticationValidity,ToggleDrawerClose:e.toggleDrawerClose}))}}),Object(g.jsx)(F.b,{path:"/client/services/view/:collectionID",render:function(t){return Object(g.jsx)(ns,Object(U.a)(Object(U.a)({},t),{},{CollectionID:t.match.params.collectionID,appState:e.props.appState,CheckAuthenticationValidity:e.props.CheckAuthenticationValidity,ToggleDrawerClose:e.toggleDrawerClose}))}}),Object(g.jsx)(F.b,{path:"/client/booklets/user/edit/:bookletID",render:function(t){return Object(g.jsx)(Gi,Object(U.a)(Object(U.a)({},t),{},{ChapterID:t.match.params.bookletID,appState:e.props.appState,CheckAuthenticationValidity:e.props.CheckAuthenticationValidity,ToggleDrawerClose:e.toggleDrawerClose,mode:"Client"}))}}),Object(g.jsx)(F.b,{path:"/staff/users/view/:userID",render:function(t){return Object(g.jsx)(ji,Object(U.a)(Object(U.a)({},t),{},{userID:t.match.params.userID,appState:e.props.appState,CheckAuthenticationValidity:e.props.CheckAuthenticationValidity,ToggleDrawerClose:e.toggleDrawerClose}))}}),Object(g.jsx)(F.b,{path:"/staff/services/view/:collectionID",render:function(t){return Object(g.jsx)(ns,Object(U.a)(Object(U.a)({},t),{},{CollectionID:t.match.params.collectionID,appState:e.props.appState,CheckAuthenticationValidity:e.props.CheckAuthenticationValidity,ToggleDrawerClose:e.toggleDrawerClose}))}}),Object(g.jsx)(F.b,{path:"/staff/booklets/user/edit/:bookletID",render:function(t){return Object(g.jsx)(Gi,Object(U.a)(Object(U.a)({},t),{},{ChapterID:t.match.params.bookletID,appState:e.props.appState,CheckAuthenticationValidity:e.props.CheckAuthenticationValidity,ToggleDrawerClose:e.toggleDrawerClose}))},mode:"Staff"}),Object(g.jsx)(F.b,{path:"/reports",render:function(t){return Object(g.jsx)(Ht,Object(U.a)(Object(U.a)({},t),{},{appState:e.props.appState,CheckAuthenticationValidity:e.props.CheckAuthenticationValidity,ToggleDrawerClose:e.toggleDrawerClose}))}}),Object(g.jsx)(F.b,{path:"/ClientReports",render:function(t){return Object(g.jsx)(Gt,Object(U.a)(Object(U.a)({},t),{},{appState:e.props.appState,CheckAuthenticationValidity:e.props.CheckAuthenticationValidity,ToggleDrawerClose:e.toggleDrawerClose}))}}),Object(g.jsx)(F.b,{path:"/profile",render:function(t){return Object(g.jsx)(ji,Object(U.a)(Object(U.a)({},t),{},{userID:e.props.appState._id,appState:e.props.appState,CheckAuthenticationValidity:e.props.CheckAuthenticationValidity,ToggleDrawerClose:e.toggleDrawerClose}))}}),Object(g.jsx)(F.b,{path:"/members",render:function(t){return Object(g.jsx)(Mn,Object(U.a)(Object(U.a)({},t),{},{appState:e.props.appState,CheckAuthenticationValidity:e.props.CheckAuthenticationValidity,ToggleDrawerClose:e.toggleDrawerClose,mode:"Other"}))}}),Object(g.jsx)(F.b,{path:"/administration/users/edit/:profileID?",render:function(t){return Object(g.jsx)(mi,Object(U.a)(Object(U.a)({},t),{},{appState:e.props.appState,CheckAuthenticationValidity:e.props.CheckAuthenticationValidity,ToggleDrawerClose:e.toggleDrawerClose}))}}),Object(g.jsx)(F.b,{path:"/administration/users/research/:profileID?",render:function(t){return Object(g.jsx)(gi,Object(U.a)(Object(U.a)({},t),{},{appState:e.props.appState,CheckAuthenticationValidity:e.props.CheckAuthenticationValidity,ToggleDrawerClose:e.toggleDrawerClose}))}}),Object(g.jsx)(F.b,{path:"/administration/users/management",render:function(t){return Object(g.jsx)(Mn,Object(U.a)(Object(U.a)({},t),{},{appState:e.props.appState,CheckAuthenticationValidity:e.props.CheckAuthenticationValidity,ToggleDrawerClose:e.toggleDrawerClose,mode:"Admin"}))}}),Object(g.jsx)(F.b,{path:"/administration/users/view/:userID",render:function(t){return Object(g.jsx)(ji,Object(U.a)(Object(U.a)({},t),{},{userID:t.match.params.userID,appState:e.props.appState,CheckAuthenticationValidity:e.props.CheckAuthenticationValidity,ToggleDrawerClose:e.toggleDrawerClose}))}}),Object(g.jsx)(F.b,{path:"/administration/booklets/template/edit/:bookletID",render:function(t){return Object(g.jsx)(Mi,Object(U.a)(Object(U.a)({},t),{},{ChapterID:t.match.params.bookletID,appState:e.props.appState,CheckAuthenticationValidity:e.props.CheckAuthenticationValidity,ToggleDrawerClose:e.toggleDrawerClose}))}}),Object(g.jsx)(F.b,{path:"/administration/booklets/template/view/:bookletID",render:function(t){return Object(g.jsx)(Vi,Object(U.a)(Object(U.a)({},t),{},{ChapterID:t.match.params.bookletID,appState:e.props.appState,CheckAuthenticationValidity:e.props.CheckAuthenticationValidity,ToggleDrawerClose:e.toggleDrawerClose}))}}),Object(g.jsx)(F.b,{path:"/administration/booklets/user/edit/:bookletID",render:function(t){return Object(g.jsx)(Gi,Object(U.a)(Object(U.a)({},t),{},{ChapterID:t.match.params.bookletID,appState:e.props.appState,CheckAuthenticationValidity:e.props.CheckAuthenticationValidity,ToggleDrawerClose:e.toggleDrawerClose,mode:"Admin"}))}}),Object(g.jsx)(F.b,{path:"/administration/booklets/user/view/:bookletID",render:function(t){return Object(g.jsx)(Ki,Object(U.a)(Object(U.a)({},t),{},{ChapterID:t.match.params.bookletID,appState:e.props.appState,CheckAuthenticationValidity:e.props.CheckAuthenticationValidity,ToggleDrawerClose:e.toggleDrawerClose}))}}),Object(g.jsx)(F.b,{path:"/administration/booklets/management",render:function(t){return Object(g.jsx)(Uc,Object(U.a)(Object(U.a)({},t),{},{appState:e.props.appState,CheckAuthenticationValidity:e.props.CheckAuthenticationValidity,ToggleDrawerClose:e.toggleDrawerClose}))}}),Object(g.jsx)(F.b,{path:"/administration/services/management",render:function(t){return Object(g.jsx)(Zc,Object(U.a)(Object(U.a)({},t),{},{appState:e.props.appState,CheckAuthenticationValidity:e.props.CheckAuthenticationValidity,ToggleDrawerClose:e.toggleDrawerClose}))}}),Object(g.jsx)(F.b,{path:"/administration/services/view/:collectionID",render:function(t){return Object(g.jsx)(ns,Object(U.a)(Object(U.a)({},t),{},{CollectionID:t.match.params.collectionID,appState:e.props.appState,CheckAuthenticationValidity:e.props.CheckAuthenticationValidity,ToggleDrawerClose:e.toggleDrawerClose}))}}),Object(g.jsx)(F.b,{path:"/administration/projects/management",render:function(t){return Object(g.jsx)(Ns,Object(U.a)(Object(U.a)({},t),{},{appState:e.props.appState,CheckAuthenticationValidity:e.props.CheckAuthenticationValidity,ToggleDrawerClose:e.toggleDrawerClose}))}}),Object(g.jsx)(F.b,{component:Fc})]})]})]})})}}]),a}(n.Component),Ts=Object(I.a)((function(e){return{root:{display:"flex"},appBar:{zIndex:e.zIndex.drawer+1},menuButton:{marginRight:5},drawer:{width:240,flexShrink:0,whiteSpace:"nowrap"},drawerPaper:{width:240},toolbar:Object(U.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),content:{flexGrow:1,padding:e.spacing(3),transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),marginLeft:-240},contentShift:{transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginLeft:0}}}))(Es),Us=a(241),Ms=a(181),Fs=a.n(Ms),Ws=a(119),zs=a.n(Ws),Rs=a(201),Vs=a.n(Rs),Qs=a(182),Hs=a.n(Qs),Js=a(200),Ys=a.n(Js),Gs=Object(Us.a)({palette:{primary:{light:Fs.a[300],main:Fs.a[500],dark:Fs.a[700],contrastText:"#ffffff"},secondary:{light:zs.a[300],main:zs.a[500],dark:zs.a[700],contrastText:"#ffffff"},tertiary:{light:zs.a[300],main:zs.a[500],dark:zs.a[700],contrastText:"#ffffff"}},alignLeftSpacer:{marginLeft:"auto",marginRight:0},button:{margin:Ys.a.unit},card:{marginBottom:5},colorGreen:{color:N.a[500]},colorBlue:{color:Hs.a[500]},colorRed:{color:Vs.a[800]},error:{color:Vs.a[500],marginTop:10,marginBottom:10,marginLeft:5},flex:{display:"flex"},flexWrap:{display:"flex",flexWrap:"wrap"},marginTop:{marginTop:10},rightIcon:{marginLeft:Ys.a.unit},save:{color:Hs.a[500]},spinner:{color:N.a[500]},success:{color:Hs.a[500],marginTop:10,marginBottom:10,marginLeft:5},title:{marginBottom:5},typography:{useNextVariants:!0}}),qs=a(386),$s={spinner:{color:N.a[500],position:"absolute",left:"50%",top:"25%",marginTop:-12,marginLeft:-12}},Zs=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){n.CheckAuthentication()},n.CheckAuthentication=function(){var e=n.state.token;if(null===e||void 0===e||""===e){var t=localStorage.getItem("_id"),a=localStorage.getItem("name"),r=localStorage.getItem("role"),i=JSON.parse(localStorage.getItem("patients")),c=JSON.parse(localStorage.getItem("workers")),s=localStorage.getItem("facilityId"),o=localStorage.getItem("facilityName"),l=localStorage.getItem("token");null==t||null==a||null==r||null==i||null==c||null==l||null==s||null==o?n.Logout():n.setState({_id:t,name:a,role:r,patients:i,workers:c,facilityId:s,facilityName:o,token:l},(function(){return n.CheckAuthenticationValidity((function(e){e?n.setState({authenticated:!0,render:!0}):n.Logout()}))}))}else n.CheckAuthenticationValidity((function(e){e||n.Logout()}))},n.CheckAuthenticationValidity=function(e){var t=n.state.token;u(t,(function(t,a){t?(e(!1),n.Logout()):200===a.status||304===a.status?e(!0):(e(!1),n.Logout())}))},n.UpdateUser=function(){var e=n.state,t=e._id,a=e.token;return h("users/"+t,a,(function(e,t){e||200!==t.status&&304!==t.status||(localStorage.setItem("patients",JSON.stringify(t.data.user.patients)),localStorage.setItem("workers",JSON.stringify(t.data.user.workers)))}))},n.Login=function(e,t){localStorage.setItem("_id",t._id),localStorage.setItem("name",t.info.name),localStorage.setItem("role",t.role),localStorage.setItem("patients",JSON.stringify(t.patients)),localStorage.setItem("workers",JSON.stringify(t.workers)),localStorage.setItem("facilityId",t.facilityId._id),localStorage.setItem("facilityName",t.facilityId.name),localStorage.setItem("token",e),n.setState({_id:t._id,name:t.info.name,role:t.role,patients:t.patients,workers:t.workers,facilityId:t.facilityId._id,facilityName:t.facilityId.name,token:e,authenticated:!0})},n.Logout=function(){localStorage.removeItem("_id"),localStorage.removeItem("name"),localStorage.removeItem("role"),localStorage.removeItem("patients"),localStorage.removeItem("workers"),localStorage.removeItem("facilityId"),localStorage.removeItem("facilityName"),localStorage.removeItem("token"),n.setState({_id:null,role:null,name:null,token:null,patients:null,workers:null,authenticated:!1,render:!0})},n.state={_id:null,name:null,role:null,patients:[],workers:[],token:null,facilityId:null,facilityName:null,authenticated:!1,render:!1},n}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props.classes,t=this.state,a=t.authenticated,n=t.render;return n?a?Object(g.jsx)(qs.a,{theme:Gs,children:Object(g.jsx)(Ts,{appState:this.state,Logout:this.Logout,CheckAuthenticationValidity:this.CheckAuthenticationValidity,UpdateUser:this.UpdateUser})}):Object(g.jsx)(T,{Login:this.Login}):Object(g.jsx)("div",{align:"center",children:Object(g.jsx)(S.a,{className:e.spinner})})}}]),a}(n.Component),Ks=Object(I.a)($s)(Zs),Xs=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function eo(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}a(300).config(),c.a.render(Object(g.jsx)(Ks,{}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");Xs?(!function(e,t){fetch(e).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):eo(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")}))):eo(t,e)}))}}()}},[[304,1,3]]]);
//# sourceMappingURL=main.098c1d1d.chunk.js.map